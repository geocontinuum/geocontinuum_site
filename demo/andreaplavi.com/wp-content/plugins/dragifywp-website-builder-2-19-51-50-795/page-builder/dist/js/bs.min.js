!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};t.m=e,t.c=i,t.p="",t(0)}([function(e,exports,t){"use strict";t(1),t(327),t(328),t(345)},function(e,exports,t){(function(e){"use strict";function i(e,t,i){e[t]||Object[n](e,t,{writable:!0,configurable:!0,value:i})}if(t(2),t(323),t(324),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var n="defineProperty";i(String.prototype,"padLeft","".padStart),i(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&i(Array,e,Function.call.bind([][e]))})}).call(exports,function(){return this}())},function(e,exports,t){t(3),t(51),t(52),t(53),t(54),t(56),t(59),t(60),t(61),t(62),t(63),t(64),t(65),t(66),t(67),t(69),t(71),t(73),t(75),t(78),t(79),t(80),t(84),t(86),t(88),t(91),t(92),t(93),t(94),t(96),t(97),t(98),t(99),t(100),t(101),t(102),t(104),t(105),t(106),t(108),t(109),t(110),t(112),t(114),t(115),t(116),t(117),t(118),t(119),t(120),t(121),t(122),t(123),t(124),t(125),t(126),t(131),t(132),t(136),t(137),t(138),t(139),t(141),t(142),t(143),t(144),t(145),t(146),t(147),t(148),t(149),t(150),t(151),t(152),t(153),t(154),t(155),t(157),t(158),t(160),t(161),t(167),t(168),t(170),t(171),t(172),t(176),t(177),t(178),t(179),t(180),t(182),t(183),t(184),t(185),t(188),t(190),t(191),t(192),t(194),t(196),t(198),t(199),t(200),t(202),t(203),t(204),t(205),t(215),t(219),t(220),t(222),t(223),t(227),t(228),t(230),t(231),t(232),t(233),t(234),t(235),t(236),t(237),t(238),t(239),t(240),t(241),t(242),t(243),t(244),t(245),t(246),t(247),t(248),t(250),t(251),t(252),t(253),t(254),t(256),t(257),t(258),t(261),t(262),t(263),t(264),t(265),t(266),t(267),t(268),t(270),t(271),t(273),t(274),t(275),t(276),t(279),t(280),t(282),t(283),t(284),t(285),t(287),t(288),t(289),t(290),t(291),t(292),t(293),t(294),t(295),t(296),t(298),t(299),t(300),t(301),t(302),t(303),t(304),t(305),t(306),t(307),t(308),t(310),t(311),t(312),t(313),t(314),t(315),t(316),t(317),t(318),t(319),t(320),t(321),t(322),e.exports=t(9)},function(e,exports,t){"use strict";var i=t(4),n=t(5),r=t(6),o=t(8),a=t(18),s=t(22).KEY,l=t(7),c=t(23),d=t(24),u=t(19),p=t(25),f=t(26),g=t(27),m=t(29),_=t(44),v=t(12),h=t(13),y=t(32),w=t(16),b=t(17),k=t(45),x=t(48),S=t(50),P=t(11),C=t(30),E=S.f,D=P.f,T=x.f,N=i.Symbol,I=i.JSON,L=I&&I.stringify,M=p("_hidden"),O=p("toPrimitive"),A={}.propertyIsEnumerable,F=c("symbol-registry"),W=c("symbols"),j=c("op-symbols"),B=Object.prototype,R="function"==typeof N,G=i.QObject,z=!G||!G.prototype||!G.prototype.findChild,K=r&&l(function(){return 7!=k(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=E(B,t);n&&delete B[t],D(e,t,i),n&&e!==B&&D(B,t,n)}:D,V=function(e){var t=W[e]=k(N.prototype);return t._k=e,t},H=R&&"symbol"==typeof N.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof N},U=function(e,t,i){return e===B&&U(j,t,i),v(e),t=w(t,!0),v(i),n(W,t)?(i.enumerable?(n(e,M)&&e[M][t]&&(e[M][t]=!1),i=k(i,{enumerable:b(0,!1)})):(n(e,M)||D(e,M,b(1,{})),e[M][t]=!0),K(e,t,i)):D(e,t,i)},q=function(e,t){v(e);for(var i,n=m(t=y(t)),r=0,o=n.length;o>r;)U(e,i=n[r++],t[i]);return e},J=function(e,t){return void 0===t?k(e):q(k(e),t)},Y=function(e){var t=A.call(this,e=w(e,!0));return!(this===B&&n(W,e)&&!n(j,e))&&(!(t||!n(this,e)||!n(W,e)||n(this,M)&&this[M][e])||t)},Q=function(e,t){if(e=y(e),t=w(t,!0),e!==B||!n(W,t)||n(j,t)){var i=E(e,t);return!i||!n(W,t)||n(e,M)&&e[M][t]||(i.enumerable=!0),i}},X=function(e){for(var t,i=T(y(e)),r=[],o=0;i.length>o;)n(W,t=i[o++])||t==M||t==s||r.push(t);return r},Z=function(e){for(var t,i=e===B,r=T(i?j:y(e)),o=[],a=0;r.length>a;)!n(W,t=r[a++])||i&&!n(B,t)||o.push(W[t]);return o};R||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var e=u(arguments.length>0?arguments[0]:void 0),t=function(i){this===B&&t.call(j,i),n(this,M)&&n(this[M],e)&&(this[M][e]=!1),K(this,e,b(1,i))};return r&&z&&K(B,e,{configurable:!0,set:t}),V(e)},a(N.prototype,"toString",function(){return this._k}),S.f=Q,P.f=U,t(49).f=x.f=X,t(43).f=Y,t(42).f=Z,r&&!t(28)&&a(B,"propertyIsEnumerable",Y,!0),f.f=function(e){return V(p(e))}),o(o.G+o.W+o.F*!R,{Symbol:N});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)p(ee[te++]);for(var ie=C(p.store),ne=0;ie.length>ne;)g(ie[ne++]);o(o.S+o.F*!R,"Symbol",{for:function(e){return n(F,e+="")?F[e]:F[e]=N(e)},keyFor:function(e){if(!H(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),o(o.S+o.F*!R,"Object",{create:J,defineProperty:U,defineProperties:q,getOwnPropertyDescriptor:Q,getOwnPropertyNames:X,getOwnPropertySymbols:Z}),I&&o(o.S+o.F*(!R||l(function(){var e=N();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))})),"JSON",{stringify:function(e){for(var t,i,n=[e],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=t=n[1],(h(t)||void 0!==e)&&!H(e))return _(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!H(t))return t}),n[1]=t,L.apply(I,n)}}),N.prototype[O]||t(10)(N.prototype,O,N.prototype.valueOf),d(N,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(e,exports){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e,exports){var t={}.hasOwnProperty;e.exports=function(e,i){return t.call(e,i)}},function(e,exports,t){e.exports=!t(7)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,exports){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,exports,t){var i=t(4),n=t(9),r=t(10),o=t(18),a=t(20),s=function(e,t,l){var c,d,u,p,f=e&s.F,g=e&s.G,m=e&s.S,_=e&s.P,v=e&s.B,h=g?i:m?i[t]||(i[t]={}):(i[t]||{}).prototype,exports=g?n:n[t]||(n[t]={}),y=exports.prototype||(exports.prototype={});g&&(l=t);for(c in l)d=!f&&h&&void 0!==h[c],u=(d?h:l)[c],p=v&&d?a(u,i):_&&"function"==typeof u?a(Function.call,u):u,h&&o(h,c,u,e&s.U),exports[c]!=u&&r(exports,c,p),_&&y[c]!=u&&(y[c]=u)};i.core=n,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,exports){var t=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=t)},function(e,exports,t){var i=t(11),n=t(17);e.exports=t(6)?function(e,t,r){return i.f(e,t,n(1,r))}:function(e,t,i){return e[t]=i,e}},function(e,exports,t){var i=t(12),n=t(14),r=t(16),o=Object.defineProperty;exports.f=t(6)?Object.defineProperty:function(e,t,a){if(i(e),t=r(t,!0),i(a),n)try{return o(e,t,a)}catch(e){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");return"value"in a&&(e[t]=a.value),e}},function(e,exports,t){var i=t(13);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,exports){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,exports,t){e.exports=!t(6)&&!t(7)(function(){return 7!=Object.defineProperty(t(15)("div"),"a",{get:function(){return 7}}).a})},function(e,exports,t){var i=t(13),n=t(4).document,r=i(n)&&i(n.createElement);e.exports=function(e){return r?n.createElement(e):{}}},function(e,exports,t){var i=t(13);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,exports){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,exports,t){var i=t(4),n=t(10),r=t(5),o=t(19)("src"),a=Function.toString,s=(""+a).split("toString");t(9).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,a,l){var c="function"==typeof a;c&&(r(a,"name")||n(a,"name",t)),e[t]!==a&&(c&&(r(a,o)||n(a,o,e[t]?""+e[t]:s.join(String(t)))),e===i?e[t]=a:l?e[t]?e[t]=a:n(e,t,a):(delete e[t],n(e,t,a)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||a.call(this)})},function(e,exports){var t=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+i).toString(36))}},function(e,exports,t){var i=t(21);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,exports){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,exports,t){var i=t(19)("meta"),n=t(13),r=t(5),o=t(11).f,a=0,s=Object.isExtensible||function(){return!0},l=!t(7)(function(){return s(Object.preventExtensions({}))}),c=function(e){o(e,i,{value:{i:"O"+ ++a,w:{}}})},d=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,i)){if(!s(e))return"F";if(!t)return"E";c(e)}return e[i].i},u=function(e,t){if(!r(e,i)){if(!s(e))return!0;if(!t)return!1;c(e)}return e[i].w},p=function(e){return l&&f.NEED&&s(e)&&!r(e,i)&&c(e),e},f=e.exports={KEY:i,NEED:!1,fastKey:d,getWeak:u,onFreeze:p}},function(e,exports,t){var i=t(4),n=i["__core-js_shared__"]||(i["__core-js_shared__"]={});e.exports=function(e){return n[e]||(n[e]={})}},function(e,exports,t){var i=t(11).f,n=t(5),r=t(25)("toStringTag");e.exports=function(e,t,o){e&&!n(e=o?e:e.prototype,r)&&i(e,r,{configurable:!0,value:t})}},function(e,exports,t){var i=t(23)("wks"),n=t(19),r=t(4).Symbol,o="function"==typeof r;(e.exports=function(e){return i[e]||(i[e]=o&&r[e]||(o?r:n)("Symbol."+e))}).store=i},function(e,exports,t){exports.f=t(25)},function(e,exports,t){var i=t(4),n=t(9),r=t(28),o=t(26),a=t(11).f;e.exports=function(e){var t=n.Symbol||(n.Symbol=r?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:o.f(e)})}},function(e,exports){e.exports=!1},function(e,exports,t){var i=t(30),n=t(42),r=t(43);e.exports=function(e){var t=i(e),o=n.f;if(o)for(var a,s=o(e),l=r.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},function(e,exports,t){var i=t(31),n=t(41);e.exports=Object.keys||function(e){return i(e,n)}},function(e,exports,t){var i=t(5),n=t(32),r=t(36)(!1),o=t(40)("IE_PROTO");e.exports=function(e,t){var a,s=n(e),l=0,c=[];for(a in s)a!=o&&i(s,a)&&c.push(a);for(;t.length>l;)i(s,a=t[l++])&&(~r(c,a)||c.push(a));return c}},function(e,exports,t){var i=t(33),n=t(35);e.exports=function(e){return i(n(e))}},function(e,exports,t){var i=t(34);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,exports){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,exports){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,exports,t){var i=t(32),n=t(37),r=t(39);e.exports=function(e){return function(t,o,a){var s,l=i(t),c=n(l.length),d=r(a,c);if(e&&o!=o){for(;c>d;)if((s=l[d++])!=s)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===o)return e||d||0;return!e&&-1}}},function(e,exports,t){var i=t(38),n=Math.min;e.exports=function(e){return e>0?n(i(e),9007199254740991):0}},function(e,exports){var t=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:t)(e)}},function(e,exports,t){var i=t(38),n=Math.max,r=Math.min;e.exports=function(e,t){return e=i(e),e<0?n(e+t,0):r(e,t)}},function(e,exports,t){var i=t(23)("keys"),n=t(19);e.exports=function(e){return i[e]||(i[e]=n(e))}},function(e,exports){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,exports){exports.f=Object.getOwnPropertySymbols},function(e,exports){exports.f={}.propertyIsEnumerable},function(e,exports,t){var i=t(34);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,exports,t){var i=t(12),n=t(46),r=t(41),o=t(40)("IE_PROTO"),a=function(){},s=function(){var e,i=t(15)("iframe"),n=r.length;for(i.style.display="none",t(47).appendChild(i),i.src="javascript:",e=i.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;n--;)delete s.prototype[r[n]];return s()};e.exports=Object.create||function(e,t){var r;return null!==e?(a.prototype=i(e),r=new a,a.prototype=null,r[o]=e):r=s(),void 0===t?r:n(r,t)}},function(e,exports,t){var i=t(11),n=t(12),r=t(30);e.exports=t(6)?Object.defineProperties:function(e,t){n(e);for(var o,a=r(t),s=a.length,l=0;s>l;)i.f(e,o=a[l++],t[o]);return e}},function(e,exports,t){var i=t(4).document;e.exports=i&&i.documentElement},function(e,exports,t){var i=t(32),n=t(49).f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return n(e)}catch(e){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==r.call(e)?a(e):n(i(e))}},function(e,exports,t){var i=t(31),n=t(41).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(e){return i(e,n)}},function(e,exports,t){var i=t(43),n=t(17),r=t(32),o=t(16),a=t(5),s=t(14),l=Object.getOwnPropertyDescriptor;exports.f=t(6)?l:function(e,t){if(e=r(e),t=o(t,!0),s)try{return l(e,t)}catch(e){}if(a(e,t))return n(!i.f.call(e,t),e[t])}},function(e,exports,t){var i=t(8);i(i.S,"Object",{create:t(45)})},function(e,exports,t){var i=t(8);i(i.S+i.F*!t(6),"Object",{defineProperty:t(11).f})},function(e,exports,t){var i=t(8);i(i.S+i.F*!t(6),"Object",{defineProperties:t(46)})},function(e,exports,t){var i=t(32),n=t(50).f;t(55)("getOwnPropertyDescriptor",function(){return function(e,t){return n(i(e),t)}})},function(e,exports,t){var i=t(8),n=t(9),r=t(7);e.exports=function(e,t){var o=(n.Object||{})[e]||Object[e],a={};a[e]=t(o),i(i.S+i.F*r(function(){o(1)}),"Object",a)}},function(e,exports,t){var i=t(57),n=t(58);t(55)("getPrototypeOf",function(){return function(e){return n(i(e))}})},function(e,exports,t){var i=t(35);e.exports=function(e){return Object(i(e))}},function(e,exports,t){var i=t(5),n=t(57),r=t(40)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),i(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,exports,t){var i=t(57),n=t(30);t(55)("keys",function(){return function(e){return n(i(e))}})},function(e,exports,t){t(55)("getOwnPropertyNames",function(){return t(48).f})},function(e,exports,t){var i=t(13),n=t(22).onFreeze;t(55)("freeze",function(e){return function(t){return e&&i(t)?e(n(t)):t}})},function(e,exports,t){var i=t(13),n=t(22).onFreeze;t(55)("seal",function(e){return function(t){return e&&i(t)?e(n(t)):t}})},function(e,exports,t){var i=t(13),n=t(22).onFreeze;t(55)("preventExtensions",function(e){return function(t){return e&&i(t)?e(n(t)):t}})},function(e,exports,t){var i=t(13);t(55)("isFrozen",function(e){return function(t){return!i(t)||!!e&&e(t)}})},function(e,exports,t){var i=t(13);t(55)("isSealed",function(e){return function(t){return!i(t)||!!e&&e(t)}})},function(e,exports,t){var i=t(13);t(55)("isExtensible",function(e){return function(t){return!!i(t)&&(!e||e(t))}})},function(e,exports,t){var i=t(8);i(i.S+i.F,"Object",{assign:t(68)})},function(e,exports,t){"use strict";var i=t(30),n=t(42),r=t(43),o=t(57),a=t(33),s=Object.assign;e.exports=!s||t(7)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=s({},e)[i]||Object.keys(s({},t)).join("")!=n})?function(e,t){for(var s=o(e),l=arguments.length,c=1,d=n.f,u=r.f;l>c;)for(var p,f=a(arguments[c++]),g=d?i(f).concat(d(f)):i(f),m=g.length,_=0;m>_;)u.call(f,p=g[_++])&&(s[p]=f[p]);return s}:s},function(e,exports,t){var i=t(8);i(i.S,"Object",{is:t(70)})},function(e,exports){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,exports,t){var i=t(8);i(i.S,"Object",{setPrototypeOf:t(72).set})},function(e,exports,t){var i=t(13),n=t(12),r=function(e,t){if(n(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,i,n){try{n=t(20)(Function.call,t(50).f(Object.prototype,"__proto__").set,2),n(e,[]),i=!(e instanceof Array)}catch(e){i=!0}return function(e,t){return r(e,t),i?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:r}},function(e,exports,t){"use strict";var i=t(74),n={};n[t(25)("toStringTag")]="z",n+""!="[object z]"&&t(18)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(e,exports,t){var i=t(34),n=t(25)("toStringTag"),r="Arguments"==i(function(){return arguments}()),o=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,a,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=o(t=Object(e),n))?a:r?i(t):"Object"==(s=i(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,exports,t){var i=t(8);i(i.P,"Function",{bind:t(76)})},function(e,exports,t){"use strict";var i=t(21),n=t(13),r=t(77),o=[].slice,a={},s=function(e,t,i){if(!(t in a)){for(var n=[],r=0;r<t;r++)n[r]="a["+r+"]";a[t]=Function("F,a","return new F("+n.join(",")+")")}return a[t](e,i)};e.exports=Function.bind||function(e){var t=i(this),a=o.call(arguments,1),l=function(){var i=a.concat(o.call(arguments));return this instanceof l?s(t,i.length,i):r(t,i,e)};return n(t.prototype)&&(l.prototype=t.prototype),l}},function(e,exports){e.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},function(e,exports,t){var i=t(11).f,n=Function.prototype,r=/^\s*function ([^ (]*)/;"name"in n||t(6)&&i(n,"name",{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(e){return""}}})},function(e,exports,t){"use strict";var i=t(13),n=t(58),r=t(25)("hasInstance"),o=Function.prototype;r in o||t(11).f(o,r,{value:function(e){if("function"!=typeof this||!i(e))return!1;if(!i(this.prototype))return e instanceof this;for(;e=n(e);)if(this.prototype===e)return!0;return!1}})},function(e,exports,t){var i=t(8),n=t(81);i(i.G+i.F*(parseInt!=n),{parseInt:n})},function(e,exports,t){var i=t(4).parseInt,n=t(82).trim,r=t(83),o=/^[-+]?0[xX]/;e.exports=8!==i(r+"08")||22!==i(r+"0x16")?function(e,t){var r=n(String(e),3);return i(r,t>>>0||(o.test(r)?16:10))}:i},function(e,exports,t){var i=t(8),n=t(35),r=t(7),o=t(83),a="["+o+"]",s="​",l=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),d=function(e,t,n){var a={},l=r(function(){return!!o[e]()||s[e]()!=s}),c=a[e]=l?t(u):o[e];n&&(a[n]=c),i(i.P+i.F*l,"String",a)},u=d.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=d},function(e,exports){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,exports,t){var i=t(8),n=t(85);i(i.G+i.F*(parseFloat!=n),{parseFloat:n})},function(e,exports,t){var i=t(4).parseFloat,n=t(82).trim;e.exports=1/i(t(83)+"-0")!=-1/0?function(e){var t=n(String(e),3),r=i(t);return 0===r&&"-"==t.charAt(0)?-0:r}:i},function(e,exports,t){"use strict";var i=t(4),n=t(5),r=t(34),o=t(87),a=t(16),s=t(7),l=t(49).f,c=t(50).f,d=t(11).f,u=t(82).trim,p=i.Number,f=p,g=p.prototype,m="Number"==r(t(45)(g)),_="trim"in String.prototype,v=function(e){var t=a(e,!1);if("string"==typeof t&&t.length>2){t=_?t.trim():u(t,3);var i,n,r,o=t.charCodeAt(0);if(43===o||45===o){if(88===(i=t.charCodeAt(2))||120===i)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+t}for(var s,l=t.slice(2),c=0,d=l.length;c<d;c++)if((s=l.charCodeAt(c))<48||s>r)return NaN;return parseInt(l,n)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof p&&(m?s(function(){g.valueOf.call(i)}):"Number"!=r(i))?o(new f(v(t)),i,p):v(t)};for(var h,y=t(6)?l(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;y.length>w;w++)n(f,h=y[w])&&!n(p,h)&&d(p,h,c(f,h));p.prototype=g,g.constructor=p,t(18)(i,"Number",p)}},function(e,exports,t){var i=t(13),n=t(72).set;e.exports=function(e,t,r){var o,a=t.constructor;return a!==r&&"function"==typeof a&&(o=a.prototype)!==r.prototype&&i(o)&&n&&n(e,o),e}},function(e,exports,t){"use strict";var i=t(8),n=t(38),r=t(89),o=t(90),a=1..toFixed,s=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",d=function(e,t){for(var i=-1,n=t;++i<6;)n+=e*l[i],l[i]=n%1e7,n=s(n/1e7)},u=function(e){for(var t=6,i=0;--t>=0;)i+=l[t],l[t]=s(i/e),i=i%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==l[e]){var i=String(l[e]);t=""===t?i:t+o.call("0",7-i.length)+i}return t},f=function(e,t,i){return 0===t?i:t%2==1?f(e,t-1,i*e):f(e*e,t/2,i)},g=function(e){for(var t=0,i=e;i>=4096;)t+=12,i/=4096;for(;i>=2;)t+=1,i/=2;return t};i(i.P+i.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!t(7)(function(){a.call({})})),"Number",{toFixed:function(e){var t,i,a,s,l=r(this,c),m=n(e),_="",v="0";if(m<0||m>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(_="-",l=-l),l>1e-21)if(t=g(l*f(2,69,1))-69,i=t<0?l*f(2,-t,1):l/f(2,t,1),i*=4503599627370496,(t=52-t)>0){for(d(0,i),a=m;a>=7;)d(1e7,0),a-=7;for(d(f(10,a,1),0),a=t-1;a>=23;)u(1<<23),a-=23;u(1<<a),d(1,1),u(2),v=p()}else d(0,i),d(1<<-t,0),v=p()+o.call("0",m);return m>0?(s=v.length,v=_+(s<=m?"0."+o.call("0",m-s)+v:v.slice(0,s-m)+"."+v.slice(s-m))):v=_+v,v}})},function(e,exports,t){var i=t(34);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=i(e))throw TypeError(t);return+e}},function(e,exports,t){"use strict";var i=t(38),n=t(35);e.exports=function(e){var t=String(n(this)),r="",o=i(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(r+=t);return r}},function(e,exports,t){"use strict";var i=t(8),n=t(7),r=t(89),o=1..toPrecision;i(i.P+i.F*(n(function(){return"1"!==o.call(1,void 0)})||!n(function(){o.call({})})),"Number",{toPrecision:function(e){var t=r(this,"Number#toPrecision: incorrect invocation!");return void 0===e?o.call(t):o.call(t,e)}})},function(e,exports,t){var i=t(8);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,exports,t){var i=t(8),n=t(4).isFinite;i(i.S,"Number",{isFinite:function(e){return"number"==typeof e&&n(e)}})},function(e,exports,t){var i=t(8);i(i.S,"Number",{isInteger:t(95)})},function(e,exports,t){var i=t(13),n=Math.floor;e.exports=function(e){return!i(e)&&isFinite(e)&&n(e)===e}},function(e,exports,t){var i=t(8);i(i.S,"Number",{isNaN:function(e){return e!=e}})},function(e,exports,t){var i=t(8),n=t(95),r=Math.abs;i(i.S,"Number",{isSafeInteger:function(e){return n(e)&&r(e)<=9007199254740991}})},function(e,exports,t){var i=t(8);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,exports,t){var i=t(8);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,exports,t){var i=t(8),n=t(85);i(i.S+i.F*(Number.parseFloat!=n),"Number",{parseFloat:n})},function(e,exports,t){var i=t(8),n=t(81);i(i.S+i.F*(Number.parseInt!=n),"Number",{parseInt:n})},function(e,exports,t){var i=t(8),n=t(103),r=Math.sqrt,o=Math.acosh;i(i.S+i.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:n(e-1+r(e-1)*r(e+1))}})},function(e,exports){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,exports,t){function i(e){return isFinite(e=+e)&&0!=e?e<0?-i(-e):Math.log(e+Math.sqrt(e*e+1)):e}var n=t(8),r=Math.asinh;n(n.S+n.F*!(r&&1/r(0)>0),"Math",{asinh:i})},function(e,exports,t){var i=t(8),n=Math.atanh;i(i.S+i.F*!(n&&1/n(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,exports,t){var i=t(8),n=t(107);i(i.S,"Math",{cbrt:function(e){return n(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,exports){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,exports,t){var i=t(8);i(i.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,exports,t){var i=t(8),n=Math.exp;i(i.S,"Math",{cosh:function(e){return(n(e=+e)+n(-e))/2}})},function(e,exports,t){var i=t(8),n=t(111);i(i.S+i.F*(n!=Math.expm1),"Math",{expm1:n})},function(e,exports){var t=Math.expm1;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:t},function(e,exports,t){var i=t(8);i(i.S,"Math",{fround:t(113)})},function(e,exports,t){var i=t(107),n=Math.pow,r=n(2,-52),o=n(2,-23),a=n(2,127)*(2-o),s=n(2,-126),l=function(e){return e+1/r-1/r};e.exports=Math.fround||function(e){var t,n,c=Math.abs(e),d=i(e);return c<s?d*l(c/s/o)*s*o:(t=(1+o/r)*c,n=t-(t-c),n>a||n!=n?d*(1/0):d*n)}},function(e,exports,t){var i=t(8),n=Math.abs;i(i.S,"Math",{hypot:function(e,t){for(var i,r,o=0,a=0,s=arguments.length,l=0;a<s;)i=n(arguments[a++]),l<i?(r=l/i,o=o*r*r+1,l=i):i>0?(r=i/l,o+=r*r):o+=i;return l===1/0?1/0:l*Math.sqrt(o)}})},function(e,exports,t){var i=t(8),n=Math.imul;i(i.S+i.F*t(7)(function(){return-5!=n(4294967295,5)||2!=n.length}),"Math",{imul:function(e,t){var i=+e,n=+t,r=65535&i,o=65535&n;return 0|r*o+((65535&i>>>16)*o+r*(65535&n>>>16)<<16>>>0)}})},function(e,exports,t){var i=t(8);i(i.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,exports,t){var i=t(8);i(i.S,"Math",{log1p:t(103)})},function(e,exports,t){var i=t(8);i(i.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,exports,t){var i=t(8);i(i.S,"Math",{sign:t(107)})},function(e,exports,t){var i=t(8),n=t(111),r=Math.exp;i(i.S+i.F*t(7)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(n(e)-n(-e))/2:(r(e-1)-r(-e-1))*(Math.E/2)}})},function(e,exports,t){var i=t(8),n=t(111),r=Math.exp;i(i.S,"Math",{tanh:function(e){var t=n(e=+e),i=n(-e);return t==1/0?1:i==1/0?-1:(t-i)/(r(e)+r(-e))}})},function(e,exports,t){var i=t(8);i(i.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,exports,t){var i=t(8),n=t(39),r=String.fromCharCode,o=String.fromCodePoint;i(i.S+i.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,i=[],o=arguments.length,a=0;o>a;){if(t=+arguments[a++],n(t,1114111)!==t)throw RangeError(t+" is not a valid code point");i.push(t<65536?r(t):r(55296+((t-=65536)>>10),t%1024+56320))}return i.join("")}})},function(e,exports,t){var i=t(8),n=t(32),r=t(37);i(i.S,"String",{raw:function(e){for(var t=n(e.raw),i=r(t.length),o=arguments.length,a=[],s=0;i>s;)a.push(String(t[s++])),s<o&&a.push(String(arguments[s]));return a.join("")}})},function(e,exports,t){"use strict";t(82)("trim",function(e){return function(){return e(this,3)}})},function(e,exports,t){"use strict";var i=t(127)(!0);t(128)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,exports,t){var i=t(38),n=t(35);e.exports=function(e){return function(t,r){var o,a,s=String(n(t)),l=i(r),c=s.length;return l<0||l>=c?e?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}}},function(e,exports,t){"use strict";var i=t(28),n=t(8),r=t(18),o=t(10),a=t(5),s=t(129),l=t(130),c=t(24),d=t(58),u=t(25)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,g,m,_,v,h){l(g,t,m);var y,w,b,k=function(e){if(!p&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new g(this,e)}}return function(){return new g(this,e)}},x=t+" Iterator",S="values"==_,P=!1,C=e.prototype,E=C[u]||C["@@iterator"]||_&&C[_],D=!p&&E||k(_),T=_?S?k("entries"):D:void 0,N="Array"==t?C.entries||E:E;if(N&&(b=d(N.call(new e)))!==Object.prototype&&b.next&&(c(b,x,!0),i||a(b,u)||o(b,u,f)),S&&E&&"values"!==E.name&&(P=!0,D=function(){return E.call(this)}),i&&!h||!p&&!P&&C[u]||o(C,u,D),s[t]=D,s[x]=f,_)if(y={values:S?D:k("values"),keys:v?D:k("keys"),entries:T},h)for(w in y)w in C||r(C,w,y[w]);else n(n.P+n.F*(p||P),t,y);return y}},function(e,exports){e.exports={}},function(e,exports,t){"use strict";var i=t(45),n=t(17),r=t(24),o={};t(10)(o,t(25)("iterator"),function(){return this}),e.exports=function(e,t,a){e.prototype=i(o,{next:n(1,a)}),r(e,t+" Iterator")}},function(e,exports,t){"use strict";var i=t(8),n=t(127)(!1);i(i.P,"String",{codePointAt:function(e){return n(this,e)}})},function(e,exports,t){"use strict";var i=t(8),n=t(37),r=t(133),o="".endsWith;i(i.P+i.F*t(135)("endsWith"),"String",{endsWith:function(e){var t=r(this,e,"endsWith"),i=arguments.length>1?arguments[1]:void 0,a=n(t.length),s=void 0===i?a:Math.min(n(i),a),l=String(e);return o?o.call(t,l,s):t.slice(s-l.length,s)===l}})},function(e,exports,t){var i=t(134),n=t(35);e.exports=function(e,t,r){if(i(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(n(e))}},function(e,exports,t){var i=t(13),n=t(34),r=t(25)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==n(e))}},function(e,exports,t){var i=t(25)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,exports,t){"use strict";var i=t(8),n=t(133);i(i.P+i.F*t(135)("includes"),"String",{includes:function(e){return!!~n(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,exports,t){var i=t(8);i(i.P,"String",{repeat:t(90)})},function(e,exports,t){"use strict";var i=t(8),n=t(37),r=t(133),o="".startsWith;i(i.P+i.F*t(135)("startsWith"),"String",{startsWith:function(e){var t=r(this,e,"startsWith"),i=n(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),a=String(e);return o?o.call(t,a,i):t.slice(i,i+a.length)===a}})},function(e,exports,t){"use strict";t(140)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,exports,t){var i=t(8),n=t(7),r=t(35),o=/"/g,a=function(e,t,i,n){var a=String(r(e)),s="<"+t;return""!==i&&(s+=" "+i+'="'+String(n).replace(o,"&quot;")+'"'),s+">"+a+"</"+t+">"};e.exports=function(e,t){var r={};r[e]=t(a),i(i.P+i.F*n(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",r)}},function(e,exports,t){"use strict";t(140)("big",function(e){return function(){return e(this,"big","","")}})},function(e,exports,t){"use strict";t(140)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,exports,t){"use strict";t(140)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,exports,t){"use strict";t(140)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,exports,t){"use strict";t(140)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,exports,t){"use strict";t(140)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,exports,t){"use strict";t(140)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,exports,t){"use strict";t(140)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,exports,t){"use strict";t(140)("small",function(e){return function(){return e(this,"small","","")}})},function(e,exports,t){"use strict";t(140)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,exports,t){"use strict";t(140)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,exports,t){"use strict";t(140)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,exports,t){var i=t(8);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,exports,t){"use strict";var i=t(8),n=t(57),r=t(16);i(i.P+i.F*t(7)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=n(this),i=r(t);return"number"!=typeof i||isFinite(i)?t.toISOString():null}})},function(e,exports,t){var i=t(8),n=t(156);i(i.P+i.F*(Date.prototype.toISOString!==n),"Date",{toISOString:n})},function(e,exports,t){"use strict";var i=t(7),n=Date.prototype.getTime,r=Date.prototype.toISOString,o=function(e){return e>9?e:"0"+e};e.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=r.call(new Date(-5e13-1))})||!i(function(){r.call(new Date(NaN))})?function(){if(!isFinite(n.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),i=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(i>99?i:"0"+o(i))+"Z"}:r},function(e,exports,t){var i=Date.prototype,n=i.toString,r=i.getTime;new Date(NaN)+""!="Invalid Date"&&t(18)(i,"toString",function(){var e=r.call(this);return e===e?n.call(this):"Invalid Date"})},function(e,exports,t){var i=t(25)("toPrimitive"),n=Date.prototype;i in n||t(10)(n,i,t(159))},function(e,exports,t){"use strict";var i=t(12),n=t(16);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return n(i(this),"number"!=e)}},function(e,exports,t){var i=t(8);i(i.S,"Array",{isArray:t(44)})},function(e,exports,t){"use strict";var i=t(20),n=t(8),r=t(57),o=t(162),a=t(163),s=t(37),l=t(164),c=t(165);n(n.S+n.F*!t(166)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,d,u,p=r(e),f="function"==typeof this?this:Array,g=arguments.length,m=g>1?arguments[1]:void 0,_=void 0!==m,v=0,h=c(p);if(_&&(m=i(m,g>2?arguments[2]:void 0,2)),void 0==h||f==Array&&a(h))for(t=s(p.length),n=new f(t);t>v;v++)l(n,v,_?m(p[v],v):p[v]);else for(u=h.call(p),n=new f;!(d=u.next()).done;v++)l(n,v,_?o(u,m,[d.value,v],!0):d.value);return n.length=v,n}})},function(e,exports,t){var i=t(12);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},function(e,exports,t){var i=t(129),n=t(25)("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||r[n]===e)}},function(e,exports,t){"use strict";var i=t(11),n=t(17);e.exports=function(e,t,r){t in e?i.f(e,t,n(0,r)):e[t]=r}},function(e,exports,t){var i=t(74),n=t(25)("iterator"),r=t(129);e.exports=t(9).getIteratorMethod=function(e){if(void 0!=e)return e[n]||e["@@iterator"]||r[i(e)]}},function(e,exports,t){var i=t(25)("iterator"),n=!1;try{var r=[7][i]();r.return=function(){n=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!n)return!1;var r=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:r=!0}},o[i]=function(){return a},e(o)}catch(e){}return r}},function(e,exports,t){"use strict";var i=t(8),n=t(164);i(i.S+i.F*t(7)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,i=new("function"==typeof this?this:Array)(t);t>e;)n(i,e,arguments[e++]);return i.length=t,i}})},function(e,exports,t){"use strict";var i=t(8),n=t(32),r=[].join;i(i.P+i.F*(t(33)!=Object||!t(169)(r)),"Array",{join:function(e){return r.call(n(this),void 0===e?",":e)}})},function(e,exports,t){"use strict";var i=t(7);e.exports=function(e,t){return!!e&&i(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,exports,t){"use strict";var i=t(8),n=t(47),r=t(34),o=t(39),a=t(37),s=[].slice;i(i.P+i.F*t(7)(function(){n&&s.call(n)}),"Array",{slice:function(e,t){var i=a(this.length),n=r(this);if(t=void 0===t?i:t,"Array"==n)return s.call(this,e,t);for(var l=o(e,i),c=o(t,i),d=a(c-l),u=new Array(d),p=0;p<d;p++)u[p]="String"==n?this.charAt(l+p):this[l+p];return u}})},function(e,exports,t){"use strict";var i=t(8),n=t(21),r=t(57),o=t(7),a=[].sort,s=[1,2,3];i(i.P+i.F*(o(function(){s.sort(void 0)})||!o(function(){s.sort(null)})||!t(169)(a)),"Array",{sort:function(e){return void 0===e?a.call(r(this)):a.call(r(this),n(e))}})},function(e,exports,t){"use strict";var i=t(8),n=t(173)(0),r=t(169)([].forEach,!0);i(i.P+i.F*!r,"Array",{forEach:function(e){return n(this,e,arguments[1])}})},function(e,exports,t){var i=t(20),n=t(33),r=t(57),o=t(37),a=t(174);e.exports=function(e,t){var s=1==e,l=2==e,c=3==e,d=4==e,u=6==e,p=5==e||u,f=t||a;return function(t,a,g){for(var m,_,v=r(t),h=n(v),y=i(a,g,3),w=o(h.length),b=0,k=s?f(t,w):l?f(t,0):void 0;w>b;b++)if((p||b in h)&&(m=h[b],_=y(m,b,v),e))if(s)k[b]=_;else if(_)switch(e){case 3:return!0;case 5:return m;case 6:return b;case 2:k.push(m)}else if(d)return!1;return u?-1:c||d?d:k}}},function(e,exports,t){var i=t(175);e.exports=function(e,t){return new(i(e))(t)}},function(e,exports,t){var i=t(13),n=t(44),r=t(25)("species");e.exports=function(e){var t;return n(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!n(t.prototype)||(t=void 0),i(t)&&null===(t=t[r])&&(t=void 0)),void 0===t?Array:t}},function(e,exports,t){"use strict";var i=t(8),n=t(173)(1);i(i.P+i.F*!t(169)([].map,!0),"Array",{map:function(e){return n(this,e,arguments[1])}})},function(e,exports,t){"use strict";var i=t(8),n=t(173)(2);i(i.P+i.F*!t(169)([].filter,!0),"Array",{filter:function(e){return n(this,e,arguments[1])}})},function(e,exports,t){"use strict";var i=t(8),n=t(173)(3);i(i.P+i.F*!t(169)([].some,!0),"Array",{some:function(e){return n(this,e,arguments[1])}})},function(e,exports,t){"use strict";var i=t(8),n=t(173)(4);i(i.P+i.F*!t(169)([].every,!0),"Array",{every:function(e){return n(this,e,arguments[1])}})},function(e,exports,t){"use strict";var i=t(8),n=t(181);i(i.P+i.F*!t(169)([].reduce,!0),"Array",{reduce:function(e){return n(this,e,arguments.length,arguments[1],!1)}})},function(e,exports,t){var i=t(21),n=t(57),r=t(33),o=t(37);e.exports=function(e,t,a,s,l){i(t);var c=n(e),d=r(c),u=o(c.length),p=l?u-1:0,f=l?-1:1;if(a<2)for(;;){if(p in d){s=d[p],p+=f;break}if(p+=f,l?p<0:u<=p)throw TypeError("Reduce of empty array with no initial value")}for(;l?p>=0:u>p;p+=f)p in d&&(s=t(s,d[p],p,c));return s}},function(e,exports,t){"use strict";var i=t(8),n=t(181);i(i.P+i.F*!t(169)([].reduceRight,!0),"Array",{reduceRight:function(e){return n(this,e,arguments.length,arguments[1],!0)}})},function(e,exports,t){"use strict";var i=t(8),n=t(36)(!1),r=[].indexOf,o=!!r&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(o||!t(169)(r)),"Array",{indexOf:function(e){return o?r.apply(this,arguments)||0:n(this,e,arguments[1])}})},function(e,exports,t){"use strict";var i=t(8),n=t(32),r=t(38),o=t(37),a=[].lastIndexOf,s=!!a&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(s||!t(169)(a)),"Array",{lastIndexOf:function(e){if(s)return a.apply(this,arguments)||0;var t=n(this),i=o(t.length),l=i-1;for(arguments.length>1&&(l=Math.min(l,r(arguments[1]))),l<0&&(l=i+l);l>=0;l--)if(l in t&&t[l]===e)return l||0;return-1}})},function(e,exports,t){var i=t(8);i(i.P,"Array",{copyWithin:t(186)}),t(187)("copyWithin")},function(e,exports,t){"use strict";var i=t(57),n=t(39),r=t(37);e.exports=[].copyWithin||function(e,t){var o=i(this),a=r(o.length),s=n(e,a),l=n(t,a),c=arguments.length>2?arguments[2]:void 0,d=Math.min((void 0===c?a:n(c,a))-l,a-s),u=1;for(l<s&&s<l+d&&(u=-1,l+=d-1,s+=d-1);d-- >0;)l in o?o[s]=o[l]:delete o[s],s+=u,l+=u;return o}},function(e,exports,t){var i=t(25)("unscopables"),n=Array.prototype;void 0==n[i]&&t(10)(n,i,{}),e.exports=function(e){n[i][e]=!0}},function(e,exports,t){var i=t(8);i(i.P,"Array",{fill:t(189)}),t(187)("fill")},function(e,exports,t){"use strict";var i=t(57),n=t(39),r=t(37);e.exports=function(e){for(var t=i(this),o=r(t.length),a=arguments.length,s=n(a>1?arguments[1]:void 0,o),l=a>2?arguments[2]:void 0,c=void 0===l?o:n(l,o);c>s;)t[s++]=e;return t}},function(e,exports,t){"use strict";var i=t(8),n=t(173)(5),r=!0;"find"in[]&&Array(1).find(function(){r=!1}),i(i.P+i.F*r,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),t(187)("find")},function(e,exports,t){"use strict";var i=t(8),n=t(173)(6),r="findIndex",o=!0;r in[]&&Array(1)[r](function(){o=!1}),i(i.P+i.F*o,"Array",{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),t(187)(r)},function(e,exports,t){t(193)("Array")},function(e,exports,t){"use strict";var i=t(4),n=t(11),r=t(6),o=t(25)("species");e.exports=function(e){var t=i[e];r&&t&&!t[o]&&n.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,exports,t){"use strict";var i=t(187),n=t(195),r=t(129),o=t(32);e.exports=t(128)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,n(1)):"keys"==t?n(0,i):"values"==t?n(0,e[i]):n(0,[i,e[i]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},function(e,exports){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,exports,t){var i=t(4),n=t(87),r=t(11).f,o=t(49).f,a=t(134),s=t(197),l=i.RegExp,c=l,d=l.prototype,u=/a/g,p=/a/g,f=new l(u)!==u;if(t(6)&&(!f||t(7)(function(){return p[t(25)("match")]=!1,l(u)!=u||l(p)==p||"/a/i"!=l(u,"i")}))){l=function(e,t){var i=this instanceof l,r=a(e),o=void 0===t;return!i&&r&&e.constructor===l&&o?e:n(f?new c(r&&!o?e.source:e,t):c((r=e instanceof l)?e.source:e,r&&o?s.call(e):t),i?this:d,l)};for(var g=o(c),m=0;g.length>m;)!function(e){e in l||r(l,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})}(g[m++]);d.constructor=l,l.prototype=d,t(18)(i,"RegExp",l)}t(193)("RegExp")},function(e,exports,t){"use strict";var i=t(12);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,exports,t){"use strict";t(199);var i=t(12),n=t(197),r=t(6),o=/./.toString,a=function(e){t(18)(RegExp.prototype,"toString",e,!0)};t(7)(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?a(function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!r&&e instanceof RegExp?n.call(e):void 0)}):"toString"!=o.name&&a(function(){return o.call(this)})},function(e,exports,t){t(6)&&"g"!=/./g.flags&&t(11).f(RegExp.prototype,"flags",{configurable:!0,get:t(197)})},function(e,exports,t){t(201)("match",1,function(e,t,i){return[function(i){"use strict";var n=e(this),r=void 0==i?void 0:i[t];return void 0!==r?r.call(i,n):new RegExp(i)[t](String(n))},i]})},function(e,exports,t){"use strict";var i=t(10),n=t(18),r=t(7),o=t(35),a=t(25);e.exports=function(e,t,s){var l=a(e),c=s(o,l,""[e]),d=c[0],u=c[1];r(function(){var t={};return t[l]=function(){return 7},7!=""[e](t)})&&(n(String.prototype,e,d),i(RegExp.prototype,l,2==t?function(e,t){return u.call(e,this,t)}:function(e){return u.call(e,this)}))}},function(e,exports,t){t(201)("replace",2,function(e,t,i){return[function(n,r){"use strict";var o=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,o,r):i.call(String(o),n,r)},i]})},function(e,exports,t){t(201)("search",1,function(e,t,i){return[function(i){"use strict";var n=e(this),r=void 0==i?void 0:i[t];return void 0!==r?r.call(i,n):new RegExp(i)[t](String(n))},i]})},function(e,exports,t){t(201)("split",2,function(e,i,n){"use strict";var r=t(134),o=n,a=[].push,s="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[s]||2!="ab".split(/(?:ab)*/)[s]||4!=".".split(/(.?)(.?)/)[s]||".".split(/()()/)[s]>1||"".split(/.?/)[s]){var l=void 0===/()??/.exec("")[1];n=function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return o.call(i,e,t);var n,c,d,u,p,f=[],g=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,_=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,g+"g");for(l||(n=new RegExp("^"+v.source+"$(?!\\s)",g));(c=v.exec(i))&&!((d=c.index+c[0][s])>m&&(f.push(i.slice(m,c.index)),!l&&c[s]>1&&c[0].replace(n,function(){for(p=1;p<arguments[s]-2;p++)void 0===arguments[p]&&(c[p]=void 0)}),c[s]>1&&c.index<i[s]&&a.apply(f,c.slice(1)),u=c[0][s],m=d,f[s]>=_));)v.lastIndex===c.index&&v.lastIndex++;return m===i[s]?!u&&v.test("")||f.push(""):f.push(i.slice(m)),f[s]>_?f.slice(0,_):f}}else"0".split(void 0,0)[s]&&(n=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(t,r){var o=e(this),a=void 0==t?void 0:t[i];return void 0!==a?a.call(t,o,r):n.call(String(o),t,r)},n]})},function(e,exports,t){"use strict";var i,n,r,o,a=t(28),s=t(4),l=t(20),c=t(74),d=t(8),u=t(13),p=t(21),f=t(206),g=t(207),m=t(208),_=t(209).set,v=t(210)(),h=t(211),y=t(212),w=t(213),b=s.TypeError,k=s.process,x=s.Promise,S="process"==c(k),P=function(){},C=n=h.f,E=!!function(){try{var e=x.resolve(1),i=(e.constructor={})[t(25)("species")]=function(e){e(P,P)};return(S||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof i}catch(e){}}(),D=function(e){var t;return!(!u(e)||"function"!=typeof(t=e.then))&&t},T=function(e,t){if(!e._n){e._n=!0;var i=e._c;v(function(){for(var n=e._v,r=1==e._s,o=0;i.length>o;)!function(t){var i,o,a=r?t.ok:t.fail,s=t.resolve,l=t.reject,c=t.domain;try{a?(r||(2==e._h&&L(e),e._h=1),!0===a?i=n:(c&&c.enter(),i=a(n),c&&c.exit()),i===t.promise?l(b("Promise-chain cycle")):(o=D(i))?o.call(i,s,l):s(i)):l(n)}catch(e){l(e)}}(i[o++]);e._c=[],e._n=!1,t&&!e._h&&N(e)})}},N=function(e){_.call(s,function(){var t,i,n,r=e._v,o=I(e);if(o&&(t=y(function(){S?k.emit("unhandledRejection",r,e):(i=s.onunhandledrejection)?i({promise:e,reason:r}):(n=s.console)&&n.error&&n.error("Unhandled promise rejection",r)}),e._h=S||I(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},I=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){_.call(s,function(){var t;S?k.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},M=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),T(t,!0))},O=function(e){var t,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw b("Promise can't be resolved itself");(t=D(e))?v(function(){var n={_w:i,_d:!1};try{t.call(e,l(O,n,1),l(M,n,1))}catch(e){M.call(n,e)}}):(i._v=e,i._s=1,T(i,!1))}catch(e){M.call({_w:i,_d:!1},e)}}};E||(x=function(e){f(this,x,"Promise","_h"),p(e),i.call(this);try{e(l(O,this,1),l(M,this,1))}catch(e){M.call(this,e)}},i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=t(214)(x.prototype,{then:function(e,t){var i=C(m(this,x));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=S?k.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&T(this,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new i;this.promise=e,this.resolve=l(O,e,1),this.reject=l(M,e,1)},h.f=C=function(e){return e===x||e===o?new r(e):n(e)}),d(d.G+d.W+d.F*!E,{Promise:x}),t(24)(x,"Promise"),t(193)("Promise"),o=t(9).Promise,d(d.S+d.F*!E,"Promise",{reject:function(e){var t=C(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(a||!E),"Promise",{resolve:function(e){return w(a&&this===o?x:this,e)}}),d(d.S+d.F*!(E&&t(166)(function(e){x.all(e).catch(P)})),"Promise",{all:function(e){var t=this,i=C(t),n=i.resolve,r=i.reject,o=y(function(){var i=[],o=0,a=1;g(e,!1,function(e){var s=o++,l=!1;i.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,i[s]=e,--a||n(i))},r)}),--a||n(i)});return o.e&&r(o.v),i.promise},race:function(e){var t=this,i=C(t),n=i.reject,r=y(function(){g(e,!1,function(e){t.resolve(e).then(i.resolve,n)})});return r.e&&n(r.v),i.promise}})},function(e,exports){e.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},function(e,exports,t){var i=t(20),n=t(162),r=t(163),o=t(12),a=t(37),s=t(165),l={},c={},exports=e.exports=function(e,t,d,u,p){var f,g,m,_,v=p?function(){return e}:s(e),h=i(d,u,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(r(v)){for(f=a(e.length);f>y;y++)if((_=t?h(o(g=e[y])[0],g[1]):h(e[y]))===l||_===c)return _}else for(m=v.call(e);!(g=m.next()).done;)if((_=n(m,h,g.value,t))===l||_===c)return _};exports.BREAK=l,exports.RETURN=c},function(e,exports,t){var i=t(12),n=t(21),r=t(25)("species");e.exports=function(e,t){var o,a=i(e).constructor;return void 0===a||void 0==(o=i(a)[r])?t:n(o)}},function(e,exports,t){var i,n,r,o=t(20),a=t(77),s=t(47),l=t(15),c=t(4),d=c.process,u=c.setImmediate,p=c.clearImmediate,f=c.MessageChannel,g=c.Dispatch,m=0,_={},v=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},h=function(e){v.call(e.data)};u&&p||(u=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++m]=function(){a("function"==typeof e?e:Function(e),t)},i(m),m},p=function(e){delete _[e]},"process"==t(34)(d)?i=function(e){d.nextTick(o(v,e,1))}:g&&g.now?i=function(e){g.now(o(v,e,1))}:f?(n=new f,r=n.port2,n.port1.onmessage=h,i=o(r.postMessage,r,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(e){c.postMessage(e+"","*")},c.addEventListener("message",h,!1)):i="onreadystatechange"in l("script")?function(e){s.appendChild(l("script")).onreadystatechange=function(){s.removeChild(this),v.call(e)}}:function(e){setTimeout(o(v,e,1),0)}),e.exports={set:u,clear:p}},function(e,exports,t){var i=t(4),n=t(209).set,r=i.MutationObserver||i.WebKitMutationObserver,o=i.process,a=i.Promise,s="process"==t(34)(o);e.exports=function(){var e,t,l,c=function(){var i,n;for(s&&(i=o.domain)&&i.exit();e;){n=e.fn,e=e.next;try{n()}catch(i){throw e?l():t=void 0,i}}t=void 0,i&&i.enter()};if(s)l=function(){o.nextTick(c)};else if(!r||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var d=a.resolve();l=function(){d.then(c)}}else l=function(){n.call(i,c)};else{var u=!0,p=document.createTextNode("");new r(c).observe(p,{characterData:!0}),l=function(){p.data=u=!u}}return function(i){var n={fn:i,next:void 0};t&&(t.next=n),e||(e=n,l()),t=n}}},function(e,exports,t){"use strict";function i(e){var t,i;this.promise=new e(function(e,n){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=n}),this.resolve=n(t),this.reject=n(i)}var n=t(21);e.exports.f=function(e){return new i(e)}},function(e,exports){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,exports,t){var i=t(12),n=t(13),r=t(211);e.exports=function(e,t){if(i(e),n(t)&&t.constructor===e)return t;var o=r.f(e);return(0,o.resolve)(t),o.promise}},function(e,exports,t){var i=t(18);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,exports,t){"use strict";var i=t(216),n=t(217);e.exports=t(218)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=i.getEntry(n(this,"Map"),e);return t&&t.v},set:function(e,t){return i.def(n(this,"Map"),0===e?0:e,t)}},i,!0)},function(e,exports,t){"use strict";var i=t(11).f,n=t(45),r=t(214),o=t(20),a=t(206),s=t(207),l=t(128),c=t(195),d=t(193),u=t(6),p=t(22).fastKey,f=t(217),g=u?"_s":"size",m=function(e,t){var i,n=p(t);if("F"!==n)return e._i[n];for(i=e._f;i;i=i.n)if(i.k==t)return i};e.exports={getConstructor:function(e,t,l,c){var d=e(function(e,i){a(e,d,t,"_i"),e._t=t,e._i=n(null),e._f=void 0,e._l=void 0,e[g]=0,void 0!=i&&s(i,l,e[c],e)});return r(d.prototype,{clear:function(){for(var e=f(this,t),i=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var i=f(this,t),n=m(i,e);if(n){var r=n.n,o=n.p;delete i._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),i._f==n&&(i._f=r),i._l==n&&(i._l=o),i[g]--}return!!n},forEach:function(e){f(this,t);for(var i,n=o(e,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(e){return!!m(f(this,t),e)}}),u&&i(d.prototype,"size",{get:function(){return f(this,t)[g]}}),d},def:function(e,t,i){var n,r,o=m(e,t);return o?o.v=i:(e._l=o={i:r=p(t,!0),k:t,v:i,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[g]++,"F"!==r&&(e._i[r]=o)),e},getEntry:m,setStrong:function(e,t,i){l(e,t,function(e,i){this._t=f(e,t),this._k=i,this._l=void 0},function(){for(var e=this,t=e._k,i=e._l;i&&i.r;)i=i.p;return e._t&&(e._l=i=i?i.n:e._t._f)?"keys"==t?c(0,i.k):"values"==t?c(0,i.v):c(0,[i.k,i.v]):(e._t=void 0,c(1))},i?"entries":"values",!i,!0),d(t)}}},function(e,exports,t){var i=t(13);e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,exports,t){"use strict";var i=t(4),n=t(8),r=t(18),o=t(214),a=t(22),s=t(207),l=t(206),c=t(13),d=t(7),u=t(166),p=t(24),f=t(87);e.exports=function(e,t,g,m,_,v){var h=i[e],y=h,w=_?"set":"add",b=y&&y.prototype,k={},x=function(e){var t=b[e];r(b,e,"delete"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,i){return t.call(this,0===e?0:e,i),this})};if("function"==typeof y&&(v||b.forEach&&!d(function(){(new y).entries().next()}))){var S=new y,P=S[w](v?{}:-0,1)!=S,C=d(function(){S.has(1)}),E=u(function(e){new y(e)}),D=!v&&d(function(){for(var e=new y,t=5;t--;)e[w](t,t);return!e.has(-0)});E||(y=t(function(t,i){l(t,y,e);var n=f(new h,t,y);return void 0!=i&&s(i,_,n[w],n),n}),y.prototype=b,b.constructor=y),(C||D)&&(x("delete"),x("has"),_&&x("get")),(D||P)&&x(w),v&&b.clear&&delete b.clear}else y=m.getConstructor(t,e,_,w),o(y.prototype,g),a.NEED=!0;return p(y,e),k[e]=y,n(n.G+n.W+n.F*(y!=h),k),v||m.setStrong(y,e,_),y}},function(e,exports,t){"use strict";var i=t(216),n=t(217);e.exports=t(218)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(n(this,"Set"),e=0===e?0:e,e)}},i)},function(e,exports,t){"use strict";var i,n=t(173)(0),r=t(18),o=t(22),a=t(68),s=t(221),l=t(13),c=t(7),d=t(217),u=o.getWeak,p=Object.isExtensible,f=s.ufstore,g={},m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},_={get:function(e){if(l(e)){var t=u(e);return!0===t?f(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return s.def(d(this,"WeakMap"),e,t)}},v=e.exports=t(218)("WeakMap",m,_,s,!0,!0);c(function(){return 7!=(new v).set((Object.freeze||Object)(g),7).get(g)})&&(i=s.getConstructor(m,"WeakMap"),a(i.prototype,_),o.NEED=!0,n(["delete","has","get","set"],function(e){var t=v.prototype,n=t[e];r(t,e,function(t,r){if(l(t)&&!p(t)){this._f||(this._f=new i);var o=this._f[e](t,r);return"set"==e?this:o}return n.call(this,t,r)})}))},function(e,exports,t){"use strict";var i=t(214),n=t(22).getWeak,r=t(12),o=t(13),a=t(206),s=t(207),l=t(173),c=t(5),d=t(217),u=l(5),p=l(6),f=0,g=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},_=function(e,t){return u(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=_(this,e);if(t)return t[1]},has:function(e){return!!_(this,e)},set:function(e,t){var i=_(this,e);i?i[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,l){var u=e(function(e,i){a(e,u,t,"_i"),e._t=t,e._i=f++,e._l=void 0,void 0!=i&&s(i,r,e[l],e)});return i(u.prototype,{delete:function(e){if(!o(e))return!1;var i=n(e);return!0===i?g(d(this,t)).delete(e):i&&c(i,this._i)&&delete i[this._i]},has:function(e){if(!o(e))return!1;var i=n(e);return!0===i?g(d(this,t)).has(e):i&&c(i,this._i)}}),u},def:function(e,t,i){var o=n(r(t),!0);return!0===o?g(e).set(t,i):o[e._i]=i,e},ufstore:g}},function(e,exports,t){"use strict";var i=t(221),n=t(217);t(218)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(n(this,"WeakSet"),e,!0)}},i,!1,!0)},function(e,exports,t){"use strict";var i=t(8),n=t(224),r=t(225),o=t(12),a=t(39),s=t(37),l=t(13),c=t(4).ArrayBuffer,d=t(208),u=r.ArrayBuffer,p=r.DataView,f=n.ABV&&c.isView,g=u.prototype.slice,m=n.VIEW;i(i.G+i.W+i.F*(c!==u),{ArrayBuffer:u}),i(i.S+i.F*!n.CONSTR,"ArrayBuffer",{isView:function(e){return f&&f(e)||l(e)&&m in e}}),i(i.P+i.U+i.F*t(7)(function(){return!new u(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==g&&void 0===t)return g.call(o(this),e);for(var i=o(this).byteLength,n=a(e,i),r=a(void 0===t?i:t,i),l=new(d(this,u))(s(r-n)),c=new p(this),f=new p(l),m=0;n<r;)f.setUint8(m++,c.getUint8(n++));return l}}),t(193)("ArrayBuffer")},function(e,exports,t){for(var i,n=t(4),r=t(10),o=t(19),a=o("typed_array"),s=o("view"),l=!(!n.ArrayBuffer||!n.DataView),c=l,d=0,u="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(i=n[u[d++]])?(r(i.prototype,a,!0),r(i.prototype,s,!0)):c=!1;e.exports={ABV:l,CONSTR:c,TYPED:a,VIEW:s}},function(e,exports,t){"use strict";function i(e,t,i){var n,r,o,a=new Array(i),s=8*i-t-1,l=(1<<s)-1,c=l>>1,d=23===t?W(2,-24)-W(2,-77):0,u=0,p=e<0||0===e&&1/e<0?1:0;for(e=F(e),e!=e||e===O?(r=e!=e?1:0,n=l):(n=j(B(e)/R),e*(o=W(2,-n))<1&&(n--,o*=2),e+=n+c>=1?d/o:d*W(2,1-c),e*o>=2&&(n++,o/=2),n+c>=l?(r=0,n=l):n+c>=1?(r=(e*o-1)*W(2,t),n+=c):(r=e*W(2,c-1)*W(2,t),n=0));t>=8;a[u++]=255&r,r/=256,t-=8);for(n=n<<t|r,s+=t;s>0;a[u++]=255&n,n/=256,s-=8);return a[--u]|=128*p,a}function n(e,t,i){var n,r=8*i-t-1,o=(1<<r)-1,a=o>>1,s=r-7,l=i-1,c=e[l--],d=127&c;for(c>>=7;s>0;d=256*d+e[l],l--,s-=8);for(n=d&(1<<-s)-1,d>>=-s,s+=t;s>0;n=256*n+e[l],l--,s-=8);if(0===d)d=1-a;else{if(d===o)return n?NaN:c?-O:O;n+=W(2,t),d-=a}return(c?-1:1)*n*W(2,d-t)}function r(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function o(e){return[255&e]}function a(e){return[255&e,e>>8&255]}function s(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function l(e){return i(e,52,8)}function c(e){return i(e,23,4)}function d(e,t,i){P(e[D],t,{get:function(){return this[i]}})}function u(e,t,i,n){var r=+i,o=x(r);if(o+t>e[z])throw M(T);var a=e[G]._b,s=o+e[K],l=a.slice(s,s+t);return n?l:l.reverse()}function p(e,t,i,n,r,o){var a=+i,s=x(a);if(s+t>e[z])throw M(T);for(var l=e[G]._b,c=s+e[K],d=n(+r),u=0;u<t;u++)l[c+u]=d[o?u:t-u-1]}var f=t(4),g=t(6),m=t(28),_=t(224),v=t(10),h=t(214),y=t(7),w=t(206),b=t(38),k=t(37),x=t(226),S=t(49).f,P=t(11).f,C=t(189),E=t(24),D="prototype",T="Wrong index!",N=f.ArrayBuffer,I=f.DataView,L=f.Math,M=f.RangeError,O=f.Infinity,A=N,F=L.abs,W=L.pow,j=L.floor,B=L.log,R=L.LN2,G=g?"_b":"buffer",z=g?"_l":"byteLength",K=g?"_o":"byteOffset";if(_.ABV){if(!y(function(){N(1)})||!y(function(){new N(-1)})||y(function(){return new N,new N(1.5),new N(NaN),"ArrayBuffer"!=N.name})){N=function(e){return w(this,N),new A(x(e))};for(var V,H=N[D]=A[D],U=S(A),q=0;U.length>q;)(V=U[q++])in N||v(N,V,A[V]);m||(H.constructor=N)}var J=new I(new N(2)),Y=I[D].setInt8;J.setInt8(0,2147483648),J.setInt8(1,2147483649),!J.getInt8(0)&&J.getInt8(1)||h(I[D],{setInt8:function(e,t){Y.call(this,e,t<<24>>24)},setUint8:function(e,t){Y.call(this,e,t<<24>>24)}},!0)}else N=function(e){w(this,N,"ArrayBuffer");var t=x(e);this._b=C.call(new Array(t),0),this[z]=t},I=function(e,t,i){w(this,I,"DataView"),w(e,N,"DataView");var n=e[z],r=b(t);if(r<0||r>n)throw M("Wrong offset!");if(i=void 0===i?n-r:k(i),r+i>n)throw M("Wrong length!");this[G]=e,this[K]=r,this[z]=i},g&&(d(N,"byteLength","_l"),d(I,"buffer","_b"),d(I,"byteLength","_l"),d(I,"byteOffset","_o")),h(I[D],{getInt8:function(e){return u(this,1,e)[0]<<24>>24},getUint8:function(e){return u(this,1,e)[0]},getInt16:function(e){var t=u(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=u(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return r(u(this,4,e,arguments[1]))},getUint32:function(e){return r(u(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return n(u(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return n(u(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){p(this,1,e,o,t)},setUint8:function(e,t){p(this,1,e,o,t)},setInt16:function(e,t){p(this,2,e,a,t,arguments[2])},setUint16:function(e,t){p(this,2,e,a,t,arguments[2])},setInt32:function(e,t){p(this,4,e,s,t,arguments[2])},setUint32:function(e,t){p(this,4,e,s,t,arguments[2])},setFloat32:function(e,t){p(this,4,e,c,t,arguments[2])},setFloat64:function(e,t){p(this,8,e,l,t,arguments[2])}});E(N,"ArrayBuffer"),E(I,"DataView"),v(I[D],_.VIEW,!0),exports.ArrayBuffer=N,exports.DataView=I},function(e,exports,t){var i=t(38),n=t(37);e.exports=function(e){if(void 0===e)return 0;var t=i(e),r=n(t);if(t!==r)throw RangeError("Wrong length!");return r}},function(e,exports,t){var i=t(8);i(i.G+i.W+i.F*!t(224).ABV,{DataView:t(225).DataView})},function(e,exports,t){t(229)("Int8",1,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,exports,t){"use strict";if(t(6)){var i=t(28),n=t(4),r=t(7),o=t(8),a=t(224),s=t(225),l=t(20),c=t(206),d=t(17),u=t(10),p=t(214),f=t(38),g=t(37),m=t(226),_=t(39),v=t(16),h=t(5),y=t(74),w=t(13),b=t(57),k=t(163),x=t(45),S=t(58),P=t(49).f,C=t(165),E=t(19),D=t(25),T=t(173),N=t(36),I=t(208),L=t(194),M=t(129),O=t(166),A=t(193),F=t(189),W=t(186),j=t(11),B=t(50),R=j.f,G=B.f,z=n.RangeError,K=n.TypeError,V=n.Uint8Array,H=Array.prototype,U=s.ArrayBuffer,q=s.DataView,J=T(0),Y=T(2),Q=T(3),X=T(4),Z=T(5),ee=T(6),te=N(!0),ie=N(!1),ne=L.values,re=L.keys,oe=L.entries,ae=H.lastIndexOf,se=H.reduce,le=H.reduceRight,ce=H.join,de=H.sort,ue=H.slice,pe=H.toString,fe=H.toLocaleString,ge=D("iterator"),me=D("toStringTag"),_e=E("typed_constructor"),ve=E("def_constructor"),he=a.CONSTR,ye=a.TYPED,we=a.VIEW,be=T(1,function(e,t){return Pe(I(e,e[ve]),t)}),$e=r(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),ke=!!V&&!!V.prototype.set&&r(function(){new V(1).set({})}),xe=function(e,t){var i=f(e);if(i<0||i%t)throw z("Wrong offset!");return i},Se=function(e){if(w(e)&&ye in e)return e;throw K(e+" is not a typed array!")},Pe=function(e,t){if(!(w(e)&&_e in e))throw K("It is not a typed array constructor!");return new e(t)},Ce=function(e,t){return Ee(I(e,e[ve]),t)},Ee=function(e,t){for(var i=0,n=t.length,r=Pe(e,n);n>i;)r[i]=t[i++];return r},De=function(e,t,i){R(e,t,{get:function(){return this._d[i]}})},Te=function(e){var t,i,n,r,o,a,s=b(e),c=arguments.length,d=c>1?arguments[1]:void 0,u=void 0!==d,p=C(s);if(void 0!=p&&!k(p)){for(a=p.call(s),n=[],t=0;!(o=a.next()).done;t++)n.push(o.value);s=n}for(u&&c>2&&(d=l(d,arguments[2],2)),t=0,i=g(s.length),r=Pe(this,i);i>t;t++)r[t]=u?d(s[t],t):s[t];return r},Ne=function(){for(var e=0,t=arguments.length,i=Pe(this,t);t>e;)i[e]=arguments[e++];return i},Ie=!!V&&r(function(){fe.call(new V(1))}),Le=function(){return fe.apply(Ie?ue.call(Se(this)):Se(this),arguments)},Me={copyWithin:function(e,t){return W.call(Se(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return X(Se(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return F.apply(Se(this),arguments)},filter:function(e){return Ce(this,Y(Se(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Se(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Se(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){J(Se(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ie(Se(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Se(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(Se(this),arguments)},lastIndexOf:function(e){return ae.apply(Se(this),arguments)},map:function(e){return be(Se(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Se(this),arguments)},reduceRight:function(e){return le.apply(Se(this),arguments)},reverse:function(){for(var e,t=this,i=Se(t).length,n=Math.floor(i/2),r=0;r<n;)e=t[r],t[r++]=t[--i],t[i]=e;return t},some:function(e){return Q(Se(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return de.call(Se(this),e)},subarray:function(e,t){var i=Se(this),n=i.length,r=_(e,n);return new(I(i,i[ve]))(i.buffer,i.byteOffset+r*i.BYTES_PER_ELEMENT,g((void 0===t?n:_(t,n))-r))}},Oe=function(e,t){return Ce(this,ue.call(Se(this),e,t))},Ae=function(e){Se(this);var t=xe(arguments[1],1),i=this.length,n=b(e),r=g(n.length),o=0;if(r+t>i)throw z("Wrong length!");for(;o<r;)this[t+o]=n[o++]},Fe={entries:function(){return oe.call(Se(this))},keys:function(){return re.call(Se(this))},values:function(){return ne.call(Se(this))}},We=function(e,t){return w(e)&&e[ye]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},je=function(e,t){return We(e,t=v(t,!0))?d(2,e[t]):G(e,t)},Be=function(e,t,i){return!(We(e,t=v(t,!0))&&w(i)&&h(i,"value"))||h(i,"get")||h(i,"set")||i.configurable||h(i,"writable")&&!i.writable||h(i,"enumerable")&&!i.enumerable?R(e,t,i):(e[t]=i.value,e)};he||(B.f=je,j.f=Be),o(o.S+o.F*!he,"Object",{getOwnPropertyDescriptor:je,defineProperty:Be}),r(function(){pe.call({})})&&(pe=fe=function(){return ce.call(this)});var Re=p({},Me);p(Re,Fe),u(Re,ge,Fe.values),p(Re,{slice:Oe,set:Ae,constructor:function(){},toString:pe,toLocaleString:Le}),De(Re,"buffer","b"),De(Re,"byteOffset","o"),De(Re,"byteLength","l"),De(Re,"length","e"),R(Re,me,{get:function(){return this[ye]}}),e.exports=function(e,t,s,l){l=!!l;var d=e+(l?"Clamped":"")+"Array",p="get"+e,f="set"+e,_=n[d],v=_||{},h=_&&S(_),b=!_||!a.ABV,k={},C=_&&_.prototype,E=function(e,i){var n=e._d;return n.v[p](i*t+n.o,$e)},D=function(e,i,n){var r=e._d;l&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),r.v[f](i*t+r.o,n,$e)},T=function(e,t){R(e,t,{get:function(){return E(this,t)},set:function(e){return D(this,t,e)},enumerable:!0})};b?(_=s(function(e,i,n,r){c(e,_,d,"_d");var o,a,s,l,p=0,f=0;if(w(i)){if(!(i instanceof U||"ArrayBuffer"==(l=y(i))||"SharedArrayBuffer"==l))return ye in i?Ee(_,i):Te.call(_,i);o=i,f=xe(n,t);var v=i.byteLength;if(void 0===r){if(v%t)throw z("Wrong length!");if((a=v-f)<0)throw z("Wrong length!")}else if((a=g(r)*t)+f>v)throw z("Wrong length!");s=a/t}else s=m(i),a=s*t,o=new U(a);for(u(e,"_d",{b:o,o:f,l:a,e:s,v:new q(o)});p<s;)T(e,p++)}),C=_.prototype=x(Re),u(C,"constructor",_)):r(function(){_(1)})&&r(function(){new _(-1)})&&O(function(e){new _,new _(null),new _(1.5),new _(e)},!0)||(_=s(function(e,i,n,r){c(e,_,d);var o;return w(i)?i instanceof U||"ArrayBuffer"==(o=y(i))||"SharedArrayBuffer"==o?void 0!==r?new v(i,xe(n,t),r):void 0!==n?new v(i,xe(n,t)):new v(i):ye in i?Ee(_,i):Te.call(_,i):new v(m(i))}),J(h!==Function.prototype?P(v).concat(P(h)):P(v),function(e){e in _||u(_,e,v[e])}),_.prototype=C,i||(C.constructor=_));var N=C[ge],I=!!N&&("values"==N.name||void 0==N.name),L=Fe.values;u(_,_e,!0),u(C,ye,d),u(C,we,!0),u(C,ve,_),(l?new _(1)[me]==d:me in C)||R(C,me,{get:function(){return d}}),k[d]=_,o(o.G+o.W+o.F*(_!=v),k),o(o.S,d,{BYTES_PER_ELEMENT:t}),o(o.S+o.F*r(function(){v.of.call(_,1)}),d,{from:Te,of:Ne}),"BYTES_PER_ELEMENT"in C||u(C,"BYTES_PER_ELEMENT",t),o(o.P,d,Me),A(d),o(o.P+o.F*ke,d,{set:Ae}),o(o.P+o.F*!I,d,Fe),i||C.toString==pe||(C.toString=pe),o(o.P+o.F*r(function(){new _(1).slice()}),d,{slice:Oe}),o(o.P+o.F*(r(function(){return[1,2].toLocaleString()!=new _([1,2]).toLocaleString()})||!r(function(){C.toLocaleString.call([1,2])})),d,{toLocaleString:Le}),M[d]=I?N:L,i||I||u(C,ge,L)}}else e.exports=function(){}},function(e,exports,t){t(229)("Uint8",1,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,exports,t){t(229)("Uint8",1,function(e){return function(t,i,n){return e(this,t,i,n)}},!0)},function(e,exports,t){t(229)("Int16",2,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,exports,t){t(229)("Uint16",2,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,exports,t){t(229)("Int32",4,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,exports,t){t(229)("Uint32",4,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,exports,t){t(229)("Float32",4,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,exports,t){t(229)("Float64",8,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,exports,t){var i=t(8),n=t(21),r=t(12),o=(t(4).Reflect||{}).apply,a=Function.apply;i(i.S+i.F*!t(7)(function(){o(function(){})}),"Reflect",{apply:function(e,t,i){var s=n(e),l=r(i);return o?o(s,t,l):a.call(s,t,l)}})},function(e,exports,t){var i=t(8),n=t(45),r=t(21),o=t(12),a=t(13),s=t(7),l=t(76),c=(t(4).Reflect||{}).construct,d=s(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),u=!s(function(){c(function(){})});i(i.S+i.F*(d||u),"Reflect",{construct:function(e,t){r(e),o(t);var i=arguments.length<3?e:r(arguments[2]);if(u&&!d)return c(e,t,i);if(e==i){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var s=[null];return s.push.apply(s,t),new(l.apply(e,s))}var p=i.prototype,f=n(a(p)?p:Object.prototype),g=Function.apply.call(e,f,t);return a(g)?g:f}})},function(e,exports,t){var i=t(11),n=t(8),r=t(12),o=t(16);n(n.S+n.F*t(7)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){r(e),t=o(t,!0),r(n);try{return i.f(e,t,n),!0}catch(e){return!1}}})},function(e,exports,t){var i=t(8),n=t(50).f,r=t(12);i(i.S,"Reflect",{deleteProperty:function(e,t){var i=n(r(e),t);return!(i&&!i.configurable)&&delete e[t]}})},function(e,exports,t){"use strict";var i=t(8),n=t(12),r=function(e){this._t=n(e),this._i=0;var t,i=this._k=[];for(t in e)i.push(t)};t(130)(r,"Object",function(){var e,t=this,i=t._k;do{if(t._i>=i.length)return{value:void 0,done:!0}}while(!((e=i[t._i++])in t._t));return{value:e,done:!1}}),i(i.S,"Reflect",{enumerate:function(e){return new r(e)}})},function(e,exports,t){function i(e,t){var a,c,d=arguments.length<3?e:arguments[2];return l(e)===d?e[t]:(a=n.f(e,t))?o(a,"value")?a.value:void 0!==a.get?a.get.call(d):void 0:s(c=r(e))?i(c,t,d):void 0}var n=t(50),r=t(58),o=t(5),a=t(8),s=t(13),l=t(12);a(a.S,"Reflect",{get:i})},function(e,exports,t){var i=t(50),n=t(8),r=t(12);n(n.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return i.f(r(e),t)}})},function(e,exports,t){var i=t(8),n=t(58),r=t(12);i(i.S,"Reflect",{getPrototypeOf:function(e){return n(r(e))}})},function(e,exports,t){var i=t(8);i(i.S,"Reflect",{has:function(e,t){return t in e}})},function(e,exports,t){var i=t(8),n=t(12),r=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(e){return n(e),!r||r(e)}})},function(e,exports,t){var i=t(8);i(i.S,"Reflect",{ownKeys:t(249)})},function(e,exports,t){var i=t(49),n=t(42),r=t(12),o=t(4).Reflect;e.exports=o&&o.ownKeys||function(e){var t=i.f(r(e)),o=n.f;return o?t.concat(o(e)):t}},function(e,exports,t){var i=t(8),n=t(12),r=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(e){n(e);try{return r&&r(e),!0}catch(e){return!1}}})},function(e,exports,t){function i(e,t,s){var u,p,f=arguments.length<4?e:arguments[3],g=r.f(c(e),t);if(!g){if(d(p=o(e)))return i(p,t,s,f);g=l(0)}return a(g,"value")?!(!1===g.writable||!d(f))&&(u=r.f(f,t)||l(0),u.value=s,n.f(f,t,u),!0):void 0!==g.set&&(g.set.call(f,s),!0)}var n=t(11),r=t(50),o=t(58),a=t(5),s=t(8),l=t(17),c=t(12),d=t(13);s(s.S,"Reflect",{set:i})},function(e,exports,t){var i=t(8),n=t(72);n&&i(i.S,"Reflect",{setPrototypeOf:function(e,t){n.check(e,t);try{return n.set(e,t),!0}catch(e){return!1}}})},function(e,exports,t){"use strict";var i=t(8),n=t(36)(!0);i(i.P,"Array",{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),t(187)("includes")},function(e,exports,t){"use strict";var i=t(8),n=t(255),r=t(57),o=t(37),a=t(21),s=t(174);i(i.P,"Array",{flatMap:function(e){var t,i,l=r(this);return a(e),t=o(l.length),i=s(l,0),n(i,l,l,t,0,1,e,arguments[1]),i}}),t(187)("flatMap")},function(e,exports,t){"use strict";function i(e,t,l,c,d,u,p,f){for(var g,m,_=d,v=0,h=!!p&&a(p,f,3);v<c;){if(v in l){if(g=h?h(l[v],v,t):l[v],m=!1,r(g)&&(m=g[s],m=void 0!==m?!!m:n(g)),m&&u>0)_=i(e,t,g,o(g.length),_,u-1)-1;else{if(_>=9007199254740991)throw TypeError();e[_]=g}_++}v++}return _}var n=t(44),r=t(13),o=t(37),a=t(20),s=t(25)("isConcatSpreadable");e.exports=i},function(e,exports,t){"use strict";var i=t(8),n=t(255),r=t(57),o=t(37),a=t(38),s=t(174);i(i.P,"Array",{flatten:function(){var e=arguments[0],t=r(this),i=o(t.length),l=s(t,0);return n(l,t,t,i,0,void 0===e?1:a(e)),l}}),t(187)("flatten")},function(e,exports,t){"use strict";var i=t(8),n=t(127)(!0);i(i.P,"String",{at:function(e){return n(this,e)}})},function(e,exports,t){"use strict";var i=t(8),n=t(259),r=t(260);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(r),"String",{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,exports,t){var i=t(37),n=t(90),r=t(35);e.exports=function(e,t,o,a){var s=String(r(e)),l=s.length,c=void 0===o?" ":String(o),d=i(t);if(d<=l||""==c)return s;var u=d-l,p=n.call(c,Math.ceil(u/c.length));return p.length>u&&(p=p.slice(0,u)),a?p+s:s+p}},function(e,exports,t){var i=t(4),n=i.navigator;e.exports=n&&n.userAgent||""},function(e,exports,t){"use strict";var i=t(8),n=t(259),r=t(260);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(r),"String",{padEnd:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,exports,t){"use strict";t(82)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,exports,t){"use strict";t(82)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,exports,t){"use strict";var i=t(8),n=t(35),r=t(37),o=t(134),a=t(197),s=RegExp.prototype,l=function(e,t){this._r=e,this._s=t};t(130)(l,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),i(i.P,"String",{matchAll:function(e){if(n(this),!o(e))throw TypeError(e+" is not a regexp!");var t=String(this),i="flags"in s?String(e.flags):a.call(e),c=new RegExp(e.source,~i.indexOf("g")?i:"g"+i);return c.lastIndex=r(e.lastIndex),new l(c,t)}})},function(e,exports,t){t(27)("asyncIterator")},function(e,exports,t){t(27)("observable")},function(e,exports,t){var i=t(8),n=t(249),r=t(32),o=t(50),a=t(164);i(i.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,i,s=r(e),l=o.f,c=n(s),d={},u=0;c.length>u;)void 0!==(i=l(s,t=c[u++]))&&a(d,t,i);return d}})},function(e,exports,t){var i=t(8),n=t(269)(!1);i(i.S,"Object",{values:function(e){return n(e)}})},function(e,exports,t){var i=t(30),n=t(32),r=t(43).f;e.exports=function(e){return function(t){for(var o,a=n(t),s=i(a),l=s.length,c=0,d=[];l>c;)r.call(a,o=s[c++])&&d.push(e?[o,a[o]]:a[o]);return d}}},function(e,exports,t){var i=t(8),n=t(269)(!0);i(i.S,"Object",{entries:function(e){return n(e)}})},function(e,exports,t){"use strict";var i=t(8),n=t(57),r=t(21),o=t(11);t(6)&&i(i.P+t(272),"Object",{__defineGetter__:function(e,t){o.f(n(this),e,{get:r(t),enumerable:!0,configurable:!0})}})},function(e,exports,t){"use strict";e.exports=t(28)||!t(7)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete t(4)[e]})},function(e,exports,t){"use strict";var i=t(8),n=t(57),r=t(21),o=t(11);t(6)&&i(i.P+t(272),"Object",{__defineSetter__:function(e,t){o.f(n(this),e,{set:r(t),enumerable:!0,configurable:!0})}})},function(e,exports,t){"use strict";var i=t(8),n=t(57),r=t(16),o=t(58),a=t(50).f;t(6)&&i(i.P+t(272),"Object",{__lookupGetter__:function(e){var t,i=n(this),s=r(e,!0);do{if(t=a(i,s))return t.get}while(i=o(i))}})},function(e,exports,t){"use strict";var i=t(8),n=t(57),r=t(16),o=t(58),a=t(50).f;t(6)&&i(i.P+t(272),"Object",{__lookupSetter__:function(e){var t,i=n(this),s=r(e,!0);do{if(t=a(i,s))return t.set}while(i=o(i))}})},function(e,exports,t){var i=t(8);i(i.P+i.R,"Map",{toJSON:t(277)("Map")})},function(e,exports,t){var i=t(74),n=t(278);e.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");return n(this)}}},function(e,exports,t){var i=t(207);e.exports=function(e,t){var n=[];return i(e,!1,n.push,n,t),n}},function(e,exports,t){var i=t(8);i(i.P+i.R,"Set",{toJSON:t(277)("Set")})},function(e,exports,t){t(281)("Map")},function(e,exports,t){"use strict";var i=t(8);e.exports=function(e){i(i.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,exports,t){t(281)("Set")},function(e,exports,t){t(281)("WeakMap")},function(e,exports,t){t(281)("WeakSet")},function(e,exports,t){t(286)("Map")},function(e,exports,t){"use strict";var i=t(8),n=t(21),r=t(20),o=t(207);e.exports=function(e){i(i.S,e,{from:function(e){var t,i,a,s,l=arguments[1];return n(this),t=void 0!==l,t&&n(l),void 0==e?new this:(i=[],t?(a=0,s=r(l,arguments[2],2),o(e,!1,function(e){i.push(s(e,a++))})):o(e,!1,i.push,i),new this(i))}})}},function(e,exports,t){t(286)("Set")},function(e,exports,t){t(286)("WeakMap")},function(e,exports,t){t(286)("WeakSet")},function(e,exports,t){var i=t(8);i(i.G,{global:t(4)})},function(e,exports,t){var i=t(8);i(i.S,"System",{global:t(4)})},function(e,exports,t){var i=t(8),n=t(34);i(i.S,"Error",{isError:function(e){return"Error"===n(e)}})},function(e,exports,t){var i=t(8);i(i.S,"Math",{clamp:function(e,t,i){return Math.min(i,Math.max(t,e))}})},function(e,exports,t){var i=t(8);i(i.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,exports,t){var i=t(8),n=180/Math.PI;i(i.S,"Math",{degrees:function(e){return e*n}})},function(e,exports,t){var i=t(8),n=t(297),r=t(113);i(i.S,"Math",{fscale:function(e,t,i,o,a){return r(n(e,t,i,o,a))}})},function(e,exports){e.exports=Math.scale||function(e,t,i,n,r){return 0===arguments.length||e!=e||t!=t||i!=i||n!=n||r!=r?NaN:e===1/0||e===-1/0?e:(e-t)*(r-n)/(i-t)+n}},function(e,exports,t){var i=t(8);i(i.S,"Math",{iaddh:function(e,t,i,n){var r=e>>>0,o=t>>>0,a=i>>>0;return o+(n>>>0)+((r&a|(r|a)&~(r+a>>>0))>>>31)|0}})},function(e,exports,t){var i=t(8);i(i.S,"Math",{isubh:function(e,t,i,n){var r=e>>>0,o=t>>>0,a=i>>>0;return o-(n>>>0)-((~r&a|~(r^a)&r-a>>>0)>>>31)|0}})},function(e,exports,t){var i=t(8);i(i.S,"Math",{imulh:function(e,t){var i=+e,n=+t,r=65535&i,o=65535&n,a=i>>16,s=n>>16,l=(a*o>>>0)+(r*o>>>16);return a*s+(l>>16)+((r*s>>>0)+(65535&l)>>16)}})},function(e,exports,t){var i=t(8);i(i.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,exports,t){var i=t(8),n=Math.PI/180;i(i.S,"Math",{radians:function(e){return e*n}})},function(e,exports,t){var i=t(8);i(i.S,"Math",{scale:t(297)})},function(e,exports,t){var i=t(8);i(i.S,"Math",{umulh:function(e,t){var i=+e,n=+t,r=65535&i,o=65535&n,a=i>>>16,s=n>>>16,l=(a*o>>>0)+(r*o>>>16);return a*s+(l>>>16)+((r*s>>>0)+(65535&l)>>>16)}})},function(e,exports,t){var i=t(8);i(i.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,exports,t){"use strict";var i=t(8),n=t(9),r=t(4),o=t(208),a=t(213);i(i.P+i.R,"Promise",{finally:function(e){var t=o(this,n.Promise||r.Promise),i="function"==typeof e;return this.then(i?function(i){return a(t,e()).then(function(){return i})}:e,i?function(i){return a(t,e()).then(function(){throw i})}:e)}})},function(e,exports,t){"use strict";var i=t(8),n=t(211),r=t(212);i(i.S,"Promise",{try:function(e){var t=n.f(this),i=r(e);return(i.e?t.reject:t.resolve)(i.v),t.promise}})},function(e,exports,t){var i=t(309),n=t(12),r=i.key,o=i.set;i.exp({defineMetadata:function(e,t,i,a){o(e,t,n(i),r(a))}})},function(e,exports,t){var i=t(215),n=t(8),r=t(23)("metadata"),o=r.store||(r.store=new(t(220))),a=function(e,t,n){var r=o.get(e);if(!r){if(!n)return;o.set(e,r=new i)}var a=r.get(t);if(!a){if(!n)return;r.set(t,a=new i)}return a},s=function(e,t,i){var n=a(t,i,!1);return void 0!==n&&n.has(e)},l=function(e,t,i){var n=a(t,i,!1);return void 0===n?void 0:n.get(e)},c=function(e,t,i,n){a(i,n,!0).set(e,t)},d=function(e,t){var i=a(e,t,!1),n=[];return i&&i.forEach(function(e,t){n.push(t)}),n},u=function(e){return void 0===e||"symbol"==typeof e?e:String(e)},p=function(e){n(n.S,"Reflect",e)};e.exports={store:o,map:a,has:s,get:l,set:c,keys:d,key:u,exp:p}},function(e,exports,t){var i=t(309),n=t(12),r=i.key,o=i.map,a=i.store;i.exp({deleteMetadata:function(e,t){var i=arguments.length<3?void 0:r(arguments[2]),s=o(n(t),i,!1);if(void 0===s||!s.delete(e))return!1;if(s.size)return!0;var l=a.get(t);return l.delete(i),!!l.size||a.delete(t)}})},function(e,exports,t){var i=t(309),n=t(12),r=t(58),o=i.has,a=i.get,s=i.key,l=function(e,t,i){if(o(e,t,i))return a(e,t,i);var n=r(t);return null!==n?l(e,n,i):void 0};i.exp({getMetadata:function(e,t){return l(e,n(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,exports,t){var i=t(219),n=t(278),r=t(309),o=t(12),a=t(58),s=r.keys,l=r.key,c=function(e,t){var r=s(e,t),o=a(e);if(null===o)return r;var l=c(o,t);return l.length?r.length?n(new i(r.concat(l))):l:r};r.exp({getMetadataKeys:function(e){return c(o(e),arguments.length<2?void 0:l(arguments[1]))}})},function(e,exports,t){var i=t(309),n=t(12),r=i.get,o=i.key;i.exp({getOwnMetadata:function(e,t){return r(e,n(t),arguments.length<3?void 0:o(arguments[2]))}})},function(e,exports,t){var i=t(309),n=t(12),r=i.keys,o=i.key;i.exp({getOwnMetadataKeys:function(e){return r(n(e),arguments.length<2?void 0:o(arguments[1]))}})},function(e,exports,t){var i=t(309),n=t(12),r=t(58),o=i.has,a=i.key,s=function(e,t,i){if(o(e,t,i))return!0;var n=r(t);return null!==n&&s(e,n,i)};i.exp({hasMetadata:function(e,t){return s(e,n(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,exports,t){var i=t(309),n=t(12),r=i.has,o=i.key;i.exp({hasOwnMetadata:function(e,t){return r(e,n(t),arguments.length<3?void 0:o(arguments[2]))}})},function(e,exports,t){var i=t(309),n=t(12),r=t(21),o=i.key,a=i.set;i.exp({metadata:function(e,t){return function(i,s){a(e,t,(void 0!==s?n:r)(i),o(s))}}})},function(e,exports,t){var i=t(8),n=t(210)(),r=t(4).process,o="process"==t(34)(r);i(i.G,{asap:function(e){var t=o&&r.domain;n(t?t.bind(e):e)}})},function(e,exports,t){"use strict";var i=t(8),n=t(4),r=t(9),o=t(210)(),a=t(25)("observable"),s=t(21),l=t(12),c=t(206),d=t(214),u=t(10),p=t(207),f=p.RETURN,g=function(e){return null==e?void 0:s(e)},m=function(e){var t=e._c;t&&(e._c=void 0,t())},_=function(e){return void 0===e._o},v=function(e){_(e)||(e._o=void 0,m(e))},h=function(e,t){l(e),this._c=void 0,this._o=e,e=new y(this);try{var i=t(e),n=i;null!=i&&("function"==typeof i.unsubscribe?i=function(){n.unsubscribe()}:s(i),this._c=i)}catch(t){return void e.error(t)}_(this)&&m(this)};h.prototype=d({},{unsubscribe:function(){v(this)}});var y=function(e){this._s=e};y.prototype=d({},{next:function(e){var t=this._s;if(!_(t)){var i=t._o;try{var n=g(i.next);if(n)return n.call(i,e)}catch(e){try{v(t)}finally{throw e}}}},error:function(e){var t=this._s;if(_(t))throw e;var i=t._o;t._o=void 0;try{var n=g(i.error);if(!n)throw e;e=n.call(i,e)}catch(e){try{m(t)}finally{throw e}}return m(t),e},complete:function(e){var t=this._s;if(!_(t)){var i=t._o;t._o=void 0;try{var n=g(i.complete);e=n?n.call(i,e):void 0}catch(e){try{m(t)}finally{throw e}}return m(t),e}}});var w=function(e){c(this,w,"Observable","_f")._f=s(e)};d(w.prototype,{subscribe:function(e){return new h(e,this._f)},forEach:function(e){var t=this;return new(r.Promise||n.Promise)(function(i,n){s(e);var r=t.subscribe({next:function(t){try{return e(t)}catch(e){n(e),r.unsubscribe()}},error:n,complete:i})})}}),d(w,{from:function(e){var t="function"==typeof this?this:w,i=g(l(e)[a]);if(i){var n=l(i.call(e));return n.constructor===t?n:new t(function(e){return n.subscribe(e)})}return new t(function(t){var i=!1;return o(function(){if(!i){try{if(p(e,!1,function(e){if(t.next(e),i)return f})===f)return}catch(e){if(i)throw e;return void t.error(e)}t.complete()}}),function(){i=!0}})},of:function(){for(var e=0,t=arguments.length,i=new Array(t);e<t;)i[e]=arguments[e++];return new("function"==typeof this?this:w)(function(e){var t=!1;return o(function(){if(!t){for(var n=0;n<i.length;++n)if(e.next(i[n]),t)return;e.complete()}}),function(){t=!0}})}}),u(w.prototype,a,function(){return this}),i(i.G,{Observable:w}),t(193)("Observable")},function(e,exports,t){var i=t(4),n=t(8),r=t(260),o=[].slice,a=/MSIE .\./.test(r),s=function(e){return function(t,i){var n=arguments.length>2,r=!!n&&o.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,i)}};n(n.G+n.B+n.F*a,{setTimeout:s(i.setTimeout),setInterval:s(i.setInterval)})},function(e,exports,t){var i=t(8),n=t(209);i(i.G+i.B,{setImmediate:n.set,clearImmediate:n.clear})},function(e,exports,t){for(var i=t(194),n=t(30),r=t(18),o=t(4),a=t(10),s=t(129),l=t(25),c=l("iterator"),d=l("toStringTag"),u=s.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=n(p),g=0;g<f.length;g++){var m,_=f[g],v=p[_],h=o[_],y=h&&h.prototype;if(y&&(y[c]||a(y,c,u),y[d]||a(y,d,_),s[_]=u,v))for(m in i)y[m]||r(y,m,i[m],!0)}},function(e,exports){(function(t){!function(t){"use strict";function i(e,t,i,n){var o=t&&t.prototype instanceof r?t:r,a=Object.create(o.prototype),s=new f(n||[]);return a._invoke=c(e,i,s),a}function n(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}function r(){}function o(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function i(t,r,o,a){var s=n(e[t],e,r);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&h.call(c,"__await")?Promise.resolve(c.__await).then(function(e){i("next",e,o,a)},function(e){i("throw",e,o,a)}):Promise.resolve(c).then(function(e){l.value=e,o(l)},a)}a(s.arg)}function r(e,t){function n(){return new Promise(function(n,r){i(e,t,n,r)})}return o=o?o.then(n,n):n()}"object"==typeof t.process&&t.process.domain&&(i=t.process.domain.bind(i));var o;this._invoke=r}function c(e,t,i){var r=P;return function(o,a){if(r===E)throw new Error("Generator is already running");if(r===D){if("throw"===o)throw a;return m()}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var l=d(s,i);if(l){if(l===T)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===P)throw r=D,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=E;var c=n(e,t,i);if("normal"===c.type){if(r=i.done?D:C,c.arg===T)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=D,i.method="throw",i.arg=c.arg)}}}function d(e,t){var i=e.iterator[t.method];if(i===_){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=_,d(e,t),"throw"===t.method))return T;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var r=n(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,T;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=_),t.delegate=null,T):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,T)}function u(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(u,this),this.reset(!0)}function g(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function t(){for(;++i<e.length;)if(h.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=_,t.done=!0,t};return n.next=n}}return{next:m}}function m(){return{value:_,done:!0}}var _,v=Object.prototype,h=v.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},w=y.iterator||"@@iterator",b=y.asyncIterator||"@@asyncIterator",k=y.toStringTag||"@@toStringTag",x="object"==typeof e,S=t.regeneratorRuntime;if(S)return void(x&&(e.exports=S));S=t.regeneratorRuntime=x?e.exports:{},S.wrap=i;var P="suspendedStart",C="suspendedYield",E="executing",D="completed",T={},N={};N[w]=function(){return this};var I=Object.getPrototypeOf,L=I&&I(I(g([])));L&&L!==v&&h.call(L,w)&&(N=L);var M=a.prototype=r.prototype=Object.create(N);o.prototype=M.constructor=a,a.constructor=o,a[k]=o.displayName="GeneratorFunction",S.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,k in e||(e[k]="GeneratorFunction")),e.prototype=Object.create(M),e},S.awrap=function(e){return{__await:e}},s(l.prototype),l.prototype[b]=function(){return this},S.AsyncIterator=l,S.async=function(e,t,n,r){var o=new l(i(e,t,n,r));return S.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},s(M),M[k]="Generator",M[w]=function(){return this},M.toString=function(){return"[object Generator]"},S.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},S.values=g,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=_,this.done=!1,this.delegate=null,this.method="next",this.arg=_,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&h.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=_)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return o.type="throw",o.arg=e,i.next=t,n&&(i.method="next",i.arg=_),!!n}if(this.done)throw e;for(var i=this,n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],o=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var a=h.call(r,"catchLoc"),s=h.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&h.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,T):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),T},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),p(i),T}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;p(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:g(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=_),T}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(exports,function(){return this}())},function(e,exports,t){t(325),e.exports=t(9).RegExp.escape},function(e,exports,t){var i=t(8),n=t(326)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(e){return n(e)}})},function(e,exports){e.exports=function(e,t){var i=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,i)}}},function(e,exports){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();!function(){var e=function(){function e(){t(this,e),this.widgets=[],this.indexes=[],this.default_values={},this.configs={}}return i(e,[{key:"build_widgets",value:function(e){var t=!0,i=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.widgets.push(a),this.append_style_template(a),this.init_data(a)}}catch(e){i=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw n}}}},{key:"is_empty",value:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},{key:"append_style_template",value:function(e){var t={style_obj:{style:{},responsive:{},directives:{}},condition_obj:{}};this.travel_node_get_style(e,t.style_obj,t.condition_obj);var i=this.generate_style_template(t);e.visual_view=e.visual_view+i}},{key:"generate_style_template",value:function(e){var t="";return this.is_empty(e.style_obj)||(t+=this.generate_style_tag(e.style_obj)),this.is_empty(e.condition_obj)||(t+=this.generate_condition_style(e.condition_obj)),t.replace(/@attrs/g,"$ctrl.edited.attrs").replace(/@id/g,".{{::$ctrl.getID()}}")}},{key:"generate_style_tag",value:function(e){var t="";for(var i in e.style){t+=i+"{";for(var n in e.style[i])t+=this.upperToDashLower(n)+":"+e.style[i][n]+";";t+="}"}if(t&&(t='<style type="text/css">'+t+"</style>"),!this.is_empty(e.responsive))for(var r in e.responsive)for(var o in e.responsive[r])for(var a in e.responsive[r][o])t+='\n                                <style type="text/css" ng-if="'+o+".hasOwnProperty('tablet')\">\n                                    @media screen and (max-width: 768px){\n                                        "+r+"{ "+this.upperToDashLower(a)+" : {{ "+this.replaceModel(e.responsive[r][o][a],o+".tablet")+" }} }\n                                    }\n                                </style>",t+='\n                                <style type="text/css" ng-if="'+o+".hasOwnProperty('mobile')\">\n                                    @media screen and (max-width: 512px){\n                                        "+r+"{ "+this.upperToDashLower(a)+": {{ "+this.replaceModel(e.responsive[r][o][a],o+".mobile")+" }} }\n                                    }\n                                </style>";return this.is_empty(e.directives)||(t+=this.generate_directive_tag(e.directives)),t}},{key:"generate_directive_tag",value:function(e){var t="";for(var i in e)e[i].forEach(function(e){if(t+="<"+e.tag+' directive-model="'+i+'" ',e.hasOwnProperty("attrs"))for(var n in e.attrs)t+=" "+n+'="'+e.attrs[n]+'"';t+="></"+e.tag+">"});return t}},{key:"generate_condition_style",value:function(e){var t="";for(var i in e){var n=this.generate_style_template(e[i]);n&&(-1!=i.indexOf("@model")?t+=n:(t+="\n<div ng-if='"+i.replace(/\'/g,'"')+"'>",t+=this.minify_condition_str(n),t+="</div>"))}return t&&(t=this.minify_condition_str(t)),t}},{key:"minify_condition_str",value:function(e){return e.lastIndexOf("</style></div>")==e.length-14?e.replace(/<div (ng-if=[^>]+)><style type="text\/css">([^>]+)<\/style><\/div>/g,'<style type="text/css" $1>$2</style>'):e}},{key:"replaceModel",value:function(e,t){var i="";return e.split(/({{[^{}]*}})/g).forEach(function(e){e&&(/{{/.test(e)?i+="+ "+e.replace("{{","").replace("}}","")+" +":i+="'"+e+"'")}),"+"==i.charAt(0)&&(i=i.substr(1)),"+"==i.charAt(i.length-1)&&(i=i.substr(0,i.length-1)),i.replace(/@model/g,t)}},{key:"upperToDashLower",value:function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}},{key:"travel_node_get_style",value:function(e,t,i){var n=this;if(e.hasOwnProperty("if")||e.hasOwnProperty("show")){var r=e.hasOwnProperty("if")?e.if:e.show;i.hasOwnProperty(r)?i[r]=this.get_condition_style(e,i[r]):i[r]=this.get_condition_style(e)}else Array.isArray(e.content)?e.content.forEach(function(e){n.travel_node_get_style(e,t,i)}):this.get_style_item(e,t)}},{key:"get_condition_style",value:function(e,t){var i=this,n=t||{style_obj:{style:{},responsive:{},directives:{}},condition_obj:{}};return e.hasOwnProperty("content")&&Array.isArray(e.content)?e.content.forEach(function(e){i.travel_node_get_style(e,n.style_obj,n.condition_obj)}):this.get_style_item(e,n.style_obj),n}},{key:"get_style_item",value:function(e,t){if(e.hasOwnProperty("bind_to"))if(e.hasOwnProperty("styles"))for(var i in e.styles){t.style.hasOwnProperty(i)||(t.style[i]={});for(var n in e.styles[i])t.style[i][n]=e.styles[i][n].replace(/@model/g,e.bind_to)}else if(e.hasOwnProperty("responsive_styles"))for(var i in e.responsive_styles){t.style.hasOwnProperty(i)||(t.style[i]={}),t.responsive.hasOwnProperty(i)||(t.responsive[i]={}),t.responsive[i].hasOwnProperty(e.bind_to)||(t.responsive[i][e.bind_to]={});for(var n in e.responsive_styles[i])t.style[i][n]=e.responsive_styles[i][n].replace(/@model/g,e.bind_to+".desktop"),t.responsive[i][e.bind_to][n]=e.responsive_styles[i][n]}else e.hasOwnProperty("directives")&&(t.directives[e.bind_to]=e.directives)}},{key:"get_visual_views",value:function(){var e={};return this.widgets.forEach(function(t){t.hasOwnProperty("visual_view")&&(e[t.tag]=t.visual_view)}),e}},{key:"get_visual_view_by_tag",value:function(e){var t=!0,i=!1,n=void 0;try{for(var r,o=this.widgets[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.tag==e)return a.visual_view}}catch(e){i=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw n}}return""}},{key:"get_widget_model_list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[],i=[],n=this.widgets.filter(function(e){return!e.hasOwnProperty("core")});e&&(n=n.filter(function(t){return t.hasOwnProperty(e)}));var r=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;isNaN(c.priority)?t.push(c):i.push(c)}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}i.sort(function(e,t){return e.priority-t.priority});var d=!0,u=!1,p=void 0;try{for(var f,g=t[Symbol.iterator]();!(d=(f=g.next()).done);d=!0){for(var m=f.value,_=!1,v=0;v<i.length;v++)if(m.priority==i[v].tag){i.splice(v+1,0,m),_=!0;break}_||i.push(m)}}catch(e){u=!0,p=e}finally{try{!d&&g.return&&g.return()}finally{if(u)throw p}}var h=[],y=!0,w=!1,b=void 0;try{for(var k,x=i[Symbol.iterator]();!(y=(k=x.next()).done);y=!0){var S=k.value,P=this.get_model(S);S.hasOwnProperty("native")?P.native=S.native:P.native=!1,S.hasOwnProperty("nested")?P.nested=S.nested:P.nested=!1,S.hasOwnProperty("keywords")?P.keywords=S.keywords:S.hasOwnProperty("name")&&(P.keywords=[S.name]),S.hasOwnProperty("filter")?P.filter=S.filter:P.filter=["other"],S.hasOwnProperty("icon_url")&&(P.icon_url=S.icon_url),h.push(P)}}catch(e){w=!0,b=e}finally{try{!y&&x.return&&x.return()}finally{if(w)throw b}}return h}},{key:"get_raw_widget_list",value:function(){return this.widgets}},{key:"get_editor_view",value:function(e){if(e.hasOwnProperty("content")){var t="",i=!0,n=!1,r=void 0;try{for(var o,a=e.content[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var s=o.value;t+=this.generate_editor_view(s)}}catch(e){n=!0,r=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw r}}}return t}},{key:"generate_editor_view",value:function(e){var t="",i=e.hasOwnProperty("tag")?e.tag:"div",n="";if(e.hasOwnProperty("if")?n=' ng-if="'+e.if.replace(/@/g,"$ctrl.edited.").replace(/\.model/g,"").replace(/"/g,"'")+'"':e.hasOwnProperty("show")&&(n=' ng-if="'+e.show.replace(/@/g,"$ctrl.edited.").replace(/\.model/g,"").replace(/"/g,"'")+'"'),e.hasOwnProperty("bind_to")){t+="<"+i+n,-1!==e.bind_to.indexOf("@attrs.")?t+=' model="'+e.bind_to.replace("@attrs","$ctrl.edited.attrs")+'"':-1!==e.bind_to.indexOf("@content")?t+=' model="'+e.bind_to.replace("@content","$ctrl.edited.content")+'"':-1!=e.bind_to.indexOf("@model")&&(t+=' model="'+e.bind_to.replace("@model","$ctrl.edited")+'"');for(var r in e.attrs)t+="config"==r?' config="$ctrl.config.'+e.bind_to.split(".")[1]+'"':" "+r+'="'+e.attrs[r]+'"';t+="></"+i+">"}else{t+="<"+i+n;for(var o in e.attrs)t+=" "+o+'="'+e.attrs[o]+'"';if(t+=">",Array.isArray(e.content)){var a=!0,s=!1,l=void 0;try{for(var c,d=e.content[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var u=c.value;t+=this.generate_editor_view(u)}}catch(e){s=!0,l=e}finally{try{!a&&d.return&&d.return()}finally{if(s)throw l}}}else"string"==typeof e.content&&(t+=e.content);t+="</"+i+">"}return t}},{key:"get_editor_view_by_tag",value:function(e){var t=!0,i=!1,n=void 0;try{for(var r,o=this.widgets[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.tag===e)return this.get_editor_view(a)}}catch(e){i=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw n}}return null}},{key:"travel_node",value:function(e,t){var i=this;Array.isArray(e.content)?e.content.forEach(function(e){i.travel_node(e,t)}):t(e)}},{key:"get_model",value:function(e){var t={};return t.tag=e.tag,t.name=e.name,t.attrs={},e.hasOwnProperty("core")&&e.core&&(t.core=!0),this.travel_node(e,function(e){if(e.hasOwnProperty("bind_to")&&e.hasOwnProperty("default_value"))if(/^@attrs\..+/g.test(e.bind_to)){var i=e.bind_to.substr(7);t.attrs[i]=e.default_value}else/^@content$/g.test(e.bind_to)&&(t.content=e.default_value)}),e.hasOwnProperty("child")&&(t.content=[]),e.hasOwnProperty("core")&&e.core&&(t.content=[]),t}},{key:"get_model_by_tag",value:function(e){if(this.indexes.hasOwnProperty(e))return this.indexes[e];var t=!0,i=!1,n=void 0;try{for(var r,o=this.widgets[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.tag===e)return this.indexes[e]=this.get_model(a),this.indexes[e]}}catch(e){i=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw n}}return null}},{key:"get_child_model_list",value:function(){var e=this,t={};return this.widgets.forEach(function(i){i.hasOwnProperty("child")&&(t[i.tag]=e.get_model(i.child))}),t}},{key:"get_shortcode_templates",value:function(){var e=this,t={};return this.widgets.forEach(function(i){var n=e.get_shortcode_template(i);if(t[i.tag]=n,i.hasOwnProperty("child")){var r=e.get_shortcode_template(i.child);t[i.child.tag]=r}}),t}},{key:"get_shortcode_template",value:function(e){var t={};return t.native=e.hasOwnProperty("native")&&!0===e.native,t.attrs=[],this.travel_node(e,function(e){(!e.hasOwnProperty("styles")&&!e.hasOwnProperty("directives")&&!e.hasOwnProperty("responsive_styles")||e.hasOwnProperty("generate")&&("both"==e.generate||"only_shortcode"==e.generate))&&e.hasOwnProperty("bind_to")&&/^@attrs\..+/g.test(e.bind_to)&&t.attrs.push(e.bind_to.substr(7))}),t}},{key:"travel_node_get_template",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=[].concat(n),o="";e.hasOwnProperty("if")?o=e.if:e.hasOwnProperty("show")&&(o=e.show),o=o.replace(/\s/g,"").split("&&");var a=!0,s=!1,l=void 0;try{for(var c,d=o[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var u=c.value;-1!==u.indexOf("@attrs.")&&r.push(u)}}catch(e){s=!0,l=e}finally{try{!a&&d.return&&d.return()}finally{if(s)throw l}}e.hasOwnProperty("content")?e.content.forEach(function(e){i.travel_node_get_template(e,t,r)}):t(e,r)}},{key:"get_style_templates",value:function(){var e=this,t={},i=function(t){var i={};return e.travel_node_get_template(t,function(e,t){if(e.hasOwnProperty("styles")&&(!e.hasOwnProperty("generate")||"only_shortcode"!==e.generate)&&/^@attrs\..+/g.test(e.bind_to)){var n=e.bind_to.substr(7),r={};r.styles={},e.hasOwnProperty("force")&&e.force||!t.length||(r.condition=t.join(" && ").replace(/@attrs/g,"attrs")),e.hasOwnProperty("when")&&(r.when=e.when.replace(/@model/g,"attrs."+n).replace(/@attrs/g,"attrs"));for(var o in e.styles){var a=e.styles[o],s=Object.assign({},a);for(var l in s)s[l]=s[l].replace(/@model/g,"attrs."+n);r.styles[o]=s}i.hasOwnProperty(n)||(i[n]=[]),i[n].push(r)}}),i};return this.widgets.forEach(function(e){t[e.tag]=i(e),e.hasOwnProperty("child")&&(t[e.child.tag]=i(e.child))}),t}},{key:"get_responsive_style_templates",value:function(){var e=this,t={},i=function(t){var i={};return e.travel_node_get_template(t,function(e,t){if(e.hasOwnProperty("responsive_styles")&&(!e.hasOwnProperty("generate")||"only_shortcode"!==e.generate)&&/^@attrs\..+/g.test(e.bind_to)){var n=e.bind_to.substr(7),r={};r.styles={},e.hasOwnProperty("force")&&e.force||!t.length||(r.condition=t.join(" && ").replace(/@attrs/g,"attrs")),e.hasOwnProperty("when")&&(r.when=e.when.replace(/@model/g,"attrs."+n).replace(/@attrs/g,"attrs"));for(var o in e.responsive_styles){var a=e.responsive_styles[o],s=Object.assign({},a);for(var l in s)s[l]=s[l].replace(/@model/g,"attrs."+n+".@device");r.styles[o]=s}i.hasOwnProperty(n)||(i[n]=[]),i[n].push(r)}}),i};return this.widgets.forEach(function(e){t[e.tag]=i(e),e.hasOwnProperty("child")&&(t[e.child.tag]=i(e.child))}),t}},{key:"get_directive_templates",value:function(){var e=this,t={},i=function(t){var i={};return e.travel_node_get_template(t,function(e,t){if(e.hasOwnProperty("directives")&&/^@attrs\..+/g.test(e.bind_to)){var n=e.bind_to.substr(7);i[n]={},t.length&&(i[n].condition=t.join(" && ").replace(/@attrs/g,"attrs")),i[n].directives=[],Array.isArray(e.directives)&&(i[n].directives=i[n].directives.concat(e.directives))}}),i};return this.widgets.forEach(function(e){var n=i(e);if(n&&(t[e.tag]=n),e.hasOwnProperty("child")){var r=i(e.child);r&&(t[e.child.tag]=r)}}),t}},{key:"init_data",value:function(e){var t=this,i=function(e){var i={};return t.travel_node(e,function(e){if(/^@attrs\..+/g.test(e.bind_to)&&e.hasOwnProperty("default_value")){var t=e.bind_to.substr(7);i[t]=e.default_value}}),i},n=i(e);if(n&&(t.default_values[e.tag]=n),e.hasOwnProperty("child")){var r=i(e.child);r&&(t.default_values[e.child.tag]=r)}var o=function(e){var i={};return t.travel_node(e,function(e){e.hasOwnProperty("attrs")&&e.attrs.hasOwnProperty("config")&&(i[e.bind_to.split(".")[1]]=e.attrs.config)}),i};t.configs[e.tag]=o(e),e.hasOwnProperty("child")&&(t.configs[e.child.tag]=o(e.child))}},{key:"get_config",value:function(e){return this.configs.hasOwnProperty(e)?this.configs[e]:{}}}]),e}();window.dragifywp_widget_manager=new e}()},function(e,exports,t){"use strict";t(329),t(330),t(331),t(332),t(333),t(334),t(335),t(336),t(337),t(343),t(344)},function(e,exports){"use strict";!function(e){var t=e.module("dragifywp.builder.app",["ngSanitize","dndLists","colorpicker.module","dragifywpService","dragifywpHotKeys","dragifywpPopup","ui.tinymce","ui.ace","dragifywpOutputGenerator"]);t.__config=dragifywp_pb,window.dragifywp_widget_manager.build_widgets(JSON.parse(t.__config.widgets)),t.controller("dragifywp.builder.app.controller",function(){}),"WebkitAppearance"in document.documentElement.style||e.element("html").addClass("not-webkit"),t.config(["$provide","$httpProvider",function(e,t){e.factory("lbHttpInterceptor",["$q","$rootScope",function(e,t){return{request:function(t){return t.headers["X-WP-Nonce"]=dragifywp_pb.nonce,t||e.when(t)},responseError:function(i){return void 0!==i.data&&"rest_cookie_invalid_nonce"==i.data.code&&t.$emit("expired_session"),e.reject(i)}}}]),t.interceptors.push("lbHttpInterceptor")}]).config(["$compileProvider",function(e){e.debugInfoEnabled(t.__config.enable_debug)}]),t.component("dragifywpPageBuilder",{controller:["$DragifyWPService",function(e){if(this.service=e,!Modernizr.flexbox||!Modernizr.flexwrap){var t=document.querySelector(".dragifywp-bs__preloader");t.className=t.className+" dragifywp-bs__preloader--hide"}}],template:function(){if(Modernizr.flexbox&&Modernizr.flexwrap){var e="";return t.__config.is_block||(e="<dragifywp-library></dragifywp-library>"),"<div class=\"dragifywp-bs\" ng-class=\"{'dragifywp-bs--collapsed':$ctrl.service.sidebar_collapse,'dragifywp-bs--editable':$ctrl.service.editableMode}\"><dragifywp-bs-sidebar></dragifywp-bs-sidebar><dragifywp-bs-preview></dragifywp-bs-preview><dragifywp-bs-right-click-action></dragifywp-bs-right-click-action></div><dragifywp-help-panel></dragifywp-help-panel><dragifywp-wireframe></dragifywp-wireframe>"+e}return'<div class="dragifywp-bs__notSupportMessage"><p>Opp! We currently do not support This Browser. Please switch to <strong>modern</strong> Browsers such as last-versions of <strong>Chrome</strong> or <strong>Firefox</strong> for better experience.</p></div>'}})}(window.angular)},function(e,exports){"use strict";angular.module("dragifywpService",[]).service("$DragifyWPService",["$http","$timeout","$rootScope",function(e,t,i){var n=this;n.edited=void 0,n.loadingEdited=!1,n.child=void 0,n.showChild=!1,n.content=[],n.custom_css="",n.custom_js="",n.saveProperties=["tag","name","attrs","content","nested","core"],n.mapped=n,n.tab="map",n.link=[0],n.dragFromSidebar=!1,n.reservedObjects=[],n.isUndo=!1,n.visualShow=!0,n.lockVisualShow=!1,n.dropArea="",n.layout_templates=void 0,"undefined"!=typeof Storage&&(sessionStorage.hasOwnProperty("shortcode_datas")||(sessionStorage.shortcode_datas="{}")),n.getSessionData=function(e){if("undefined"!=typeof Storage&&sessionStorage.hasOwnProperty("shortcode_datas")){var t=JSON.parse(sessionStorage.shortcode_datas);if(t.hasOwnProperty(e))return t[e]}return!1},n.getSessionData=function(e){if("undefined"!=typeof Storage&&sessionStorage.hasOwnProperty("shortcode_datas")){var t=JSON.parse(sessionStorage.shortcode_datas);if(t.hasOwnProperty(e))return t[e]}return!1},n.setSessionData=function(e,t){if("undefined"!=typeof Storage&&sessionStorage.hasOwnProperty("shortcode_datas")){var i=JSON.parse(sessionStorage.shortcode_datas);i[e]=t,sessionStorage.shortcode_datas=JSON.stringify(i)}},n.getContentForSave=function(){return n.cloneArray(n.content,n.saveProperties)},n.deeplyFilterProperties=function(e,t){for(var i in e)-1==t.indexOf(i)&&n.removeProperty(e,i);if(angular.isArray(e.content))for(var r=0,o=e.content.length;r<o;r++)n.deeplyFilterProperties(e.content[r],t)},n.switchTab=function(e){"map"==n.tab&&n.removeVisualNode(),n.tab=e,n.showChild&&(n.showChild=!1),n.icons_expand&&(n.icons_expand=!1),"widgets"==e&&i.$emit("widget-search-focus")},n.getNodeForMap=function(e){if(void 0===e)return n;for(var t=n,i=0;i<e.length&&void 0!==t;i++)t=t.content[e[i]];return t},n.getParentNodeFromLink=function(e){for(var t=n,i=1,r=e.length-1;i<r;i++)t=t.content[e[i]];return t},n.commandManager={list:[],free:!0,currentIndex:0,limit:100,addCommand:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.list.length;i>this.currentIndex;)this.list.pop(),i--;this.list.length==this.limit?this.list.shift():this.currentIndex++,this.list.push(e),t&&e.execute()},undo:function(){var e=this;if(this.currentIndex>0&&this.free){this.free=!1,this.currentIndex--;var t=this.list[this.currentIndex];t.undo(),t.hasOwnProperty("parentLink")&&this.safeCheck(n.getNodeFromLink(t.parentLink)),this.blinkUndo(),setTimeout(function(){e.free=!0},300)}},redo:function(){var e=this;if(this.currentIndex<this.list.length&&this.free){this.free=!1;var t=this.list[this.currentIndex];t.execute(),t.hasOwnProperty("parentLink")&&this.safeCheck(n.getNodeFromLink(t.parentLink)),this.currentIndex++,this.blinkRedo(),setTimeout(function(){e.free=!0},300)}},safeCheck:function(e){e.hasOwnProperty("core")&&e.core||e.hasOwnProperty("nested")&&e.nested||n===e||!Array.isArray(e.content)||n.edited===e||i.$emit("safe-check-"+n.getID(e))},canUndo:function(){return this.currentIndex>0},canRedo:function(){return this.currentIndex<this.list.length},init:function(){this.undoBtn=angular.element(".dragifywp-bs__header__undoBtn"),this.redoBtn=angular.element(".dragifywp-bs__header__redoBtn")},blinkUndo:function(){var e=this;e.undoBtn.addClass("dragifywp-ui--blink"),setTimeout(function(){e.undoBtn.removeClass("dragifywp-ui--blink")},200)},blinkRedo:function(){var e=this;e.redoBtn.addClass("dragifywp-ui--blink"),setTimeout(function(){e.redoBtn.removeClass("dragifywp-ui--blink")},200)}},n.setChangeAttr=function(e){n.commandManager.addCommand({execute:function(){var t,r=n.getNodeFromLink(e.link);if((t=e.hasOwnProperty("parentLink")?n.getNodeFromLink(e.parentLink):r)!=n.edited){var o=n.getID(t);i.$emit("in-"+o),setTimeout(function(){i.$emit("out-"+o)})}e.isAttr?r.attrs[e.attrField]=e.newVal:r.content=e.newVal},undo:function(){var t,r=n.getNodeFromLink(e.link);if((t=e.hasOwnProperty("parentLink")?n.getNodeFromLink(e.parentLink):r)!=n.edited){var o=n.getID(t);i.$emit("in-"+o),setTimeout(function(){i.$emit("out-"+o)})}e.isAttr?r.attrs[e.attrField]=e.oldVal:r.content=e.oldVal}},!1)},n.applyFromLibrary=function(e){var t=angular.merge([],n.content),i=n.custom_css,r=n.custom_js;n.commandManager.addCommand({execute:function(){n.content=e.content,n.resetLink(n),n.mapped=n,n.edited=void 0,n.custom_css=e.custom_css,n.custom_js=e.custom_js},undo:function(){n.content=t,n.resetLink(n),n.mapped=n,n.edited=void 0,n.custom_css=i,n.custom_js=r},parent:function(){return n}})},n.removeAllChildNodes=function(e){n.commandManager.addCommand({store:[],parentLink:e.link,execute:function(){var e=n.getNodeFromLink(this.parentLink);this.store=[].concat(e.content),void 0!==n.edited&&n.containsNode(e,n.edited)&&(n.edited=void 0,n.child=void 0,n.showChild=!1),e.content.length=0},undo:function(){var e=n.getNodeFromLink(this.parentLink),t=!0,i=!1,r=void 0;try{for(var o,a=this.store[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;e.content.push(s)}}catch(e){i=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(i)throw r}}n.resetLink(e)}})},n.moveNodeToTrash=function(e){var t=n.getIndex(e);n.commandManager.addCommand({parentLink:n.getParentNode(e).link,execute:function(){var e=n.getNodeFromLink(this.parentLink);n.removeNodeFromParent(e,t)},undo:function(){var i=n.getNodeFromLink(this.parentLink);n.addNodeToParent(e,i,t)},parent:function(){return n.getNodeFromLink(this.parentLink)}},!1)},n.moveNode=function(e,t,i){if(i.hasOwnProperty("link")){var r=n.getParentNode(i),o=n.getIndex(i),a=angular.merge([],r.link),s=angular.merge([],e.link),l=!1;JSON.stringify(a)==JSON.stringify(s)&&t>o&&t--,4==a.length&&(6==s.length||5==s.length)&&n.containsNode(r,e)&&o<s[4]&&(s[4]--,l=!0),n.commandManager.addCommand({parentLink:s,execute:function(){var e=n.getNodeFromLink(a);n.removeNodeFromParent(e,o),l&&this.parentLink[4]--;var r=n.getNodeFromLink(this.parentLink);n.addNodeToParent(i,r,t)},undo:function(){var e=n.getNodeFromLink(this.parentLink);n.removeNodeFromParent(e,t);var r=n.getNodeFromLink(a);n.addNodeToParent(i,r,o),l&&this.parentLink[4]++}},!1)}else n.commandManager.addCommand({parentLink:e.link,execute:function(){var e=n.getNodeFromLink(this.parentLink);n.addNodeToParent(i,e,t)},undo:function(){var e=n.getNodeFromLink(this.parentLink);n.removeNodeFromParent(e,t)}},!1)},n.addNode=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.content.length;n.commandManager.addCommand({parentLink:e.link,execute:function(){var e=n.getNodeFromLink(this.parentLink);n.addNodeToParent(t,e,i)},undo:function(){var e=n.getNodeFromLink(this.parentLink);n.removeNodeFromParent(e,i)}})},n.addNodes=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.content.length;n.commandManager.addCommand({parentLink:e.link,execute:function(){var e=n.getNodeFromLink(this.parentLink),r=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;e.content.splice(i,0,c),n.setLink(e,c,i),n.resetLink(c),i++}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}n.resetChildLinkFromIndex(e,i)},undo:function(){var r=n.getNodeFromLink(this.parentLink),o=t.length;for(i==e.content.length&&(i-=o);o>0;)n.safeCheck(r.content[i]),r.content.splice(i,1),o--;n.resetChildLinkFromIndex(r,i)}})},n.removeNode=function(e){var t=n.getIndex(e);n.commandManager.addCommand({parentLink:n.getParentNode(e).link,execute:function(){var e=n.getNodeFromLink(this.parentLink);n.removeNodeFromParent(e,t)},undo:function(){var i=n.getNodeFromLink(this.parentLink);n.addNodeToParent(e,i,t)}})},n.setLink=function(e,t,i){t.link=e.link.concat([i])},n.resetLink=function(e){if(Array.isArray(e.content))for(var t=0;t<e.content.length;t++)n.setLink(e,e.content[t],t),n.resetLink(e.content[t])},n.resetChildLinkFromIndex=function(e,t){for(var i=e.content.length;t<i;)n.setLink(e,e.content[t],t),n.resetLink(e.content[t]),t++},n.safeCheck=function(e){(e===n.mapped||n.containsNode(e,n.mapped))&&(n.mapped=n.getParentNode(e)),void 0===n.edited||e!==n.edited&&!n.containsNode(e,n.edited)||(n.edited=void 0),void 0===n.child||e!==n.child&&!n.containsNode(e,n.child)||i.$emit("removeChildParent")},n.containsNode=function(e,t){if(e.link.length<t.link.length){for(var i=0,n=e.link.length;i<n;i++)if(e.link[i]!=t.link[i])return!1;return!0}return!1},n.removeNodeFromParent=function(e,i){n.safeCheck(e.content[i]),e.content.splice(i,1),n.resetChildLinkFromIndex(e,i),0==e.content.length&&t(function(){angular.element(n.getIframeDoc().body).toggleClass("watch-remove-node")})},n.addNodeToParent=function(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.content.length;i.content.splice(r,0,e),n.setLink(i,e,r),n.resetLink(e),n.resetChildLinkFromIndex(i,r+1),1==i.content.length&&t(function(){angular.element(n.getIframeDoc().body).toggleClass("watch-add-node")})},n.deleteNodeFromParent=function(e,t,r){n.safeCheck(e,t),r?i.$emit("reserveToUndo",e.content.splice(t,1)):e.content.splice(t,1),n.resetChildLinkFromIndex(e,t)},n.deleteNode=function(e,t){var i=n.getParentNode(e),r=n.getIndex(e);n.deleteNodeFromParent(i,r,t)},n.reset=function(){n.resetLink(n)},n.getParentNode=function(e){void 0===e.link&&n.reset();for(var t=e.link,i=n,r=1;r<t.length-1;r++)i=i.content[t[r]];return i},n.getNodeFromLink=function(e){for(var t=n,i=1;i<e.length;i++)t=t.content[e[i]];return t},n.getLevel=function(e){return e.link.length},n.getIndex=function(e){return void 0===e.link&&n.reset(),e.link[e.link.length-1]},n.getDataForComparingToSave=function(){var e={};return e.custom_css=n.custom_css,e.custom_js=n.custom_js,e.data=n.cloneArray(n.content,["attrs","content"]),dragifywp_pb.is_block&&(e.block_frame=n.block_frame),JSON.stringify(e)},n.cloneObject=function(e,t){var i={};return t.forEach(function(r){if(e.hasOwnProperty(r)){var o=e[r];"content"==r&&e[r]instanceof Array?i[r]=n.cloneArray(o,t):o instanceof Object?i[r]=angular.merge({},o):i[r]=o}}),i},n.cloneArray=function(e,t){for(var i=[],r=0,o=e.length;r<o;r++){var a=e[r];i[r]=n.cloneObject(a,t)}return i},n.clone=function(e){return n.cloneObject(e,["content","attrs","native","tag","name","nested"])},n.duplicateNodeFromParent=function(e,i){n.addNode(e,n.clone(e.content[i]),parseInt(i)+1),t(function(){var t=e.content[parseInt(i)+1],r=angular.element(n.getIframeElement(".lvh__"+n.getID(t)));r.addClass("dragifywp-dnd__visual--show"),n.scrollToElement(t),setTimeout(function(){r.removeClass("dragifywp-dnd__visual--show")},500)},150)},n.duplicateNode=function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n.getParentNode(e),o=n.getIndex(e);n.addNode(r,n.clone(e),parseInt(o)+1),i&&t(function(){var e=r.content[parseInt(o)+1],t=angular.element(n.getIframeElement(".lvh__"+n.getID(e)));t.addClass("dragifywp-dnd__visual--show"),n.scrollToElement(e),setTimeout(function(){t.removeClass("dragifywp-dnd__visual--show")},500)},150)},n.duplicateNodeWithoutScroll=function(e){var t=n.getParentNode(e),i=n.getIndex(e),r=n.clone(e);n.addNode(t,r,parseInt(i)+1)},n.getID=function(e){if(e){var t=e.$$hashKey.match(/\d+$/);return t?"lbe__"+t[0]:""}},n.constructTag=function(e){return e.toLowerCase().split("_").join("-")},n.scrollToElement=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.edited,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0!==e){var i=jQuery(n.getIframeDoc()),r=i.find(".lvh__"+n.getID(e));if(r){var o=document.body,a=document.documentElement,s=Math.max(o.scrollHeight,o.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight),l=r.offset().top;r.innerHeight()/window.innerHeight<.7&&l+.75*window.innerHeight>=s&&(l-=.25*window.innerHeight),i.find("body,html").animate({scrollTop:l},300),t&&setTimeout(function(){r.addClass("dragifywp-dnd__visual--show"),setTimeout(function(){r.removeClass("dragifywp-dnd__visual--show")},300)},400)}return!1}},n.highlightNode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.edited;if(void 0!==e){var t=angular.element(n.getIframeDoc).find(".lvh__"+n.getID(e));t.addClass("dragifywp-dnd__visual--show"),setTimeout(function(){t.removeClass("dragifywp-dnd__visual--show")},300)}},n.removeProperty=function(e,t){e.hasOwnProperty(t)&&delete e[t]},n.deeplyRemoveProperties=function(e,t){for(var i=0,r=t.length;i<r;i++)n.removeProperty(e,t[i]);if(Array.isArray(e.content))for(var o=0,a=e.content.length;o<a;o++)n.deeplyRemoveProperties(e.content[o],t)},n.item_templates={},n.push_item_template=function(e,t,i){var r=angular.merge({},i);r.template_name=e,n.deeplyRemoveProperties(r,["link"]);var o={};o.template_id=t,o.template_name=e,o.content=r,n.item_templates[i.tag].unshift(o)},n.push_layout_template=function(e,t){var i={};i.template_id=t,i.template_name=e,n.layout_templates.unshift(i)},n.loop_through_item_template=function(e,t){angular.forEach(n.item_templates[e],function(e,i){angular.isFunction(t)&&t(e,i)})},n.loop_through_layout_template=function(e){angular.forEach(n.layout_templates,function(t,i){angular.isFunction(e)&&e(t,i)})},n.showToast=function(e){if(!angular.element(".dragifywp-pb-toast").length){var i=angular.element('<div class="dragifywp-pb-toast"></div>');i.html(e.message),e.hasOwnProperty("type")&&i.addClass(e.type),angular.element(".dragifywp-bs__sidebar").append(i),i.addClass("shown"),t(function(){i.removeClass("shown"),t(function(){i.remove(),(e.callback||angular.noop)()},500)},e.time)}},n.showDialog=function(e){var t=angular.element('<div class="dragifywp-bs__dialog"></div>'),i=angular.element('<div class="dragifywp-bs__dialog__backdrop"></div>'),n=angular.element('<div class="dragifywp-bs__dialog__sidebarBackdrop"></div>'),r=angular.element('<div class="dragifywp-bs__dialog__message"></div>');r.append(e.template),t.append(r);var o=angular.element('<div class="dragifywp-bs__dialog__buttons"></div>');t.append(o);var a=angular.element('<a class="dragifywp-bs__dialog__cancel"></a>');if(t.cancel=function(){t.removeClass("dragifywp-bs__dialog--show"),setTimeout(function(){t.remove(),i.remove(),n.remove()},500)},a.text(e.cancelButton.text||"Cancel"),a.bind("click",function(){t.cancel(),(e.cancelButton.callback||angular.noop)()}),o.append(a),e.confirmButton){var s=angular.element('<a class="dragifywp-bs__dialog__confirm"></a>');s.text(e.confirmButton.text||"OK"),s.bind("click",function(){t.cancel(),(e.confirmButton.callback||angular.noop)()}),o.append(s)}angular.element(".dragifywp-bs__sidebar").append(t).append(n),angular.element("body").append(i),setTimeout(function(){t.addClass("dragifywp-bs__dialog--show")},100)},n.simplifyModelToSave=function(e){var t=void 0;return e instanceof Array?t=n.cloneArray(e,n.saveProperties):e instanceof Object&&(t=n.cloneObject(e,n.saveProperties)),JSON.stringify(t)},n.setEdited=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&n.switchTab("editor"),n.edited!==e&&(n.edited&&i.$emit("out-"+n.getID(n.edited)),n.edited=void 0,n.loadingEdited=!0,setTimeout(function(){n.edited=e,i.$emit("in-"+n.getID(n.edited)),t(function(){n.loadingEdited=!1})},300))},n.getIframeElement=function(e){return n.getIframeDoc().querySelector(e)},n.iframe=void 0,n.getIframeDoc=function(){if(void 0===n.iframe){var e=document.getElementById("dragifywp-bs-frame");n.iframe=e.contentDocument||e.contentWindow.document}return n.iframe},n.jQuery=void 0,n.getIframeJQuery=function(){if(void 0===n.jQuery){var e=document.getElementById("dragifywp-bs-frame"),t=e.contentWindow||e;n.jQuery=function(e){return t.jQuery(e,document)}}return n.jQuery},n.jQueryObject=void 0,n.getIframeJQueryObject=function(){if(void 0===n.jQueryObject){var e=document.getElementById("dragifywp-bs-frame"),t=e.contentWindow||e;n.jQueryObject=t.jQuery}return n.jQueryObject},n.getIframeWindow=function(){var e=document.getElementById("dragifywp-bs-frame");return e.contentWindow||e};var r=Object.assign(Object.assign({},window.dragifywp_widget_manager.get_child_model_list()),window.dragifywp_widget_manager.get_child_model_list());n.getChildModel=function(e){return r.hasOwnProperty(e)?angular.merge({},r[e]):null},n.formResClass=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n="";return""!=i&&(i+="-"),e.hasOwnProperty("desktop")&&(n+=t+"--"+i+e.desktop),e.hasOwnProperty("tablet")&&(n+=" "+t+"--tb-"+i+e.tablet),e.hasOwnProperty("mobile")&&(n+=" "+t+"--mb-"+i+e.mobile),n};var o=void 0;n.deactivateDraggable=function(){if(void 0===o){var e=n.getIframeDoc();o=e.querySelectorAll("[draggable]");for(var t=0,i=o.length;t<i;t++)o[t].setAttribute("draggable",!1)}},n.reactivateDraggable=function(){if(void 0!==o){for(var e=0,t=o.length;e<t;e++)o[e].setAttribute("draggable",!0);o=void 0}};var a=void 0;n.keepVisualNode=function(e){n.removeVisualNode(),a=angular.element(n.getIframeElement(".lvh__"+n.getID(e))),a.addClass("dragifywp-dnd__visual--show")},n.removeVisualNode=function(){void 0!==a&&(a.removeClass("dragifywp-dnd__visual--show"),a=void 0)},n.scopeIterateSiblings=function(e,t,i,r){for(;e=e.$$nextSibling;)t(e,i),n[r](e,t,i,"scopeIterateSiblings")},n.scopeSiblings=function(e,t,i,n){for(;e=e.$$nextSibling;)t(e,i)},n.scopeIterateChildren=function(e,t,i,r){for(;e=e.$$childHead;)t(e,i),n[r](e,t,i,"scopeIterateChildren")},n.scopeChildren=function(e,t,i,r){e=e.$$childHead,t(e,i),n[r](e,t,i,"scopeChildren")},n.storeScopeWatchers=function(e,t){t.childs[e.$id]=angular.merge([],e.$$watchers),e.$$watchers=[]},n.nestedStoreScopeWatchers=function(e,t){e.hasOwnProperty("$ctrl")||(t.childs[e.$id]=angular.merge([],e.$$watchers),e.$$watchers=[])},n.returnScopeWatchers=function(e,t){void 0!==t.childs[e.$id]&&(e.$$watchers=angular.merge([],t.childs[e.$id]))},n.storeWatchers=function(e,t,i,r,o){t.self=angular.merge([],e.$$watchers),e.$$watchers=[],t.childs=[],n[o](e,n[i],t,r)},n.returnWatchers=function(e,t,i,r){null!==t.self&&(e.$$watchers=angular.merge([],t.self)),null!==t.childs&&n[r](e,n.returnScopeWatchers,t,i),t.self=null,t.childs=null},n.openMap=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.link>5?n.mapped=n.getParentNode(n.getParentNode(n.getParentNode(e))):t&&-1!=["section","row","column"].indexOf(e.tag)?n.mapped=e:n.mapped=n.getParentNode(e),n.switchTab("map")}}])},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var i=e.module("dragifywp.builder.app");e.module("dragifywpHotKeys",["dragifywpService"]).factory("$DragifyWPHotKeys",["$timeout","$rootScope","$DragifyWPService",function(n,r,o){return{active:!0,activeQueue:0,initCount:0,pause:function(){this.active?this.active=!1:this.activeQueue++},resume:function(){this.activeQueue>0?this.activeQueue--:this.active=!0},init:function(){var a=o.getIframeDoc(),s=a.querySelector(".dragifywp-dnd__area"),l=this,c=void 0;if(l.initCount++,!s)return l.initCount<20&&(setTimeout(function(){l.init()},1e3),!1);c=e.element(s),this.escKeyPressManager.init();var d=function(){return!o.sidebar_collapse&&l.active&&!o.editableMode},u=/Mac|iPod|iPhone|iPad/.test(navigator.platform),p=u?"alt":"shift",f=-1,g=e.element(".dragifywp-bs__sidebar"),m=function(){var e=a.createElement("div");e.className="dragifywp-dnd__blockPanel",a.body.appendChild(e),e.onmousemove=function(){a.body.removeChild(e)}},_=function e(){d()&&-1!=f&&(c[0].className=c[0].className.replace(/\bdragifywp-dnd__area--holdAlt-\d\b/g,""),o.reactivateDraggable(),f=-1,g.removeClass("dragifywp-bs__sidebar--block"),document.removeEventListener("contextmenu",e,!1),a.removeEventListener("contextmenu",e,!1),document.removeEventListener("click",e,!1),a.removeEventListener("click",e,!1))},v=function(e){d()&&f!=e&&(-1==f?o.deactivateDraggable():c.removeClass("dragifywp-dnd__area--holdAlt-"+f),f=e,g.addClass("dragifywp-bs__sidebar--block"),c.addClass("dragifywp-dnd__area--holdAlt-"+f),document.addEventListener("contextmenu",_,!1),a.addEventListener("contextmenu",_,!1),document.addEventListener("click",_,!1),a.addEventListener("click",_,!1))};[window.document,a].forEach(function(e){Mousetrap(e).bind(p,function(e){if(d())return e.preventDefault?e.preventDefault():e.returnValue=!1,v(0),!1});for(var a=0;a<5;a++)!function(t){Mousetrap(e).bind(p+"+"+t,function(e){if(d())return e.preventDefault?e.preventDefault():e.returnValue=!1,v(t),!1})}(a);Mousetrap(e).bind(p,function(e){if(d())return e.preventDefault?e.preventDefault():e.returnValue=!1,_(),!1},"keyup"),Mousetrap(e).bind("o p",function(e){return e.preventDefault(),"object"==t(i.__config.redirect_links[0])&&i.__config.redirect_links[0].hasOwnProperty("link")&&!o.editableMode&&window.open(i.__config.redirect_links[0].link,"_blank"),!1}),Mousetrap(e).bind("o i",function(e){if(d())return e.preventDefault(),r.$emit("openWireframe"),!1}),Mousetrap(e).bind("o l",function(e){if(d())return e.preventDefault(),r.$emit("openLibrary"),!1}),Mousetrap(e).bind("o k",function(e){if(d())return e.preventDefault(),n(function(){r.$emit("openCustomCodePanel")}),!1}),Mousetrap(e).bind("/",function(e){if(!o.editableMode)return e.preventDefault(),r.$emit("openHelpPanel"),!1}),Mousetrap(e).bind(["shift+tab"],function(e){if(d()){var i=function(){e.preventDefault?e.preventDefault():e.returnValue=!1;var t=document.querySelector(".dragifywp-bs__edited__body");if(document.body.contains(t)&&d()&&"editor"==o.tab){var i=t.querySelectorAll(".dragifywp-ui__container");if(i.length>2){l.active=!1;var n=document.createElement("div");n.className="dragifywp-bs__containerJumper";var r=document.createElement("div");r.className="dragifywp-bs__containerJumper__wrap",n.appendChild(r),document.querySelector("body").appendChild(n),l.escKeyPressManager.add(function(){return n.parentNode.removeChild(n),l.active=!0,!0});for(var a=0,s=i.length;a<s;a++)!function(e,n){var o=i[e],a=document.createElement("button");a.className="dragifywp-bs__containerJumper__btn";var s=o.querySelector(".dragifywp-ui__container__name");a.innerHTML=s.innerHTML,a.onmouseenter=function(e){e.preventDefault(),t.scrollTop=o.offsetTop},r.appendChild(a)}(a);n.onclick=function(){l.escKeyPressManager.execute()}}}return{v:!1}}();if("object"===(void 0===i?"undefined":t(i)))return i.v}}),Mousetrap(e).bind(["mod+z"],function(e){if(d())return e.preventDefault?e.preventDefault():e.returnValue=!1,n(function(){o.commandManager.undo()}),!1}),Mousetrap(e).bind(["mod+shift+z"],function(e){if(d())return e.preventDefault?e.preventDefault():e.returnValue=!1,n(function(){o.commandManager.redo()}),!1}),Mousetrap(e).bind(["mod+d"],function(e){if(d()&&void 0!==o.hoveredNode)return e.preventDefault?e.preventDefault():e.returnValue=!1,n(function(){o.duplicateNode(o.hoveredNode,!0)}),!1}),Mousetrap(e).bind(["backspace","del"],function(e){if(d()&&void 0!==o.hoveredNode)return e.preventDefault?e.preventDefault():e.returnValue=!1,n(function(){o.removeNode(o.hoveredNode),o.hoveredNode=void 0,m()}),!1}),Mousetrap(e).bind(["mod+c"],function(e){if(d()&&void 0!==o.hoveredNode)return e.preventDefault?e.preventDefault():e.returnValue=!1,o.copied={node:o.clone(o.hoveredNode),level:o.getLevel(o.hoveredNode),action:"copy"},!1}),Mousetrap(e).bind(["mod+x"],function(e){if(d()&&void 0!==o.hoveredNode)return e.preventDefault?e.preventDefault():e.returnValue=!1,o.copied={node:o.hoveredNode,level:o.getLevel(o.hoveredNode),action:"cut"},n(function(){o.removeNode(o.hoveredNode),o.hoveredNode=void 0,m()}),!1}),Mousetrap(e).bind(["mod+v","mod+shift+v"],function(e){if(d()&&void 0!==o.hoveredNode&&void 0!==o.copied){e.preventDefault?e.preventDefault():e.returnValue=!1;var t=o.getLevel(o.hoveredNode),i=o.copied.level;return t==i||5==t&&(7==i||6==i)||(7==t||6==t)&&5==i||7==t&&6==i||6==t&&7==i?n(function(){var t=o.getParentNode(o.hoveredNode),i=o.getIndex(o.hoveredNode);i=e.shiftKey?i:i+1,o.addNode(t,o.clone(o.copied.node),i),"cut"==o.copied.action&&(o.copied=void 0)}):(t<5&&t+1==i||4==t&&i>4)&&n(function(){e.shiftKey?o.addNode(o.hoveredNode,o.clone(o.copied.node),0):o.addNode(o.hoveredNode,o.clone(o.copied.node)),"cut"==o.copied.action&&(o.copied=void 0)}),!1}}),Mousetrap(e).bind("t",function(e){if(d()&&void 0!==o.hoveredNode)return e.preventDefault?e.preventDefault():e.returnValue=!1,n(function(){r.$emit("openItemTemplateBar",o.hoveredNode)}),!1}),Mousetrap(e).bind("`",function(e){if(d())return e.preventDefault?e.preventDefault():e.returnValue=!1,n(function(){r.$emit("toggleVisual")}),!1}),Mousetrap(e).bind("left",function(e){if(d()&&void 0!==o.hoveredNode&&"column"==o.hoveredNode.tag)return e.preventDefault?e.preventDefault():e.returnValue=!1,n(function(){r.$emit("change-width-"+o.getID(o.hoveredNode),"-")}),!1}),Mousetrap(e).bind("right",function(e){if(d()&&void 0!==o.hoveredNode&&"column"==o.hoveredNode.tag)return n(function(){e.preventDefault?e.preventDefault():e.returnValue=!1,r.$emit("change-width-"+o.getID(o.hoveredNode),"+")}),!1}),Mousetrap(e).bind("space",function(e){if(d()&&void 0!==o.edited)return e.preventDefault?e.preventDefault():e.returnValue=!1,"editor"!=o.tab?n(function(){o.switchTab("editor"),o.scrollToElement(o.edited,!0)}):o.scrollToElement(o.edited,!0),!1}),Mousetrap(e).bindGlobal("mod+s",function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,r.$emit("promptSave"),!1}),Mousetrap(e).bind("mod+shift+s",function(e){return d()&&void 0!==o.hoveredNode&&(e.preventDefault?e.preventDefault():e.returnValue=!1,n(function(){r.$emit("openSaveTemplatePanel",o.hoveredNode)})),!1});var s=["\\"];u&&s.push("mod+esc"),Mousetrap(e).bind(s,function(e){if(!o.editableMode)return e.preventDefault?e.preventDefault():e.returnValue=!1,n(function(){r.$emit("toggleCollapse")}),!1});for(var c=["mobile","tablet","tablet-l","desktop"],a=1;a<c.length+1;a++)!function(t){Mousetrap(e).bind(t+"",function(){d()&&o.previewDevice!=c[t-1]&&n(function(){o.previewDevice=c[t-1]})})}(a);Mousetrap(e).bind("mod+e",function(e){if(d())return e.preventDefault?e.preventDefault():e.returnValue=!1,n(function(){r.$emit("openEditableMode")}),!1}),Mousetrap(e).bind("tab",function(e){if(d()){e.preventDefault?e.preventDefault():e.returnValue=!1;var t={map:"widgets",widgets:"editor"};return i.__config.is_block?(t.editor="frame",t.frame="map"):(t.editor="library",t.library="map"),n(function(){o.switchTab(t[o.tab])}),!1}})})},escKeyPressManager:{init:function(){for(var e=this,t=[document,o.getIframeDoc()],i=0;i<t.length;i++){t[i].addEventListener("keydown",function(t){t=t||window.event,27==t.keyCode&&e.execute()})}},stack:[],add:function(e){"function"==typeof e&&this.stack.push(e)},execute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=this;t.stack.length>0&&t.stack[t.stack.length-1]()&&n(function(){t.stack.pop(),"function"==typeof e&&e()})},pop:function(){this.stack.length>0&&this.stack.pop()}}}}])}(window.angular)},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var i=e.module("dragifywp.builder.app");i.component("dragifywpHelpPanel",{controller:["$rootScope","$DragifyWPHotKeys",function(e,t){var i=this;this.show=!1,this.close=function(){t.escKeyPressManager.execute()},this.open=function(){if(!i.show){i.show=!0;var e=document.querySelector(".dragifywp-bs__helpPanel");e.className=e.className+" dragifywp-bs__helpPanel--show",t.pause(),t.escKeyPressManager.add(function(){return i.show=!1,t.resume(),e.className="dragifywp-bs__helpPanel",!0})}},e.$on("openHelpPanel",i.open)}],template:function(){var e=["shortcuts","video-tutorial","document","forum","about"],t="",i="",n="",r='checked="checked"';return e.forEach(function(e){t+='<input type="radio" name="dragifywp-bs-help" id="dragifywp-bs-help-'+e+'" '+r+"/>",i+='<label for="dragifywp-bs-help-'+e+'">'+e.replace("-"," ")+"</label>",n+="<dragifywp-help-"+e+"></dragifywp-help-"+e+">",r&&(r="")}),'<div class="dragifywp-bs__helpPanel">'+t+'<button class="dragifywp-bs__helpPanel__closeBtn" ng-click="$ctrl.close()"><span class="lmr lmr-cross"></span></button><div class="dragifywp-bs__helpPanel__tabs">'+i+'</div><div class="dragifywp-bs__helpPanel__content">'+n+'</div></div><div class="dragifywp-bs__helpPanel__backdrop"></div>'}}),i.component("dragifywpHelpShortcuts",{controller:function(){},template:function(){var e=function(e,t){return/Mac|iPod|iPhone|iPad/.test(navigator.platform)?e:t},i={command:"&#8984;",ctrl:"&#8963;",alt:"&#8997;",shift:"&#8679;",return:"&#8617;",left:"&larr;",up:"&uarr;",right:"&rarr;",down:"&darr;",mod:e("&#8984;","&#8963;")},n={General:{Save:[i.mod+"+S"],"Closes any pop-up window or panel, like this one":["ESC"],"Open preview page":["O-P"],"Open custom code panel":["O-K"],"Open wireframe pop-up":["O-I"],"Open library pop-up":["O-L"],"Switch between map, widgets, editor, library tab":["TAB"],"Resize preview screen to mobile, tablet portrait, tablet landscape, desktop size":["1","2","3","4"],"Turn on/off Visual View":["`"],"Collapse Sidebar":["\\"],"Open Editor Mode":[i.mod+"+E"],"Open Help Panel as it is":["?"]},Editor:{"Undo, Redo":[i.mod+"+Z",i.mod+"+"+i.shift+"+Z"],Copy:[i.mod+"+C"],Cut:[i.mod+"+X"],"Insert to the Bottom of parent or insert after the same level":[i.mod+"+V"],"Insert to the Top of parent or insert before the same level":[i.mod+"+"+i.shift+"+V"],Duplicate:[i.mod+"+D"],"Save as Template":[i.mod+"+"+i.shift+"+S"],"Open Item Template":["T"],"Scroll to the edited Widget and switch editor tab":["Space"],"Resize column width":[""+i.left,""+i.right]},"Highlight Layer":{"Show all layer":[""+e(i.alt,i.shift)],"Show section layer":[e(i.alt,i.shift)+"+1"],"Show row layer":[e(i.alt,i.shift)+"+2"],"Show column layer":[e(i.alt,i.shift)+"+3"],"Show item layer":[e(i.alt,i.shift)+"+4"]},Other:{"Open the map of the clicked item":[i.mod+"+Left Click",{text:"on item"}],"Open the color collection":["Right Click",{text:"on colorpicker circle"}],"Equally change in pair left and right or top and bottom":[i.mod+"+Drag",{text:"on unit input"}],"Equally change value of left, right, top and bottom":[i.mod+"+"+i.shift+"+Drag",{text:"on unit input"}],"Open Jumper Tabs":[i.shift+"+TAB",{text:"on editor panel"}]}},r="";for(var o in n){var a="";for(var s in n[o])a+="<tr><td>"+function(e){var i="";return Array.isArray(e)&&e.forEach(function(e){"object"==(void 0===e?"undefined":t(e))&&e.hasOwnProperty("text")?i+=" "+e.text+" ":i+="<button>"+e+"</button>"}),i}(n[o][s])+"</td><td>"+s+"</td></tr>";r+='<div class="dragifywp-bs__helpPanel__section"><h4>'+o+"</h4><table>"+a+"</table></div>"}return'<div class="dragifywp-bs__helpPanel__entry dragifywp-bs__helpPanel__shortcuts"><header>Shortcuts</header>'+r+"</div>"}}),i.component("dragifywpHelpVideoTutorial",{controller:function(){this.list=[]},template:'<div class="dragifywp-bs__helpPanel__entry"><header>Video Tutorial</header><p>Watch video tutorials from <a href="https://www.youtube.com/playlist?list=PLuFvsbrPIx8O07i6V9avCKXOaFIAGMGCB" target="_blank">this chanel</a>.</p><ul class="dragifywp-bs__helpPanel__videoList"><li ng-repeat="video in ::$ctrl.list"><a href="{{::video.link}}" ng-bind="::video.name" target="_blank"></a><span ng-bind="::video.duration"></span></li></ul></div>'}),i.component("dragifywpHelpDocument",{controller:function(){},template:'<div class="dragifywp-bs__helpPanel__entry"><header>Document</header><p>Read the document for using this app at <a href="http://docs.dragify.com/dragifywp" target="_blank">docs.dragify.com/dragifywp</a>.</p><ul class="dragifywp-bs__helpPanel__doc"><li><a href="http://docs.dragify.com/dragifywp/v1/guide/getting-started/ecosystem.html" target="_blank">Quick look on the Ecosystem</a></li><li><a href="http://docs.dragify.com/dragifywp/v1/guide/page-builder/getting-started.html" target="_blank">Overview</a></li></ul></div>'}),i.component("dragifywpHelpForum",{controller:function(){},template:'<div class="dragifywp-bs__helpPanel__entry"><header>Forum</header><p>The support forum will be coming soon.</p></div>'}),i.component("dragifywpHelpAbout",{controller:function(){},template:'<div class="dragifywp-bs__helpPanel__entry"><header>About</header><p>A Page Builder Plugin, shipped with real-time editing, drag drop feature, insanely speed and intuitive design helps quickly build Pages for your website.</p><ul class="dragifywp-bs__helpPanel__about"><li>Version '+i.__config.version+'</li><li>&copy; Copyright 2017 <a href="https://dragify.com/dragifywp" target="_blank">dragify.com</a>. All rights reserved.</li></ul></div>'})}(window.angular)},function(e,exports){"use strict";!function(e){function t(){var e,t=navigator.userAgent,i={},n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];/trident/i.test(n[1])&&(e=/\brv[ :]+(\d+)/g.exec(t)||[],i={name:"IE",version:e[1]||""}),"Chrome"===n[1]&&null!=(e=t.match(/\bOPR|Edge\/(\d+)/))&&(i={name:"Opera",version:e[1]}),n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),i.hasOwnProperty("name")||(i={name:n[0],version:n[1]});for(var r=[{name:"Chrome",version:50},{name:"Safari",version:10}],o=0,a=r.length;o<a;o++)if(i.name===r[o].name&&i.version>=r[o].version)return!0;return!1}var i=e.module("dragifywp.builder.app");i.directive("frameCompile",["$compile","$http","$DragifyWPService","$rootScope","$DragifyWPHotKeys","$DragifyWPPopup",function(n,r,o,a,s,l){return{restrict:"A",link:function(r,c,d){var u=!1;if("undefined"!=typeof Storage&&sessionStorage.dragifywp_pb_data){var p=JSON.parse(sessionStorage.dragifywp_pb_data);o.content=p.model,o.custom_css=p.custom_css,o.custom_js=p.custom_js,i.__config.is_block&&(o.block_frame=p.block_frame),o.reset(),u=!0,delete sessionStorage.dragifywp_pb_data}else o.content=i.__config.page_data.model,o.custom_css=i.__config.page_data.custom_css,o.custom_js=i.__config.page_data.custom_js,i.__config.is_block&&(o.block_frame=i.__config.page_data.block_frame),o.reset();c.load(function(){var d=e.element(c.contents()).find("body"),p=d[0].querySelector("#dragifywp-pb-dnd-area");if(p){var f=e.element("<dragifywp-dnd-area></dragifywp-dnd-area>");if(e.element(p).append(f),i.__config.enable_debug){performance.now();n(f)(r),a.$emit("onDataLoaded",u);performance.now()}else n(f)(r),a.$emit("onDataLoaded",u);setTimeout(function(){var e=document.querySelector(".dragifywp-bs__preloader");e.className=e.className+" dragifywp-bs__preloader--hide",document.title=i.__config.page_title,setTimeout(function(){s.init(),o.commandManager.init(),e.parentNode.removeChild(e)},1e3),t()||l.showFsPopup({title:"Warning",message:"We do not fully support a browser you are using yet. Please, use Chrome 50+ or Safari 10+ to get better experience.",buttons:[{text:"Continue to use"}],esc:!1}),i.__config.page_data.error&&l.showFsPopup({title:"Warning",message:"We cannot compile this page since something wrong have been detected in your data. Please notice that if you continue to use the app, your old data will be completely replaced by the new after pressing the save button.",buttons:[{text:"Ok, I understood"}],esc:!1})})}else{document.title="Page Builder: App Error!";var g=document.querySelector(".dragifywp-bs__preloader");g.className=g.className+" dragifywp-bs__preloader--hide",l.showFsPopup({title:"App Error",message:"Somethings wrong happen with this page. Please try later!",buttons:[{text:"Close App",callback:function(){window.history.back()}}],onInit:function(){document.addEventListener("contextmenu",function(e){return e.preventDefault()});var e=document.querySelector(".dragifywp-app");e&&(e.style.pointerEvents="none",e.onclick=function(t){t.preventDefault(),e.style.pointerEvents="none"})}})}})}}}]),i.directive("editedViewCompiler",["$compile","$DragifyWPService",function(t,i){return{restrict:"AE",link:function(n,r,o){var a=i.constructTag(i.edited.tag),s=e.element("<lb-md-"+a+"></lb-md-"+a+">");s.insertBefore(r),t(s)(n),r.remove()}}}]),i.directive("visualViewCompiler",["$compile","$DragifyWPService",function(t,i){return{scope:{model:"<"},restrict:"EA",link:function(n,r,o){var a=i.constructTag(n.model.tag),s=n.model.nested?' class="dragifywp-dnd__nestedListContainer"':"",l=e.element("<lb-vs-"+a+' model="model"'+s+"></lb-vs-"+a+">");l.insertBefore(r),t(l)(n),r.remove()}}}]),i.directive("childEditorCompiler",["$DragifyWPService","$compile",function(e,t){return{scope:{model:"<"},restrict:"EA",link:function(i,n,r){var o=e.constructTag(i.model.tag);n.html("<lb-ce-"+o+" ></lb-ce-"+o+">"),t(n.contents())(i)}}}])}(window.angular)},function(e,exports){"use strict";!function(e){var t=e.module("dragifywp.builder.app");t.directive("dragifywpSectionSeparator",["$http",function(e){return{scope:{dragifywpSectionSeparator:"<"},link:function(i,n){i.$watch("dragifywpSectionSeparator",function(){e({method:"GET",cache:!0,url:t.__config.api+"/section-separators",params:{style:i.dragifywpSectionSeparator}}).then(function(e){n.html(e.data)},function(e){n.html("")})})}}}]),t.directive("dragifywpTabSelect",["$DragifyWPService",function(e){return{link:function(t,i,n){var r=e.getIframeJQuery(),o=r(i),a=o.parent();return i.on("click",function(){var e=r(i).data("tab-name");a.find(".dragifywp-tab").each(function(){var e=r(this),t=e.data("tab-name");e.hasClass("dragifywp-tab--active")&&e.removeClass("dragifywp-tab--active").append(r("<style type='text/css'>#"+t+"{display:none}</style>")),r("#"+t).remove("active")}),r("#"+e).addClass("active"),o.addClass("dragifywp-tab--active").find("style").remove()}),!1}}}]),t.directive("clientlist",function(){return{restrict:"A",transclude:!0,scope:{clientlist:"<",column:"<",autoplay:"<",pagination:"<",duration:"<"},link:function(e,t,i,n,r){var o=jQuery(t),a=null;e.$watchCollection("clientlist",function(t,i){var n={autoPlay:!!e.autoplay&&parseInt(e.duration),items:e.column,stopOnHover:!0,navigation:!1,slideSpeed:1e3,touchDrag:!1,mouseDrag:!1,addClassActive:!0};a&&a.destroy(),o.empty();for(var s in t)r(function(e,i){i.item=t[s],o.append(e[1])});o.owlCarousel(n),a=o.data("owlCarousel")}),e.$watchGroup(["column","autoplay","duration"],function(){a&&(a.reinit({autoPlay:!!e.autoplay&&parseInt(e.duration),items:e.column}),e.autoplay||a.stop())})}}}),t.directive("dragifywpCarousel",["$DragifyWPService",function(t){return{restrict:"A",scope:{list:"<",column:"<",autoplay:"<",pagination:"<",duration:"<",spacing:"<",loop:"<"},link:function(i,n,r,o){var a=t.getIframeJQuery(),s=a(n),l=null,c={loop:i.loop,autoplay:i.autoplay,responsiveClass:!0,responsive:{769:{items:i.column.desktop}},autoplayTimeout:i.duration,autoplayHoverPause:!0,dots:i.pagination,dotsSpeed:600,smartSpeed:1e3,navSpeed:1e3,touchDrag:!1,mouseDrag:!0,onInitialize:function(){s.removeClass("owl-hidden")}},d=!0,u=!0,p=void 0,f=void 0,g=void 0;void 0!==i.column.tablet&&(c.responsive[513]={items:i.column.tablet}),void 0!==i.column.mobile&&(c.responsive[0]={items:i.column.mobile}),i.$watchCollection("list",function(e,t){s.addClass("owl-hidden"),clearTimeout(p),p=setTimeout(function(){l&&(s.trigger("destroy.owl.carousel"),s.find(".owl-item.active, .owl-item, .owl-stage").remove()),s.owlCarousel(c),l=!0},500)}),i.$watchGroup(["pagination","autoplay","duration","spacing","loop"],function(){if(d)return void(d=!1);clearTimeout(g),g=setTimeout(function(){c=e.merge({},c,{loop:i.loop,dots:i.pagination,autoplay:i.autoplay,autoplayTimeout:i.duration}),l&&(s.trigger("destroy.owl.carousel"),s.find(".owl-item.active, .owl-item, .owl-stage").remove()),s.owlCarousel(c)},500)}),i.$watch("column",function(){if(u)return void(u=!1);clearTimeout(f),f=setTimeout(function(){var t={769:{items:i.column.desktop}};i.column.tablet_enable&&(t[513]={items:i.column.tablet}),i.column.mobile_enable&&(t[0]={items:i.column.mobile}),c.responsive=e.merge({},t),l&&(s.trigger("destroy.owl.carousel"),s.find(".owl-item.active, .owl-item, .owl-stage").remove()),s.owlCarousel(c)},500)},!0)}}}]),t.directive("dragifywpSlideshow",["$DragifyWPService",function(t){return{restrict:"A",scope:{list:"<",autoplay:"<",navigation:"<",effect:"<",pagination:"<",duration:"<",allowDrag:"<",navIcon:"<"},link:function(i,n,r,o){var a=t.getIframeJQuery(),s=a(n),l=null,c=[['<span class="lnr lnr-chevron-left"></span>','<span class="lnr lnr-chevron-right"></span>'],['<i class="fa fa-angle-left" aria-hidden="true"></i>','<i class="fa fa-angle-right" aria-hidden="true"></i>'],['<span class="lnr lnr-chevron-left-circle"></span>','<span class="lnr lnr-chevron-right-circle"></span>'],['<span class="lnr lnr-arrow-left"></span>','<span class="lnr lnr-arrow-right"></span>']],d={navText:isNaN(i.navIcon)?c[0]:c[parseInt(i.navIcon)],loop:!0,autoplay:i.autoplay,responsiveClass:!0,animateOut:"fade"==i.effect?"fadeOut":"",dots:i.pagination,items:1,autoplayTimeout:i.duration,autoplayHoverPause:!0,nav:i.navigation,dotsSpeed:1e3,smartSpeed:1e3,navSpeed:1e3,touchDrag:i.allowDrag,mouseDrag:i.allowDrag,onInitialize:function(){s.removeClass("owl-hidden")}},u=!0,p=void 0,f=void 0;i.$watchCollection("list",function(e,t){s.addClass("owl-hidden"),clearTimeout(p),p=setTimeout(function(){l&&(s.trigger("destroy.owl.carousel"),s.find(".owl-item.active, .owl-item, .owl-stage").remove()),s.owlCarousel(d),l=!0},500)}),i.$watchGroup(["navigation","autoplay","duration","pagination","effect","allowDrag","navIcon"],function(){if(u)return void(u=!1);clearTimeout(f),f=setTimeout(function(){d=e.merge({},d,{nav:i.navigation,dots:i.pagination,autoplay:i.autoplay,autoplayTimeout:i.duration,animateOut:"fade"==i.effect?"fadeOut":"",touchDrag:i.allowDrag,mouseDrag:i.allowDrag,navText:isNaN(i.navIcon)?c[0]:c[parseInt(i.navIcon)]}),l&&(s.trigger("destroy.owl.carousel"),s.find(".owl-item.active, .owl-item, .owl-stage").remove()),s.owlCarousel(d)},500)})}}}]),t.directive("dragifywpTestimonial",["$DragifyWPService",function(t){return{restrict:"A",scope:{list:"<",autoplay:"<",navigation:"<",pagination:"<",duration:"<",navIcon:"<"},link:function(i,n,r,o){var a=t.getIframeJQuery(),s=a(n),l=null,c=[['<span class="lnr lnr-chevron-left"></span>','<span class="lnr lnr-chevron-right"></span>'],['<i class="fa fa-angle-left" aria-hidden="true"></i>','<i class="fa fa-angle-right" aria-hidden="true"></i>'],['<span class="lnr lnr-chevron-left-circle"></span>','<span class="lnr lnr-chevron-right-circle"></span>'],['<span class="lnr lnr-arrow-left"></span>','<span class="lnr lnr-arrow-right"></span>']],d={loop:!0,autoplay:i.autoplay,responsiveClass:!0,dots:i.pagination,items:1,autoplayTimeout:i.duration,autoplayHoverPause:!0,nav:i.navigation,dotsSpeed:1e3,smartSpeed:1e3,navSpeed:1e3,autoHeight:!0,touchDrag:!0,mouseDrag:!0,navText:isNaN(i.navIcon)?c[0]:c[parseInt(i.navIcon)],onInitialize:function(){s.removeClass("owl-hidden")}},u=!0,p=void 0,f=void 0;i.$watchCollection("list",function(e,t){s.addClass("owl-hidden"),clearTimeout(p),p=setTimeout(function(){l&&(s.trigger("destroy.owl.carousel"),s.find(".owl-item.active, .owl-item, .owl-stage").remove()),s.owlCarousel(d),l=!0},500)}),i.$watchGroup(["navigation","autoplay","duration","pagination","navIcon"],function(){if(u)return void(u=!1);clearTimeout(f),f=setTimeout(function(){d=e.merge({},d,{nav:i.navigation,dots:i.pagination,autoplay:i.autoplay,autoplayTimeout:i.duration,navText:isNaN(i.navIcon)?c[0]:c[parseInt(i.navIcon)]}),l&&(s.trigger("destroy.owl.carousel"),s.find(".owl-item.active, .owl-item, .owl-stage").remove()),s.owlCarousel(d)},500)})}}}]),t.directive("dragifywpParallax",["$DragifyWPService",function(e){return{scope:{dragifywpParallax:"<"},link:function(t,i,n){var r=e.getIframeWindow(),o=i[0];t.$watch("dragifywpParallax",function(e,t){"parallax"==e?new r.DragifyWPParallaxBackground(o,!0):o.hasOwnProperty("onDestroy")&&o.onDestroy()}),t.$on("destroy",function(){o.hasOwnProperty("onDestroy")&&o.onDestroy()})}}}]),t.directive("youtubeBackground",["$DragifyWPService",function(e){return{scope:{sectionId:"<",videoId:"<",startTime:"<",endTime:"<",captureImage:"<"},link:function(t,i,n){var r=e.getIframeJQuery(),o=e.getIframeJQueryObject(),a=r(i),s=void 0;t.$watchGroup(["videoId","startTime","endTime","captureImage"],function(){clearTimeout(s),s=setTimeout(function(){if(a.removeClass("dragifywp-youtubeBackground--played"),a.youtubeBackground({sectionId:t.sectionId,videoId:t.videoId,startSeconds:parseInt(t.startTime),endSeconds:parseInt(t.endTime)}),window.ResizeSensor){new window.ResizeSensor(i,function(){a.youtubeBackground({sectionId:t.sectionId,videoId:t.videoId,startSeconds:parseInt(t.startTime),endSeconds:parseInt(t.endTime)})})}},1e3)}),t.$on("$destroy",function(){o.destroyYoutubeBackground({sectionId:t.sectionId})})}}}]),window.mapLoaded=!1,t.directive("dragifywpGoogleMap",["$DragifyWPService","$compile",function(e,i){return{restrict:"A",scope:{mapZoom:"<",mapStyle:"<",mapLng:"<",mapLat:"<",mapMarkers:"<"},link:function(n,r,o){function a(){var e=!0,t=!1,i=void 0;try{for(var n,r=v[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){n.value.setMap(null)}}catch(e){t=!0,i=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw i}}v.length=0}function s(){if(n.mapMarkers.length>0)for(var e=0;e<n.mapMarkers.length;e++)!function(e){var t=n.mapMarkers[e];setTimeout(function(){c(t)},200*e)}(e)}function l(e){null!==e.getAnimation()?e.setAnimation(null):e.setAnimation(f.google.maps.Animation.BOUNCE)}function c(e){var t=new f.google.maps.Marker({map:_,position:e.attrs.center?_.getCenter():{lat:parseFloat(e.attrs.lat),lng:parseFloat(e.attrs.lng)},title:"Hello World!",animation:e.attrs.animation?f.google.maps.Animation.DROP:null});if(e.attrs.icon.url){var i={url:e.attrs.icon.url,scaledSize:new f.google.maps.Size(e.attrs.width,e.attrs.height)};t.setIcon(i)}e.attrs.animation&&t.addListener("click",function(){l(t)}),v.push(t)}function d(){var e={zoom:n.mapZoom,mapTypeId:f.google.maps.MapTypeId.ROADMAP,center:new f.google.maps.LatLng(parseFloat(n.mapLat),parseFloat(n.mapLng))};n.mapStyle&&(e.styles=JSON.parse(n.mapStyle)),r.html(""),r.append(g),_=new f.google.maps.Map(g,e),a(),s()}var u=e.getIframeDoc(),p=e.getIframeJQuery(),f=e.getIframeWindow(),g=u.createElement("div");g.className="map-container";var m,_,v=[],h=!1;if(p(f).resize(function(){_&&f.google.maps.event.trigger(_,"resize")}),!u.querySelector("#google-map-script")){m=u.createElement("script"),m.type="text/javascript",m.id="google-map-script";var y=void 0!==t.__config.map_api_key?t.__config.map_api_key:"";if(!y)return r.html('<div class="dragifywp-dnd__errorMessage"><p>Missing API key. Set up <dragifywp-link text="here" link="'+t.__config.site_option_url+'#/google_map_setting" new-tab="true"></dragifywp-link></p></div>'),void i(r.contents())(n);m.src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=true&key="+y,m.onload=m.onreadystatechange=function(){f.mapLoaded=!0},u.getElementsByTagName("head")[0].appendChild(m)}!function e(){f.mapLoaded?(d(),h=!0):setTimeout(function(){e()},10)}(),n.$watchGroup(["mapStyle","mapLng","mapLat","mapZoom"],function(){h&&d()}),n.$watch("mapMarkers",function(e,t){h&&d()},!0)}}}]),t.directive("dragifywpLink",function(){return{restrict:"E",scope:{text:"@",link:"@",newTab:"@"},link:function(e,t,i){t.html('<span class="dragifywp-dnd__link">'+e.text+"</span>"),t.on("click",function(){void 0===e.newTab||"true"==e.newTab?window.open(e.link):window.location.href=e.link})}}}),t.directive("dragifywpInstagram",["$http","$timeout","$DragifyWPService","$compile",function(i,n,r,o){return{restrict:"A",scope:{numberItems:"<",resolution:"<"},link:function(i,a,s){var l=void 0,c=e.element('<div class="dragifywp-dnd__errorMessage"><p>Error in getting data. Set up <dragifywp-link text="here" link="'+t.__config.site_option_url+'#/instagram_setting" new-tab="true"></dragifywp-link></p></div>'),d=e.element('<div class="dragifywp-dnd__loader"><div class="dragifywp-dnd__loader__wrap"><span></span><span></span><span></span></div></div>'),u=r.getIframeJQueryObject(),p=function(e,t){for(var n='<div class="dragifywp-gallery">',r=0;r<t;r++){var o=e[r];n+='<div class="dragifywp-gallery__item dragifywp-gallery--loaded">',n+='<a class="dragifywp-gallery__item__wrap">',n+='<img src="'+o.images[i.resolution].url+'" alt="'+o.caption+'" />',n+="</a>",n+="</div>"}return n+="</div>"},f=function(e){if(e){e=JSON.parse(e);var t=e;i.numberItems>e.data.length&&(t.limited_items=e.data.length),r.setSessionData("dragifywp_instagram_data",t),a.html(p(e.data,e.data.length))}else g()},g=function(){a.html(c),o(c.contents())(i)},m=function(e){g()};i.$watchGroup(["numberItems","resolution"],function(){l&&n.cancel(l);var e=r.getSessionData("dragifywp_instagram_data");if(e){if(e.hasOwnProperty("limited_items")&&e.limited_items<i.numberItems)return void a.html(p(e.data,e.limited_items));if(e.data.length>=i.numberItems)return void a.html(p(e.data,i.numberItems))}a.html(d),l=n(function(){u.instagramHttp({data:{num:i.numberItems},success:f,error:m})},1e3)})}}}]),t.directive("dragifywpFlickr",["$http","$timeout","$DragifyWPService","$compile",function(i,n,r,o){return{restrict:"A",scope:{numberItems:"<"},link:function(i,a,s){var l=void 0,c=e.element('<div class="dragifywp-dnd__errorMessage"><p>Error in getting data. Set up <dragifywp-link text="here" link="'+t.__config.site_option_url+'#/flickr_setting" new-tab="true"></dragifywp-link></p></div>'),d=e.element('<div class="dragifywp-dnd__loader"><div class="dragifywp-dnd__loader__wrap"><span></span><span></span><span></span></div></div>'),u=r.getIframeJQueryObject(),p=function(e,t){for(var i='<div class="dragifywp-gallery">',n=0;n<t;n++){var r=e[n],o="http://farm"+r.farm+".staticflickr.com/"+r.server+"/"+r.id+"_"+r.secret+"_q.jpg";i+='<div class="dragifywp-gallery__item dragifywp-gallery--loaded">',i+='<a class="dragifywp-gallery__item__wrap">',i+='<img src="'+o+'" alt="'+r.title+'" />',i+="</a>",i+="</div>"}return i+="</div>"},f=function(e){if(e){var t=JSON.parse(e.data);if("ok"==t.stat){var n={};n.data=t.photos.photo,i.numberItems>t.photos.photo.length&&(n.limited_items=t.photos.photo.length),r.setSessionData("dragifywp_flickr_data",n),a.html(p(t.photos.photo,t.photos.photo.length))}else g()}else g()},g=function(){a.html(c),o(c.contents())(i)},m=function(e){g()};i.$watchGroup(["numberItems","resolution"],function(){l&&n.cancel(l);var e=r.getSessionData("dragifywp_flickr_data");if(e){if(e.hasOwnProperty("limited_items")&&e.limited_items<i.numberItems)return void a.html(p(e.data,e.limited_items));if(e.data.length>=i.numberItems)return void a.html(p(e.data,i.numberItems))}a.html(d),l=n(function(){u.flickrHttp({data:{num:i.numberItems},success:f,error:m})},1e3)})}}}]),t.directive("dragifywpTwitter",["$http","$timeout","$DragifyWPService","$compile",function(i,n,r,o){return{restrict:"A",scope:{numberItems:"<"},link:function(i,a,s){var l=void 0,c=0,d=e.element('<div class="dragifywp-dnd__errorMessage"><p>Error in getting data. Set up <dragifywp-link text="here" link="'+t.__config.site_option_url+'#/twitter_setting" new-tab="true"></dragifywp-link></p></div>'),u=e.element('<div class="dragifywp-dnd__loader"><div class="dragifywp-dnd__loader__wrap"><span></span><span></span><span></span></div></div>'),p=r.getIframeWindow(),f=r.getIframeJQueryObject(),g=function(e,t){var i='<ul class="dragifywp-widget__media">';c=0;try{for(var n=0;n<t;n++)if(void 0!==e[n]){var r='<img src="'+e[n].user.profile_image_url+'" />',o="http://twitter.com/"+e[n].user.screen_name+"/status/"+e[n].id_str;i+='<li class="item dragifywp-widget__media-item"><div class="dragifywp-media dragifywp-media--top"><div class="dragifywp-media__image dragifywp--paddingRight15"><a class="dragifywp-widget__media__avatar">'+r+'</a></div><div class="dragifywp-media__content"><div class="dragifywp-widget__twitter__header"><a class="dragifywp-widget__twitter__user dragifywp--mBold" href="'+o+'" target="_blank">@'+e[n].user.screen_name+'</a><span class="dragifywp-widget__twitter__time">'+p.TWITTER.timeAgo(e[n].created_at)+'</span></div><div class="dragifywp-widget__twitter__content">'+p.TWITTER.ify.clean(e[n].text)+"</div></div></div></li>",c++}}catch(e){}return i+="</ul>"},m=function(e){if(e){var t=JSON.parse(e);if(200==t.httpstatus){var n={};n.data=t,a.html(g(t,i.numberItems)),c<i.numberItems&&(n.limited_items=c),n.count=c,r.setSessionData("dragifywp_twitter_data",n)}else _()}else _()},_=function(){a.html(d),o(d.contents())(i)},v=function(e){_()};i.$watch("numberItems",function(){l&&n.cancel(l);var e=r.getSessionData("dragifywp_twitter_data");if(e){if(e.hasOwnProperty("limited_items")&&e.limited_items<i.numberItems)return void a.html(g(e.data,e.limited_items));if(e.count>=i.numberItems)return void a.html(g(e.data,i.numberItems))}a.html(u),l=n(function(){f.twitterHttp({data:{num:i.numberItems},success:m,error:v})},1e3)})}}}])}(window.angular)},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("nodeTree",["$DragifyWPService","$timeout",function(e,t){return{scope:{model:"<"},restrict:"A",link:function(i,n,r){var o=void 0;n.on("mouseenter",function(){var r=setTimeout(function(){o=angular.element('<div class="dragifywp-dnd__nodeTree" onmousedown="return false"></div>');for(var r=e.getParentNode(i.model);Array.isArray(r.link)&&r.link.length>1;)!function(){var i=angular.element("<div></div>"),n=angular.element("<span>"+(2==r.link.length?"Section":r.name)+"</span>");i.append(n);var a=r;n.on("click",function(i){t(function(){i.metaKey?e.openMap(a,!0):e.setEdited(a,!0)})}),n.on("mouseenter",function(){e.keepVisualNode(a),n.on("mouseleave",function(){e.removeVisualNode()})}),o.prepend(i),r=e.getParentNode(r)}();n.append(o),setTimeout(function(){o.addClass("dragifywp-dnd__nodeTree--show")},50)},500);n.on("mouseleave",function(){o?(o.remove(),o=void 0):clearTimeout(r)})}),i.$on("$destroy",function(){void 0!==o&&o.remove()})}}}])},function(e,exports){"use strict";!function(e){var t=e.module("dragifywp.builder.app");t.component("dragifywpBsPreview",{controller:["$DragifyWPService","$rootScope",function(e,t){this.service=e,this.toggleCollapse=function(){t.$emit("toggleCollapse")}}],template:'<div class="dragifywp-bs__preview"><div class="dragifywp-bs__preview__wrap dragifywp-bs__preview__wrap--{{$ctrl.service.previewDevice}}"><iframe frame-compile src="'+t.__config.frame_url+'" frameborder="0" id="dragifywp-bs-frame"></iframe></div><a class="dragifywp-bs__preview__collapseBtn" ng-click="$ctrl.toggleCollapse()"><i class="lmr lmr-chevron-right-circle"></i></a></div>'});var i=void 0;i=t.__config.is_block?'<div class="dragifywp-dnd__blockWelcome" ng-show="$ctrl.service.content.length == 0"><div class="dragifywp-dnd__blockWelcome__container"><div class="dragifywp-dnd__blockWelcome__desc">Welcome to <strong>DragifyWP Block Builder</strong>, get started building a reusable Block to embed in your Web Page.</div><div class="dragifywp-dnd__blockWelcome__decision"><a ng-click="$ctrl.addSection()">Blank Section</a><a ng-click="$ctrl.openWireframe()">Wireframe</a></div></div></div><style type="text/css">.dragifywp-dnd__blockBuilder{background-color:{{$ctrl.service.block_frame.body_bg}};}.dragifywp-dnd__blockBuilder__frame{background-color:{{$ctrl.service.block_frame.frame_bg}};max-width:{{$ctrl.service.block_frame.max_width}};padding:{{$ctrl.service.block_frame.padding}}}</style>':'<div class="dragifywp-dnd__welcome" ng-show="$ctrl.service.content.length == 0"><div class="dragifywp-dnd__welcome__container"><div class="dragifywp-dnd__welcome__desc">Welcome to <strong>DragifyWP Page Builder</strong>, a functional and intuitive Page Builder helps you create elegant web pages with an ease. Get started with</div><div class="dragifywp-dnd__welcome__decision"><a ng-click="$ctrl.addSection()">Blank Section</a><a ng-click="$ctrl.openWireframe()">Wireframes</a><span>or</span><a ng-click="$ctrl.openLibrary()">Library</a></div></div></div>',t.component("dragifywpDndArea",{controller:["$DragifyWPService","$rootScope",function(e,t){this.service=e,this.addSection=function(){var t=JSON.parse(JSON.stringify(window.dragifywp_widget_manager.get_model_by_tag("section")));e.addNode(e,t,0)},this.openLibrary=function(){t.$emit("openLibrary")},this.openWireframe=function(){t.$emit("openWireframe")}}],template:i+"<div class=\"dragifywp-dnd__area\"ng-show=\"$ctrl.service.content.length > 0\"ng-class=\"[$ctrl.service.showDrop, $ctrl.service.hide ,{'dragifywp-dnd__area--blockNestedList':$ctrl.service.blockNestedList,'dragifywp-dnd__area--editableMode':$ctrl.service.editableMode,'dragifywp-dnd__area--disableVisual':!$ctrl.service.visualShow,'dragifywp-dnd__area--locked':$ctrl.service.lockVisualShow,'dragifywp-dnd__area--disableAll':$ctrl.service.sidebar_collapse}]\"><dragifywp-section-list></dragifywp-section-list></div><style type=\"text/css\" ng-bind=\"$ctrl.service.custom_css\"></style>"}),t.component("dragifywpSectionList",{controller:["$DragifyWPService",function(e){this.service=e,this.showDropArea=function(){e.turnOff=!0},this.disableDragging=function(){return e.content.length<2},this.addSection=function(){var t=JSON.parse(JSON.stringify(e.templates.section));e.addNode(e,t,0)},this.dragStartCallback=function(){e.showTrash=!0},this.dragEndCallback=function(){e.showTrash=!1},this.dropCallback=function(t,i,n){return e.moveNode(n,t,i),i}}],template:'<div class="dragifywp-dnd__sectionList dragifywp-dnd__list dragifywp-dnd__list--lv1"dnd-list="$ctrl.service.content"ng-class="{\'dragifywp-dnd__list--empty\':$ctrl.service.content.length === 0}"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.service)"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.service, index)"dnd-allowed-types="[\'dnd-section\']"><dragifywp-section section="section"dnd-dragstart="$ctrl.dragStartCallback()"dnd-dragend="$ctrl.dragEndCallback()"ng-mouseup="$ctrl.mouseUpCallback()"ng-repeat="section in $ctrl.service.content"dnd-moved="$ctrl.service.removeNodeFromParent($ctrl.service, $index)"dnd-draggable="section"dnd-type="\'dnd-section\'"id="{{::$ctrl.service.getID(section)}}"dnd-effect-allowed="move"></dragifywp-section></div>'}),t.component("dragifywpSection",{controller:["$DragifyWPService","$scope","$timeout","$rootScope",function(t,i,n,r){this.service=t,this.section.attrs=e.merge({},window.dragifywp_widget_manager.default_values[this.section.tag],this.section.attrs),this.edited=this.section;var o=this,a={self:null,childs:null};this.$postLink=function(){setTimeout(function(){t.storeWatchers(i,a,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")})},this.getID=function(){return t.getID(o.section)};var s=r.$on("in-"+this.getID(),function(){t.returnWatchers(i,a,"scopeSiblings","scopeChildren")}),l=r.$on("out-"+this.getID(),function(){t.storeWatchers(i,a,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")});this.isEmpty=function(){return 0===this.section.content.length},i.$on("$destroy",function(){s(),l()})}],template:window.dragifywp_widget_manager.get_visual_view_by_tag("section"),bindings:{section:"<"}}),t.component("dragifywpRowList",{controller:["$DragifyWPService",function(e){this.service=e,this.isEmpty=function(){return 0===this.section.content.length},this.mouseUpCallback=function(){this.service.hide=""},this.dragStartCallback=function(){e.showDrop="dragifywp-dnd__area--showDrop--lv1",e.showTrash=!0},this.dragEndCallback=function(){e.hide="",e.showDrop="",e.showTrash=!1},this.dropCallback=function(t,i,n){return e.moveNode(n,t,i),i}}],template:'<div class="dragifywp-dnd__rowList dragifywp-dnd__list dragifywp-dnd__list--lv2 dnd-{{::$ctrl.service.getID($ctrl.section)}}"dnd-list="$ctrl.section.content"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.section)"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.section, index)"ng-class="{\'dragifywp-dnd__list--empty\':$ctrl.section.content.length == 0}"dnd-allowed-types="[\'row\']"><dragifywp-row dnd-dragstart="$ctrl.dragStartCallback()"dnd-dragend="$ctrl.dragEndCallback()"ng-mouseup="$ctrl.mouseUpCallback()"id="{{::$ctrl.service.getID(row)}}"row="row"ng-repeat="row in $ctrl.section.content"dnd-moved="$ctrl.service.removeNodeFromParent($ctrl.section, $index)"dnd-draggable="row"dnd-type="\'row\'"dnd-effect-allowed="move"></dragifywp-row></div><div class="dragifywp-dnd__empty dragifywp-dnd__empty--lv2"><span class="dragifywp-dnd__empty__label" ng-bind="::$ctrl.section.name"></span></div>',bindings:{section:"<"}}),t.component("dragifywpRow",{controller:["$DragifyWPService","$scope","$timeout","$rootScope",function(t,i,n,r){var o=this;this.service=t,this.row.attrs=e.merge({},window.dragifywp_widget_manager.default_values[this.row.tag],this.row.attrs),this.edited=this.row,this.isEmpty=function(){return 0===this.row.content.length},this.getID=function(){return t.getID(o.row)};var a={self:null,childs:null};this.$postLink=function(){setTimeout(function(){t.storeWatchers(i,a,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")})};var s=r.$on("in-"+this.getID(),function(){t.returnWatchers(i,a,"scopeSiblings","scopeChildren")}),l=r.$on("out-"+this.getID(),function(){t.storeWatchers(i,a,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")});i.$on("$destroy",function(){s(),l()})}],template:window.dragifywp_widget_manager.get_visual_view_by_tag("row"),bindings:{row:"<"}}),t.component("dragifywpColumnList",{controller:["$DragifyWPService","$timeout","$rootScope","$scope",function(e,t,i,n){this.service=e,this.mouseUpCallback=function(){this.service.hide=""},this.dragStartCallback=function(){e.showDrop="dragifywp-dnd__area--showDrop--lv2",e.showTrash=!0},this.dragEndCallback=function(){this.service.hide="",e.showDrop="",e.showTrash=!1},this.getColumnWidthClass=function(e){var t="dragifywp-col-"+e.attrs.width.desktop;return e.attrs.width.hasOwnProperty("tablet")&&(t+=" dragifywp-col-tb-"+e.attrs.width.tablet),e.attrs.width.hasOwnProperty("mobile")&&(t+=" dragifywp-col-mb-"+e.attrs.width.mobile),t},this.dropCallback=function(t,i,n){return e.moveNode(n,t,i),i}}],template:'<div class="dragifywp-dnd__columnList dragifywp-row__columnList dragifywp-dnd__list dragifywp-dnd__list--lv3 dnd-{{::$ctrl.service.getID($ctrl.row)}}"ng-class="{\'dragifywp-dnd__list--empty\':$ctrl.row.content.length == 0}"dnd-list="$ctrl.row.content"dnd-horizontal-list="true"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.row)"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.row, index)"dnd-allowed-types="[\'dnd-column\']"><dragifywp-column class="dragifywp-column"ng-class="::[$ctrl.service.getID(column),$ctrl.getColumnWidthClass(column)]"ng-repeat="column in $ctrl.row.content"dnd-moved="$ctrl.service.removeNodeFromParent($ctrl.row, $index)"ng-mouseup="$ctrl.mouseUpCallback()"dnd-dragstart="$ctrl.dragStartCallback()"dnd-dragend="$ctrl.dragEndCallback()"dnd-draggable="column"dnd-type="\'dnd-column\'"dnd-effect-allowed="move"id="{{::$ctrl.service.getID(column)}}"column="column"></dragifywp-column></div><div class="dragifywp-dnd__empty dragifywp-dnd__empty--lv3"><span class="dragifywp-dnd__empty__label" ng-bind="::$ctrl.row.name"></span></div>',bindings:{row:"<"}}),t.component("dragifywpColumn",{controller:["$DragifyWPService","$scope","$timeout","$rootScope",function(t,i,n,r){var o=this;this.service=t,this.column.attrs=e.merge({},window.dragifywp_widget_manager.default_values[this.column.tag],this.column.attrs),this.edited=this.column,this.isEmpty=function(){return 0==this.column.content.length},this.getID=function(){return this.service.getID(this.column)};var a={self:null,childs:null};this.$postLink=function(){setTimeout(function(){t.storeWatchers(i,a,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")})};var s=r.$on("in-"+this.getID(),function(){t.returnWatchers(i,a,"scopeSiblings","scopeChildren")}),l=r.$on("out-"+this.getID(),function(){t.storeWatchers(i,a,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")}),c=["1-1","5-6","4-5","3-4","2-3","3-5","1-2","2-5","1-3","1-4","1-5","1-6"],d=this.getID(),u=void 0;this.formClass=function(e){void 0===u&&(u=this.service.getIframeElement("."+d));var t="dragifywp-column";t+=" dragifywp-col-"+e.desktop,e.hasOwnProperty("tablet")&&e.tablet!=e.desktop&&(t+=" dragifywp-col-tb-"+e.tablet),e.hasOwnProperty("mobile")&&(e.hasOwnProperty("tablet")&&e.tablet!=e.mobile||!e.hasOwnProperty("tablet")&&e.mobile!=e.desktop)&&(t+=" dragifywp-col-mb-"+e.mobile),t+=" "+d,u.className=t;for(var i="1-1",n=["desktop","tablet","mobile"],r=0;r<n.length;r++)for(var o=n[r],a=u.querySelectorAll(".dragifywp-dnd__colWidth--"+o),s=0,l=a.length;s<l;s++)e.hasOwnProperty(o)&&(i=e[o].replace("-","/")),a[s].innerHTML=i},this.changeWidth=function(e){var i="1-1";i="tablet"==t.previewDevice?this.column.attrs.width.hasOwnProperty("tablet")?c.indexOf(this.column.attrs.width.tablet):c.indexOf(this.column.attrs.width.desktop):"mobile"==t.previewDevice?this.column.attrs.width.hasOwnProperty("mobile")?c.indexOf(this.column.attrs.width.mobile):this.column.attrs.width.hasOwnProperty("tablet")?c.indexOf(this.column.attrs.width.tablet):c.indexOf(this.column.attrs.width.desktop):c.indexOf(this.column.attrs.width.desktop),e&&i>0&&i<c.length?this.column.attrs.width[t.previewDevice]=c[i-1]:!e&&i>=0&&i<c.length-1&&(this.column.attrs.width[t.previewDevice]=c[i+1]),this.column!=this.service.edited&&this.formClass(this.column.attrs.width)},this.plusWidth=function(){this.column!=this.service.edited?t.commandManager.addCommand({execute:function(){o.changeWidth(!0)},undo:function(){o.changeWidth(!1)}}):o.changeWidth(!0)},this.minusWidth=function(){this.column!=this.service.edited?t.commandManager.addCommand({execute:function(){o.changeWidth(!1)},undo:function(){o.changeWidth(!0)}}):o.changeWidth(!1)};var p=r.$on("change-width-"+o.getID(),function(e,t){"-"==t?o.minusWidth():"+"==t&&o.plusWidth()});i.$on("$destroy",function(){s(),l(),p()})}],template:window.dragifywp_widget_manager.get_visual_view_by_tag("column"),bindings:{column:"<"}}),t.component("dragifywpItemList",{controller:["$DragifyWPService","$rootScope","$scope",function(e,t,i){this.service=e,this.isEmpty=function(){return 0==this.column.content.length},this.mouseUpCallback=function(){this.service.hide=""},this.dragStartCallback=function(t){e.showDrop="dragifywp-dnd__area--showDrop--lv3",e.showTrash=!0,t.nested&&(e.blockNestedList=!0)},this.dragEndCallback=function(){this.service.hide="",e.showDrop="",e.showTrash=!1,e.blockNestedList&&(e.blockNestedList=!1)},this.getID=function(){return e.getID(this.column)},this.dropCallback=function(t,i,n){return e.moveNode(n,t,i),i}}],template:'<div class="dragifywp-dnd__itemList dragifywp-dnd__list dragifywp-dnd__list--lv4 dnd-{{::$ctrl.service.getID($ctrl.column)}}"dnd-list="$ctrl.column.content"ng-class="{\'dragifywp-dnd__list--empty\':$ctrl.column.content.length === 0}"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.column)"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.column, index)"dnd-allowed-types="[\'dnd-item\']"><dragifywp-item ng-repeat="item in $ctrl.column.content"dnd-moved="$ctrl.service.removeNodeFromParent($ctrl.column, $index)"dnd-draggable="item"dnd-type="\'dnd-item\'"dnd-dragstart="$ctrl.dragStartCallback(item)"dnd-dragend="$ctrl.dragEndCallback()"ng-mouseup="$ctrl.mouseUpCallback()"dnd-effect-allowed="move"id="{{::$ctrl.service.getID(item)}}"item="item"></dragifywp-item></div><div class="dragifywp-dnd__empty dragifywp-dnd__empty--lv4"><span class="dragifywp-dnd__empty__label">Column <span class="dragifywp-dnd__colWidth--desktop" ng-bind="::($ctrl.column.attrs.width.desktop|slash)"></span><span class="dragifywp-dnd__colWidth--tablet" ng-bind="::($ctrl.column.attrs.width.tablet|slash)"></span><span class="dragifywp-dnd__colWidth--mobile" ng-bind="::($ctrl.column.attrs.width.mobile|slash)"></span></span></div>',bindings:{column:"<"}}),t.component("dragifywpItem",{controller:["$DragifyWPService","$scope","$timeout","$rootScope",function(e,t,i,n){this.service=e;var r=this,o={self:null,childs:null};this.$postLink=function(){setTimeout(function(){e.storeWatchers(t,o,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")})},this.getID=function(){return e.getID(this.item)};var a=n.$on("in-"+this.getID(),function(){e.returnWatchers(t,o,"scopeSiblings","scopeChildren")}),s=n.$on("out-"+this.getID(),function(){e.storeWatchers(t,o,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")});this.mouseDownCallback=function(){r.item.nested?r.service.hide="dragifywp-dnd__area--showList--lv4 dragifywp-dnd__area--hideNestedList":r.service.hide="dragifywp-dnd__area--showList--lv4"},t.$on("$destroy",function(){a(),s()})}],template:'<div class="dragifywp-dnd__visual dragifywp-dnd__visual--lv4 lvh__{{::$ctrl.getID()}}" dragifywp-detect-hover-node="$ctrl.item"ng-mousedown="$ctrl.mouseDownCallback()"><div class="dragifywp-dnd__visual__label" dragifywp-keep-visual-label><div class="dragifywp-dnd__visual__label__name" node-tree model=\'$ctrl.item\'><span ng-bind="::$ctrl.item.name" ng-click="$ctrl.service.setEdited($ctrl.item,true)"></span></div></div><dragifywp-action current="$ctrl.item" hide-map="true"></dragifywp-action></div><visual-view-compiler model="$ctrl.item"></visual-view-compiler>',bindings:{item:"<"}}),t.component("lbVsGrid",{controller:["$DragifyWPService",function(e){this.service=e,this.edited=this.model,this.getID=function(){return e.getID(this.model)}}],template:window.dragifywp_widget_manager.get_visual_view_by_tag("grid"),bindings:{model:"<"}}),t.component("dragifywpNestedItemList",{controller:["$DragifyWPService","$rootScope","$scope",function(e,t,i){this.service=e,Array.isArray(this.model.content)||(this.model.content=[]),this.mouseUpCallback=function(){this.service.hide=""},this.blockNestedList=function(t,i,n,r,o,a){return!n.nested&&(e.moveNode(a,i,n),n)},this.dragStartCallback=function(t){e.showDrop="dragifywp-dnd__area--showDrop--lv3",e.showTrash=!0,t.nested&&(e.blockNestedList=!0)},this.dragEndCallback=function(){this.service.hide="",e.showDrop="",e.showTrash=!1,e.blockNestedList&&(e.blockNestedList=!1)}}],template:'<div class="dragifywp-dnd__list dragifywp-dnd__list--nested dragifywp-dnd__list--lv4"dnd-list="$ctrl.model.content"ng-class="{\'dragifywp-dnd__list--empty\':$ctrl.model.content.length == 0}"dnd-drop="$ctrl.blockNestedList(event, index, item, type, external, $ctrl.model)"dnd-inserted="$ctrl.service.resetLink($ctrl.model)"dnd-allowed-types="[\'dnd-item\']"><dragifywp-nested-item ng-repeat="item in $ctrl.model.content"dnd-moved="$ctrl.service.removeNodeFromParent($ctrl.model, $index)"dnd-draggable="item"dnd-type="\'dnd-item\'"dnd-dragstart="$ctrl.dragStartCallback(item)"dnd-dragend="$ctrl.dragEndCallback()"ng-mouseup="$ctrl.mouseUpCallback()"dnd-effect-allowed="move"item="item"></dragifywp-nested-item></div><div class="dragifywp-dnd__empty dragifywp-dnd__empty--lv4 dragifywp-dnd__empty--nested"><span class="dragifywp-dnd__empty__label" ng-bind="$ctrl.model.name"></span></div>',bindings:{model:"<"}}),t.component("dragifywpNestedHorizontalItemList",{controller:["$DragifyWPService","$rootScope","$scope",function(e,t,i){this.service=e,Array.isArray(this.model.content)||(this.model.content=[]),this.mouseUpCallback=function(){this.service.hide=""},this.blockNestedList=function(t,i,n,r,o,a){return!n.nested&&(e.moveNode(a,i,n),n)},this.dragStartCallback=function(){e.showDrop="dragifywp-dnd__area--showDrop--lv3",e.showTrash=!0},this.dragEndCallback=function(){this.service.hide="",e.showDrop="",e.showTrash=!1}}],template:'<div class="dragifywp-dnd__list dragifywp-dnd__list--nested dragifywp-dnd__list--lv4 dragifywp-dnd__list--horizontal dragifywp-inlineList"dnd-horizontal-list="true"dnd-list="$ctrl.model.content"ng-class="{\'dragifywp-dnd__list--empty\':$ctrl.model.content.length == 0}"dnd-drop="$ctrl.blockNestedList(event, index, item, type, external, $ctrl.model)"dnd-inserted="$ctrl.service.resetLink($ctrl.model)"dnd-allowed-types="[\'dnd-item\']"><dragifywp-nested-item ng-repeat="item in $ctrl.model.content"dnd-moved="$ctrl.service.removeNodeFromParent($ctrl.model, $index)"dnd-draggable="item"dnd-type="\'dnd-item\'"dnd-dragstart="$ctrl.dragStartCallback()"dnd-dragend="$ctrl.dragEndCallback()"ng-mouseup="$ctrl.mouseUpCallback()"dnd-effect-allowed="move"item="item"></dragifywp-nested-item></div><div class="dragifywp-dnd__empty dragifywp-dnd__empty--lv4"><span class="dragifywp-dnd__empty__label" ng-bind="::$ctrl.model.name"></span></div>',bindings:{model:"<"}}),t.component("dragifywpNestedItem",{controller:["$DragifyWPService","$scope","$timeout","$rootScope",function(e,t,i,n){this.service=e;var r={self:null,childs:null};this.$postLink=function(){setTimeout(function(){e.storeWatchers(t,r,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")})},this.getID=function(){return e.getID(this.item)};var o=n.$on("in-"+this.getID(),function(){e.returnWatchers(t,r,"scopeSiblings","scopeChildren")}),a=n.$on("out-"+this.getID(),function(){e.storeWatchers(t,r,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")});t.$on("$destroy",function(){o(),a()})}],template:'<visual-view-compiler model="$ctrl.item"></visual-view-compiler><div class="dragifywp-dnd__visual dragifywp-dnd__visual--lv4 dragifywp-dnd__visual--lv5 lvh__{{::$ctrl.getID()}}"dragifywp-detect-hover-node="$ctrl.item"ng-mousedown="$ctrl.service.hide=\'dragifywp-dnd__area--showList--lv4\'"><div class="dragifywp-dnd__visual__label" dragifywp-keep-visual-label><div class="dragifywp-dnd__visual__label__name" node-tree model=\'$ctrl.item\'><span ng-bind="::$ctrl.item.name" ng-click="$ctrl.service.setEdited($ctrl.item,true)"></span></div></div><dragifywp-action current="$ctrl.item" hide-map="true"></dragifywp-action></div>',bindings:{item:"<"}}),t.component("dragifywpAction",{controller:["$DragifyWPService","$timeout","$rootScope",function(t,i,n){this.service=t,this.remove=function(){t.removeNode(this.current)},this.duplicate=function(){t.duplicateNode(this.current,!0)},this.select=function(e){e.metaKey||e.ctrlKey?t.openMap(this.current,!0):t.setEdited(this.current,!0)},this.openRightActions=function(t){if(3==t.which)return e.element(document).on("contextmenu",function(e){return 2==e.button&&e.preventDefault(),!0}),n.$emit("openRightClickPanel",{evt:t,model:this.current}),!1}}],template:'<div class="dragifywp-dnd__action__edit" ng-click="$ctrl.select($event)" ng-mousedown="$ctrl.openRightActions($event)" oncontextmenu="return false"></div>',bindings:{current:"<",hideMap:"<"}}),t.component("dragifywpBsRightClickAction",{controller:["$DragifyWPService","$rootScope","$timeout","$http","$DragifyWPHotKeys","$element",function(i,n,r,o,a,s){var l=this;this.shown=!1,this.service=i,this.saveStatus="is-disabled";jQuery(".dragifywp-bs__sidebar").width();this.showPanel=!1,n.$on("openRightClickPanel",function(t,n){l.saveStatus="is-active",l.shown=!0,document.querySelector(".dragifywp-bs__rightClick__separator").style.display="block",r(function(){var e=s.find(".dragifywp-bs__rightClick__panel"),t=e.outerWidth(),i=e.outerHeight(),r=n.evt.screenX,o=n.evt.clientY;l.panelLeft=r+t<=window.innerWidth?r:r-t,l.panelTop=o+i<=window.innerHeight?o:o-i,l.showPanel=!0}),l.current=n.model,e.element(i.getIframeElement(".lvh__"+i.getID(l.current))).addClass("dragifywp-dnd__visual--show"),i.getIframeDoc().addEventListener("scroll",l.close,!1),a.escKeyPressManager.add(function(){return l.opened_panel&&(l.opened_panel=""),e.element(i.getIframeElement(".lvh__"+i.getID(l.current))).removeClass("dragifywp-dnd__visual--show"),setTimeout(function(){document.querySelector(".dragifywp-bs__rightClick__separator").style.display="none"},100),l.shown=!1,i.getIframeDoc().removeEventListener("scroll",l.close,!1),e.element(document).unbind("contextmenu"),l.showPanel=!1,!0})}),this.close=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};a.escKeyPressManager.execute(e)},this.remove=function(){this.close(),i.removeNode(this.current)},this.duplicate=function(){this.close(),i.duplicateNode(this.current)},this.copy=function(){this.close(),i.copied={node:i.clone(this.current),level:i.getLevel(this.current),action:"copy"}},this.goToMap=function(){i.mapped=i.getParentNode(this.current),i.switchTab("map"),this.close()},this.cut=function(){i.copied={node:this.current,level:i.getLevel(this.current),action:"cut"},this.remove()},this.paste=function(){if(this.close(),void 0!==i.copied){var e=i.clone(i.copied.node);i.addNode(this.current,e),"cut"==i.copied.action&&(i.copied=void 0)}},this.showPasteButton=function(){if(!i.copied)return!1;var e=i.getLevel(this.current),t=i.copied.level;return e<5&&e+1==t||4==e&&t>4},this.isSameLevel=function(){if(!i.copied)return!1;var e=i.getLevel(this.current),t=i.copied.level;return e==t||5==e&&(7==t||6==t)||(7==e||6==e)&&5==t||7==e&&6==t||6==e&&7==t},this.insertBefore=function(){this.close();var e=i.getParentNode(this.current),t=i.getIndex(this.current);i.addNode(e,i.clone(i.copied.node),t),"cut"==i.copied.action&&(i.copied=void 0)},this.insertAfter=function(){this.close();var e=i.getParentNode(this.current),t=i.getIndex(this.current)+1;i.addNode(e,i.clone(i.copied.node),t),"cut"==i.copied.action&&(i.copied=void 0)},this.allowPasting=function(){if(!i.copied)return!1;switch(this.current.tag){case"section":return"row"==i.copied.tag;case"row":return"column"==i.copied.tag;case"column":return"row"!=i.copied.tag&&"column"!=i.copied.tag;default:return!1}},this.edit=function(){this.close(),i.edited!=this.current&&(i.edited&&(n.$emit("out-"+i.getID(i.edited)),i.edited=null),r(function(){i.edited=l.current,n.$emit("in-"+i.getID(i.edited))},100)),i.switchTab("editor")},this.saveAsTemplate=function(){l.close(function(){n.$emit("openSaveTemplatePanel",l.current)})},this.openItemTemplate=function(){l.close(function(){n.$emit("openItemTemplateBar",l.current)})},this.export=function(){l.close(),o({method:"GET",url:t.__config.api+"/get-identify-code/dragifywp-pb-item-"+l.current.tag,cache:!0}).then(function(e){if(e.data){var t=i.cloneObject(l.current,i.saveProperties),n={identify:e.data,templates:[{template_name:l.current.name,type:l.current.tag,content:t}]};n=JSON.stringify(n).replace(/\\[^"n]/g,"");var r="data:application/json;charset=utf-8,"+n,o=encodeURI(r),a=new Date,s=l.current.tag+"_templates_"+a.getFullYear()+"_"+(a.getMonth()+1)+"_"+a.getDate()+"_"+a.getHours()+"_"+a.getMinutes()+".json",c=document.createElement("a");c.setAttribute("href",o),c.setAttribute("download",s),document.body.appendChild(c),c.click(),c.remove()}})}}],template:'<div ng-if="$ctrl.shown" class="dragifywp-bs__rightClick"><div class="dragifywp-bs__rightClick__backdrop" oncontextmenu="return false" ng-mousedown="$ctrl.close()" ng-click="$ctrl.close()"></div><div class="dragifywp-bs__rightClick__panel" ng-class="{\'dragifywp-bs__rightClick__panel__show\': $ctrl.showPanel}" ng-style="{\'top\':$ctrl.panelTop, \'left\':$ctrl.panelLeft}"><div class="dragifywp-bs__rightClick__section"><a ng-click="$ctrl.remove()">Delete</a><a ng-click="$ctrl.duplicate()">Duplicate</a><a ng-click="$ctrl.cut()" ng-if="::($ctrl.current.tag != \'section\')">Cut</a><a ng-click="$ctrl.copy()" ng-if="::($ctrl.current.tag != \'section\')">Copy</a><a ng-if="$ctrl.showPasteButton()"><span ng-click="$ctrl.paste()">Paste</span></a></div><div class="dragifywp-bs__rightClick__section" ng-if="$ctrl.isSameLevel()"><a ng-click="$ctrl.insertBefore()">Insert Before</a><a ng-click="$ctrl.insertAfter()">Insert After</a></div><div class="dragifywp-bs__rightClick__section"><a ng-click="$ctrl.edit()">Edit</a><a ng-click="$ctrl.goToMap()">Go to Map</a></div><div class="dragifywp-bs__rightClick__section"><a ng-click="$ctrl.export()">Export Data</a><a ng-click="$ctrl.saveAsTemplate()">Save as Template</a><a ng-click="$ctrl.openItemTemplate()">Templates...</a></div></div></div><div class="dragifywp-bs__rightClick__separator"></div>'}),t.component("saveTemplatePanel",{controller:["$DragifyWPService","$rootScope","$timeout","$http","$DragifyWPHotKeys","$DragifyWPPopup",function(i,n,r,o,a,s){var l=this;this.show=!1,this.tempName="",n.$on("openSaveTemplatePanel",function(e,t){l.show=!0,l.model=t,l.state="ready",a.escKeyPressManager.add(function(){return!(!l.show||"ready"!=l.state)&&(l.show=!1,l.tempName="",!0)})}),this.close=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;a.escKeyPressManager.execute(e)},this.save=function(n){if(13==n.keyCode&&"ready"==l.state&&l.tempName){l.state="saving";var a=i.simplifyModelToSave(l.model);o.post(t.__config.api+"/templateItems",{title:l.tempName.trim(),content:a,type:l.model.tag}).then(function(t){e.isArray(i.item_templates[l.model.tag])&&i.push_item_template(l.tempName,t.data,l.model),l.state="saved",r(function(){l.state="ready",l.close()},1500)},function(){l.state="ready",l.close(function(){s.showFsPopup({title:"Try it Late",message:"Error! Cannot save the Data now."})})})}}}],template:'<div class="dragifywp-bs__saveTemplatePanel" ng-if="$ctrl.show" ng-class="\'dragifywp-bs__saveTemplatePanel--\'+$ctrl.state"><button class="dragifywp-bs__saveTemplatePanel__close" ng-click="$ctrl.close()"><span class="lmr lmr-cross"></span></button><div class="dragifywp-bs__saveTemplatePanel__input"><input type="text" placeholder="Enter \'{{::($ctrl.model.tag == \'section\'?\'Section\':$ctrl.model.name)}}\' Template Name" ng-disabled="$ctrl.state != \'ready\'" maxlength="25" ng-trim="true" ng-keypress="$ctrl.save($event)" dragifywp-auto-focus ng-model="$ctrl.tempName"/></div><div class="dragifywp-bs__saveTemplatePanel__message" ng-show="$ctrl.tempName">Hit Enter to Save</div><div class="dragifywp-bs__saveTemplatePanel__state"><span></span><span class="lmr lmr-check"></span></div></div>'})}(window.angular)},function(e,exports,t){"use strict";t(338),t(339),t(340),t(341),t(342),function(e){var t=e.module("dragifywp.builder.app");t.component("dragifywpBsSidebar",{controller:["$rootScope",function(e){}],template:'<div class="dragifywp-bs__sidebar"><sidebar-header></sidebar-header><sidebar-body></sidebar-body><sidebar-footer></sidebar-footer></div><trash-area></trash-area><code-editor-bar></code-editor-bar><item-template-bar></item-template-bar><save-template-panel></save-template-panel><editor-mode></editor-mode>'}),t.component("trashArea",{controller:["$DragifyWPService","$rootScope",function(e,t){this.service=e,this.dropCallback=function(t){return this.service.moveNodeToTrash(e.getNodeFromLink(t.link)),t}}],template:'<div class="dragifywp-bs__trashArea"dnd-drop="$ctrl.dropCallback(item)"dnd-list="[]" ng-class="{\'dragifywp-bs__trashArea--show\':$ctrl.service.showTrash}"><span class="dragifywp-bs__trashArea__icon"><i class="lmr lmr-trash3"></i></span></div>'}),t.component("sidebarHeader",{controller:["$timeout","$DragifyWPService","$scope","$http","$rootScope","$DragifyWPHotKeys","$DragifyWPPopup","$DragifyWPOutputGenerator",function(e,i,n,r,o,a,s,l){var c=this;c.service=i,c.state="freezed";var d=void 0;c.getState=function(){if("disabled"==c.state&&void 0!==d){c.service.getDataForComparingToSave()!==d&&(c.state="ready",t.__config.enable_debug||(window.onbeforeunload=function(e){var t="Are you sure to quit without Saving?";return e.returnValue=t,t}))}return c.state},o.$on("forceEnableSave",function(){e(function(){c.state="ready"})}),o.$on("onDataLoaded",function(t,i){i?c.state="ready":(c.state="disabled",e(function(){d=c.service.getDataForComparingToSave()})),n.$apply()}),o.$on("expired_session",function(){window.onbeforeunload=void 0,s.showFsPopup({title:"Session Expired",message:"Your Session expired. Please log in to continue use the app.",onClose:function(){if("disabled"!=c.state&&"undefined"!=typeof Storage){var e={model:c.service.content,custom_css:c.service.custom_css,custom_js:c.service.custom_js};t.__config.is_block&&(e.block_frame=c.service.block_frame),sessionStorage.dragifywp_pb_data=JSON.stringify(e)}document.location.replace(t.__config.login_url)},buttons:[{text:"Login"}]})}),o.$on("promptSave",function(){c.save()}),this.save=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if("ready"==this.state){var n=c.service.getDataForComparingToSave();this.state="saving",c.contentSave=c.service.getContentForSave();var o=l.generate_save_data(c.contentSave),a={model:JSON.stringify(c.contentSave),shortcodes:o.shortcodes,styles:JSON.stringify(o.styles),custom_css:c.service.custom_css,custom_js:c.service.custom_js};t.__config.is_block&&(a.block_frame=JSON.stringify(c.service.block_frame)),r({method:"POST",url:t.__config.api+"/pages/"+t.__config.post_id,data:a}).then(function(r){-1!=r.data&&(c.state="saved",e(function(){c.state="disabled",d=n,t.__config.enable_debug||(window.onbeforeunload=void 0),"function"==typeof i&&i()},500))},function(e){c.state="ready",c.redirect_link&&(c.redirect_link=""),s.showFsPopup({title:"Try it Late",message:"Error! Cannot save Data."})})}},this.openCustomCodePanel=function(){o.$emit("openCustomCodePanel")},this.redirect_link=void 0,this.redirect=function(e,t){e.metaKey||e.ctrlKey||"ready"!=this.state||(e.preventDefault(),this.redirect_link=t)},this.openMenu=function(){"saving"!=this.state&&(this.redirect_link=void 0,this.showMenu=!0,i.lockVisualShow=!0,i.deactivateDraggable(),a.escKeyPressManager.add(function(){return c.showMenu=!1,i.lockVisualShow=!1,i.reactivateDraggable(),!0}))},this.closeMenu=function(){a.escKeyPressManager.execute()},this.saveThenRedirect=function(){this.closeMenu(),this.save(function(){c.promptRedirect()})},this.promptRedirect=function(){c.redirect_link.newTab?window.open(c.redirect_link.link,"_blank"):window.location.href=c.redirect_link.link,c.redirect_link&&(c.redirect_link=void 0)},this.redirectAnyway=function(e){this.closeMenu(),this.promptRedirect()},this.links=t.__config.redirect_links,this.openHelpPanel=function(){this.closeMenu(),e(function(){o.$emit("openHelpPanel")},450)},t.__config.is_block&&(this.getShortcode=function(){s.showFsPopup({title:"Copy Shortcode",message:"<input readonly value='[dragifywp_block id=\""+t.__config.post_id+'"]\' style="font-size:14px;border:none;width:100%"/>',onInit:function(e){e.find("input").select()}})},o.$on("getShortcode",c.getShortcode))}],template:function(){var e="";return t.__config.is_block&&(e='<div class="dragifywp-bs__header__menu__item"><a ng-click="$ctrl.getShortcode()">Get Shortcode</a></div>'),'<div class="dragifywp-bs__header"><button class="dragifywp-bs__header__links" ng-class="{\'dragifywp-bs__header__links--active\':$ctrl.showMenu}" ng-click="$ctrl.openMenu()"><span class="lmr lmr-plus"></span></button><button class="dragifywp-bs__header__customCode" ng-click="$ctrl.openCustomCodePanel()"><i class="lmr lmr-code"></i></button><button class="dragifywp-bs__header__undoBtn" ng-disabled="!$ctrl.service.commandManager.canUndo()" ng-click="$ctrl.service.commandManager.undo()"><i class="lmr lmr-undo2" aria-hidden="true"></i></button><button class="dragifywp-bs__header__redoBtn" ng-disabled="!$ctrl.service.commandManager.canRedo()" ng-click="$ctrl.service.commandManager.redo()"><i class="lmr lmr-undo2" aria-hidden="true"></i></button><div class="dragifywp-bs__header__save"><button class="dragifywp-bs__header__save__btn dragifywp-ui__btn dragifywp-ui__btn--primary" ng-class="[\'dragifywp-bs__header__save__btn--\'+$ctrl.getState()]" ng-click="$ctrl.save()"><span>Saved</span><span>Save</span><span></span><span><i class="fa fa-check" aria-hidden="true"></i></span></button></div></div><div class="dragifywp-bs__header__menu" ng-class="{\'dragifywp-bs__header__menu--show\':$ctrl.showMenu}"><div class="dragifywp-bs__header__menu__restrict" ng-class="{\'dragifywp-bs__header__menu__restrict--show\': $ctrl.redirect_link}"><div class="dragifywp-bs__header__menu__restrict__wrap"><p>Changes have been detected in data. Consider to save the data before redirecting.</p><div><button class="dragifywp-ui__btn dragifywp-ui__btn--primary" ng-click="$ctrl.saveThenRedirect()">Save & Redirect</button></div><div><a class="dragifywp-bs__header__menu__restrict__continue" ng-click="$ctrl.redirectAnyway()">No, Redirect without saving</a></div></div></div>'+e+'<div class="dragifywp-bs__header__menu__item" ng-repeat="link in ::$ctrl.links"><a href="{{::link.link}}" target="{{::(link.newTab?\'_blank\':\'_self\')}}" ng-click="$ctrl.redirect($event,link)" ng-bind="::link.text"></a></div><div class="dragifywp-bs__header__menu__item"><a ng-click="$ctrl.openHelpPanel()">Help</a></div></div><div class="dragifywp-bs__header__menu__backdrop" ng-click="$ctrl.closeMenu()"></div>'}}),t.component("sidebarFooter",{controller:["$DragifyWPService","$timeout","$rootScope","$DragifyWPHotKeys",function(e,t,i,n){var r=this;this.devices=["mobile","tablet","tablet-l","desktop"],this.service=e,e.previewDevice=this.devices[3],this.changeDevice=function(t){t<0||t>3||e.previewDevice!==this.devices[t]&&(e.previewDevice=this.devices[t])},this.toggleCollapse=function(){e.sidebar_collapse?n.escKeyPressManager.execute():(e.sidebar_collapse=!0,e.deactivateDraggable(),n.pause(),n.escKeyPressManager.add(function(){return e.sidebar_collapse=!1,e.reactivateDraggable(),n.resume(),!0}))},this.toggleVisualShow=function(){e.visualShow?(e.visualShow=!1,e.deactivateDraggable()):(e.visualShow=!0,e.reactivateDraggable())},i.$on("toggleVisual",r.toggleVisualShow),i.$on("toggleCollapse",r.toggleCollapse)}],template:'<div class="dragifywp-bs__footer"><div class="dragifywp-bs__footer__collapse" ng-click="$ctrl.toggleCollapse()"><i class="lmr lmr-chevron-left-circle"></i></div><div class="dragifywp-bs__footer__map" ng-click="$ctrl.toggleVisualShow()">Visual <span class="dragifywp-bs__footer__map__toggle" ng-class="{\'dragifywp-bs__footer__map__toggle--active\':$ctrl.service.visualShow}"></span><div class="dragifywp-bs__footer__map__visual"></div></div><div class="dragifywp-bs__footer__responsive"><a ng-repeat="device in ::$ctrl.devices"class="dragifywp-bs__footer__responsive__device"ng-class="{\'dragifywp-bs__footer__responsive__device--current\': $ctrl.service.previewDevice == device}"ng-click="$ctrl.changeDevice($index)"><i class="lmr lmr-{{::device}}"></i></a></div></div>'}),t.component("sidebarBody",{controller:["$DragifyWPService",function(e){this.service=e,this.tabs={map:"site-map",widgets:"icons2",editor:"pencil3"},t.__config.is_block?this.tabs.frame="text-align-center":this.tabs.library="license2"}],template:function(){return'<div class="dragifywp-bs__main"><div class="dragifywp-bs__main__nav"><div class="dragifywp-bs__main__nav__item"dragifywp-bs-tab-handler="{{::name}}"ng-class="{\'dragifywp-bs__main__nav__item--active\':$ctrl.service.tab == name}"ng-repeat="(name, icon) in ::$ctrl.tabs"ng-click="$ctrl.service.switchTab(name)"><span class="dragifywp-bs__main__nav__icon lmr lmr-{{::icon}}"></span><small class="dragifywp-bs__main__nav__name" ng-bind="::name"></small></div></div><div class="dragifywp-bs__main__body" ng-switch on="$ctrl.service.tab"><map-panel ng-if="$ctrl.service.tab === \'map\'"></map-panel><widget-panel ng-show="$ctrl.service.tab === \'widgets\'"></widget-panel><edit-panel ng-show="$ctrl.service.tab === \'editor\'" model="$ctrl.service.edited"></edit-panel>'+(t.__config.is_block?"<frame-panel ng-if=\"$ctrl.service.tab === 'frame'\"></frame-panel>":"<template-panel ng-if=\"$ctrl.service.tab === 'library'\"></template-panel>")+'<child-panel ng-if="$ctrl.service.showChild"></child-panel></div></div>'}}),t.component("childPanel",{controller:["$DragifyWPService","$timeout","$rootScope","$DragifyWPHotKeys",function(e,t,i,n){this.service=e,this.child=e.child;var r=this;this.showoff=!1,this.back=function(){n.escKeyPressManager.execute()},n.escKeyPressManager.add(function(){return r.showoff=!0,e.icons_expand&&(e.icons_expand=!1),t(function(){e.showChild=!1,e.child=void 0},650),!0}),i.$on("removeChildParent",function(){r.back()})}],template:'<div class="dragifywp-bs__editor dragifywp-bs__childEditor" ng-class="{\'dragifywp-bs__childEditor--hide\':$ctrl.showoff}"><div class="dragifywp-bs__editor__header dragifywp-bs__editor__header--child"><button class="dragifywp-bs__childEditor__backBtn" ng-click="$ctrl.back()"><i class="lmr lmr-chevron-left"></i></button><h3 class="dragifywp-bs__editor__header__name" ng-bind="::$ctrl.service.child.name"></h3></div><div class="dragifywp-bs__editor__body  dragifywp-bs__editor__body--child dragifywp-bs__editor__body--wrap dragifywp-bs__editor__body--noPaddingTop" dragifywp-expand-watcher="$ctrl.service.icons_expand"><child-editor-compiler model="$ctrl.service.child"></child-editor-compiler></div></div><div class="dragifywp-bs__childEditor__backdrop"></div>'}),t.component("codeEditorBar",{controller:["$DragifyWPService","$timeout","$rootScope","$DragifyWPHotKeys",function(e,t,i,n){var r=this;this.service=e,this.mode="css",this.show=!1,this.expand=!1,this.close=function(){n.escKeyPressManager.execute()},this.open=function(){r.show||(r.show=!0,e.lockVisualShow=!0,n.pause(),e.deactivateDraggable(),c(!0),n.escKeyPressManager.add(function(){return r.show=!1,r.expand=!1,e.lockVisualShow=!1,n.resume(),e.reactivateDraggable(),"css"==r.mode?o.blur():a.blur(),!0}))},this.expandBox=function(){r.expand=!r.expand,c()};var o=void 0;this.cssOptions={useWrapMode:!0,showGutter:!0,theme:"cobalt",mode:"css",onLoad:function(e){o=e}};var a=void 0;this.jsOptions={useWrapMode:!0,showGutter:!0,theme:"cobalt",mode:"javascript",onLoad:function(e){a=e}};var s,l=function(e){e.focus();var t=e.getSession().getValue().split("\n").length;e.gotoLine(t),e.navigateLineEnd()},c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];clearTimeout(s),s=setTimeout(function(){var t="css"==r.mode?o:a;t.resize(),t.renderer.updateFull(),e&&l(t)},300)};this.switch=function(e){r.mode=e,setTimeout(function(){var e="css"==r.mode?o:a;l(e)})},i.$on("openCustomCodePanel",r.open)}],template:'<div class="dragifywp-bs__codeEditor" ng-class="{\'dragifywp-bs__codeEditor--show\':$ctrl.show, \'dragifywp-bs__codeEditor--expanded\':$ctrl.expand}"><div class="dragifywp-bs__codeEditor__header"><button class="dragifywp-bs__codeEditor__header__closeBtn" ng-click="$ctrl.close()"><span class="lmr-arrow-left"></span></button><div class="dragifywp-bs__codeEditor__header__tabs"><a class="dragifywp-bs__codeEditor__header__tab" ng-class="{\'dragifywp-bs__codeEditor__header__tab--active\':$ctrl.mode == \'css\'}" ng-click="$ctrl.switch(\'css\')">CSS</a><a class="dragifywp-bs__codeEditor__header__tab" ng-class="{\'dragifywp-bs__codeEditor__header__tab--active\':$ctrl.mode == \'js\'}" ng-click="$ctrl.switch(\'js\')">JavaScript</a></div><button class="dragifywp-bs__codeEditor__header__expandBtn" ng-click="$ctrl.expandBox()"><span class="lmr" ng-class="($ctrl.expand?\'lmr-contract\':\'lmr-expand\')"></span></button></div><div class="dragifywp-bs__codeEditor__body"><div ng-if="$ctrl.mode === \'css\'" ui-ace="$ctrl.cssOptions" ng-model="$ctrl.service.custom_css" ng-model-options="{debounce: 500}"></div><div ng-if="$ctrl.mode === \'js\'" ui-ace="$ctrl.jsOptions" ng-model="$ctrl.service.custom_js" ng-model-options="{debounce: 500}"></div></div></div>'}),t.component("itemTemplateBar",{controller:["$DragifyWPService","$rootScope","$timeout","$http","$DragifyWPHotKeys",function(i,n,r,o,a){var s=this;this.service=i,this.shown=!1,this.hidden=!1,this.status="",n.$on("openItemTemplateBar",function(n,l){s.currentTemplate=-1,s.name="section"==l.tag?"Section":l.name,s.templateName=l.tag,s.shown=!0,s.state="",i.lockVisualShow=!0,e.isArray(s.service.item_templates[s.templateName])?s.service.item_templates[s.templateName].length>0?(s.state="loaded",r(function(){s.service.setEdited(l)},600)):s.state="empty":s.state="loading","loading"==s.state&&o({method:"GET",url:t.__config.api+"/templateItems/"+s.templateName}).then(function(e){s.service.item_templates[s.templateName]=e.data,0==s.service.item_templates[s.templateName].length?s.state="empty":(s.state="loaded",r(function(){s.service.setEdited(l)},600))},function(){s.state="error"}),a.escKeyPressManager.add(function(){return s.shown=!1,i.lockVisualShow=!1,!0})}),this.applyTemplate=function(t,n){if(n!=this.currentTemplate){var r=this.currentTemplate,o=e.merge({},s.service.edited),a=this.service.edited.link.concat([]);i.commandManager.addCommand({execute:function(){-1==s.currentTemplate&&(s.origin=i.clone(s.service.edited));var r=i.getNodeFromLink(a);r.hasOwnProperty("content")&&Array.isArray(r.content)&&(r.content.length=0),r=e.merge(r,t.content),i.resetLink(r),s.currentTemplate=n},undo:function(){var t=i.getNodeFromLink(a);t.hasOwnProperty("content")&&Array.isArray(t.content)&&(t.content.length=0),t=e.merge(t,o),i.resetLink(t),s.currentTemplate=r},parent:function(){return i.getNodeFromLink(a)}})}},this.backToOrigin=function(){if(-1!=this.currentTemplate){var t=this.service.edited.link.concat([]),n=this.currentTemplate,r=e.merge({},s.service.edited),o=e.merge({},s.origin);i.commandManager.addCommand({execute:function(){var n=i.getNodeFromLink(t);n.hasOwnProperty("content")&&Array.isArray(n.content)&&(n.content.length=0),n=e.merge(n,o),i.resetLink(n),s.currentTemplate=-1},undo:function(){var o=i.getNodeFromLink(t);o.hasOwnProperty("content")&&Array.isArray(o.content)&&(o.content.length=0),o=e.merge(o,r),i.resetLink(o),s.currentTemplate=n},parent:function(){return i.getNodeFromLink(t)}})}},this.close=function(){a.escKeyPressManager.execute()}}],template:'<div class="dragifywp-bs__itemTemplate" ng-class="{\'dragifywp-bs__itemTemplate--show\':$ctrl.shown}"><div ng-class="\'dragifywp-bs__itemTemplate--\'+$ctrl.state"><div class="dragifywp-bs__itemTemplate__header"><button class="dragifywp-bs__itemTemplate__header__closeBtn" ng-click="$ctrl.close()"><span class="lmr lmr-chevron-left"></span></button><h6 class="dragifywp-bs__itemTemplate__header__name" ng-bind="$ctrl.name+\' Templates\'"></h6></div><div class="dragifywp-bs__itemTemplate__body"><ul class="dragifywp-bs__itemTemplate__list"><li class="dragifywp-bs__itemTemplate__list__item" ng-repeat="template in $ctrl.service.item_templates[$ctrl.templateName] track by template.template_id" ng-class="{\'dragifywp-bs__itemTemplate__list__item--active\':$ctrl.currentTemplate == $index }"><h6 class="dragifywp-bs__itemTemplate__list__item__name" ng-click="$ctrl.applyTemplate(template, $index)" ng-bind="::template.template_name"></h6><button class="dragifywp-bs__itemTemplate__list__item__originBtn" ng-click="$ctrl.backToOrigin()"><i class="lmr lmr-undo2" aria-hidden="true"></i> Origin</button></li></ul><p class="dragifywp-bs__itemTemplate__empty">No Template Available.</p><p class="dragifywp-bs__itemTemplate__error">Error! Cannot load data.</p><div class="dragifywp-bs__itemTemplate__preloader"><span></span></div></div></div></div>'})}(window.angular)},function(e,exports){"use strict";!function(e){var t=e.module("dragifywp.builder.app");t.component("mapPanel",{controller:["$DragifyWPService",function(e){this.service=e,this.getLevel=function(){var t=e.getLevel(e.mapped);return"grid"==e.mapped.tag?t=6:t>5&&(t=5),t}}],template:'<div class="dragifywp-bs__editor dragifywp-bs__mapController" ng-switch on="$ctrl.getLevel()"><map-section ng-switch-when="1" class="dragifywp-bs__mapPanel"></map-section><map-row ng-switch-when="2" class="dragifywp-bs__mapPanel"></map-row><map-column ng-switch-when="3" class="dragifywp-bs__mapPanel"></map-column><map-item ng-switch-when="4" class="dragifywp-bs__mapPanel"></map-item><map-nested-item ng-switch-when="5" class="dragifywp-bs__mapPanel"></map-nested-item><map-grid-item ng-switch-when="6" class="dragifywp-bs__mapPanel"></map-grid-item></div>'}),t.component("mapSection",{controller:["$DragifyWPService",function(e){this.service=e;var t=JSON.stringify(window.dragifywp_widget_manager.get_model_by_tag("section"));this.isEmpty=function(){return 0===e.content.length},this.disableDragging=function(){return e.content.length<2},this.addSection=function(){e.addNode(this.service,JSON.parse(t)),setTimeout(function(){e.scrollToElement(e.content[e.content.length-1])},100)},this.removeAll=function(){this.service.removeAllChildNodes(this.service)},this.getButton=function(){return"Add Section"},this.select=function(t){e.mapped=t,e.removeVisualNode(),e.scrollToElement(e.mapped,!0)},this.dropCallback=function(t,i,n){return e.moveNode(n,t,i),i}}],template:'<div class="dragifywp-bs__editor__header"><div class="dragifywp-bs__wrap"><h3 class="dragifywp-bs__editor__header__name">Layout</h3><p class="dragifywp-bs__editor__header__desc">Your layout with all sections</p></div></div><div class="dragifywp-bs__editor__body dragifywp-bs__editor__body--wrap"><div class="dragifywp-bs__list__empty" ng-click="$ctrl.addSection()" ng-if="$ctrl.isEmpty()"><span class="lmr lmr-plus"></span></div><div class="dragifywp-bs__list"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.service)"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.service, index)"dnd-list="$ctrl.service.content" dnd-allowed-types="[\'section\']"><div class="dragifywp-bs__list__item"dragifywp-visual-hover="section"ng-repeat="section in $ctrl.service.content"dnd-moved="$ctrl.service.content.splice($index, 1); $ctrl.service.resetChildLinkFromIndex($ctrl.service, $index)"dnd-draggable="section"dnd-type="\'section\'"dnd-disable-if="$ctrl.disableDragging()"dnd-effect-allowed="move"><div class="dragifywp-bs__list__item__info"><h3 class="dragifywp-bs__list__item__name" ng-bind="::section.name"></h3><p class="dragifywp-bs__list__item__desc" ng-bind="::(section.name != \'Section\'?\'Section\':\'Unnamed\')"></p></div><div class="dragifywp-bs__list__item__clickArea" ng-click="$ctrl.select(section)"></div><box-action current="section"></box-action></div></div><add-and-remove model="$ctrl.service.mapped" on-add="$ctrl.addSection()" on-remove="$ctrl.removeAll()" on-get-button="$ctrl.getButton()"></add-and-remove></div>'}),t.component("mapRow",{controller:["$DragifyWPService",function(e){this.service=e,this.template=[[],["1-1"],["1-2","1-2"],["1-3","1-3","1-3"],["1-3","2-3"],["2-3","1-3"],["1-4","1-4","1-4","1-4"],["1-4","3-4"],["1-4","1-2","1-4"],["3-4","1-4"],["1-5","1-5","1-5","1-5","1-5"],["2-5","3-5"]];var t=JSON.stringify(window.dragifywp_widget_manager.get_model_by_tag("row")),i=JSON.stringify(window.dragifywp_widget_manager.get_model_by_tag("column"));this.isEmpty=function(){return 0===this.service.mapped.content.length},this.disableDragging=function(){return this.service.mapped.content.length<2},this.getColumnLayout=function(e){for(var t="",i=0;i<e.content.length;i++)t+=e.content[i].attrs.width+(i===e.content.length-1?"":" + ");return t?t.split("-").join("/"):"Empty"},this.removeAll=function(){this.service.removeAllChildNodes(e.mapped),this.show_row=!1},this.addRow=function(e){for(var n=JSON.parse(t),r=this.template[e],o=0;o<r.length;o++){var a=JSON.parse(i);a.attrs.width={desktop:r[o]},"1-1"!=r[o]&&(a.attrs.width.mobile="1-1"),n.content.push(a)}this.service.addNode(this.service.mapped,n),this.show_row=!1},this.select=function(t){this.service.mapped=t,e.removeVisualNode(),e.scrollToElement(e.mapped,!0)},this.getButton=function(){return this.show_row?"Collapsed":"Add Row"},this.showRowList=function(){this.show_row=!this.show_row},this.getColumnLabel=function(e){if(0==e.content.length)return"Empty";var t=[],i=!0,n=!1,r=void 0;try{for(var o,a=e.content[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var s=o.value;t.push(s.attrs.width.desktop.replace("-","/"))}}catch(e){n=!0,r=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw r}}var l=t.join(" + ");return l.length>20&&(l=l.substr(0,18)+"..."),l},this.dropCallback=function(t,i,n){return e.moveNode(n,t,i),i}}],template:'<div class="dragifywp-bs__editor__header"><map-back></map-back><div class="dragifywp-bs__wrap"><input dragifywp-input-section-name class="dragifywp-bs__editor__header__mapInput" type="text" value="{{::($ctrl.service.mapped.name == \'Section\'? \'\':$ctrl.service.mapped.name)}}" maxlength="20" placeholder="Section"/><map-breadcrumbs></map-breadcrumbs></div></div><div class="dragifywp-bs__editor__body dragifywp-bs__editor__body--wrap"><div class="dragifywp-bs__addItem" ng-class="{\'dragifywp-bs__addItem--show\':$ctrl.isEmpty() || $ctrl.show_row}"><p class="dragifywp-bs__addItem__message">Add a Row.</p><ul class="dragifywp-bs__addItem__list dragifywp-bs__addItem__list--row"><li class="dragifywp-bs__addItem__item" ng-repeat="row in ::$ctrl.template" ng-click="$ctrl.addRow($index)"><span ng-repeat="column in ::row track by $index" class="dragifywp-bs__visualCol dragifywp-bs__visualCol--{{::column}}"></span></li></ul></div><div class="dragifywp-bs__list"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.service.mapped)"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.service.mapped, index)"dnd-list="$ctrl.service.mapped.content" dnd-allowed-types="[\'row\']"><div class="dragifywp-bs__list__item"dragifywp-visual-hover="row"ng-repeat="row in $ctrl.service.mapped.content"dnd-moved="$ctrl.service.mapped.content.splice($index, 1); $ctrl.service.resetChildLinkFromIndex($ctrl.service.mapped, $index)"dnd-disable-if="$ctrl.service.mapped.content.length < 2"dnd-draggable="row"dnd-type="\'row\'"dnd-effect-allowed="move"><div class="dragifywp-bs__list__item__info"><h3 class="dragifywp-bs__list__item__name" ng-bind="$ctrl.getColumnLabel(row)"></h3><p class="dragifywp-bs__list__item__desc">Row</p></div><div class="dragifywp-bs__list__item__clickArea" ng-click="$ctrl.select(row)"></div><box-action current="row"></box-action></div><add-and-remove model="$ctrl.service.mapped" on-add="$ctrl.showRowList()" show="$ctrl.show" on-remove="$ctrl.removeAll()" on-get-button="$ctrl.getButton()"></add-and-remove></div></div>'}),t.component("mapColumn",{controller:["$DragifyWPService",function(e){this.service=e,this.template=["1-1","1-2","1-3","2-3","1-4","3-4","1-5","2-5","3-5","4-5","1-6","5-6"];var t=JSON.stringify(window.dragifywp_widget_manager.get_model_by_tag("column"));this.removeAll=function(){this.service.removeAllChildNodes(e.mapped)},this.addColumn=function(e){var i=JSON.parse(t);i.attrs.width={desktop:this.template[e]},"1-1"!=this.template[e]&&(i.attrs.width.mobile="1-1"),this.service.addNode(this.service.mapped,i),this.show_column=!1},this.removeColumn=function(t,i){e.removeNode(t,i)},this.disableDragging=function(){return this.service.mapped.content.length<2},this.getWidth=function(e){return e.attrs.width.replace("-","/")},this.select=function(t){this.service.mapped=t,e.removeVisualNode(),e.scrollToElement(e.mapped,!0)},this.getButton=function(){return this.show_column?"Collapsed":"Add Column"},this.showColumnList=function(){this.show_column=!0},this.dropCallback=function(t,i,n){return e.moveNode(n,t,i),i}}],template:'<div class="dragifywp-bs__editor__header"><map-back></map-back><div class="dragifywp-bs__wrap"><h3 class="dragifywp-bs__editor__header__name">Row</h3><map-breadcrumbs></map-breadcrumbs></div></div><div class="dragifywp-bs__editor__body dragifywp-bs__editor__body--wrap"><div class="dragifywp-bs__addItem" ng-class="{\'dragifywp-bs__addItem--show\': $ctrl.service.mapped.content.length === 0 || $ctrl.show_column}"><p class="dragifywp-bs__addItem__message">Add a Column.</p><ul class="dragifywp-bs__addItem__list"><li class="dragifywp-bs__addItem__item" ng-repeat="column in ::$ctrl.template" ng-click="$ctrl.addColumn($index)"><span class="dragifywp-bs__visualCol dragifywp-bs__visualCol--{{::column}}"></span><small class="dragifywp-bs__visualCol__name" ng-bind="::(column|slash)"></small></li></ul></div>\x3c!-- Panel Header--\x3e<div class="dragifywp-bs__list"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.service.mapped)"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.service.mapped, index)"dnd-list="$ctrl.service.mapped.content" dnd-allowed-types="[\'column\']"><div class="dragifywp-bs__list__item"dragifywp-visual-hover="column"ng-repeat="column in $ctrl.service.mapped.content"dnd-moved="$ctrl.service.mapped.content.splice($index, 1); $ctrl.service.resetChildLinkFromIndex($ctrl.service.mapped, $index)"dnd-draggable="column"dnd-disable-if="$ctrl.service.mapped.content.length < 2"dnd-type="\'column\'"dnd-effect-allowed="move"><div class="dragifywp-bs__list__item__info"><h3 class="dragifywp-bs__list__item__name" ng-bind="column.attrs.width.desktop|slash"></h3><p class="dragifywp-bs__list__item__desc">Column</p></div><div class="dragifywp-bs__list__item__clickArea" ng-click="$ctrl.select(column)"></div><box-action current="column"></box-action></div></div>\x3c!-- Drag drop box area --\x3e<add-and-remove model="$ctrl.service.mapped" on-add="$ctrl.showColumnList()" on-remove="$ctrl.removeAll()" on-get-button="$ctrl.getButton()"></add-and-remove></div>'}),t.component("mapItem",{controller:["$DragifyWPService",function(e){this.service=e,this.removeAll=function(){this.service.removeAllChildNodes(e.mapped)},this.isEmpty=function(){return 0===this.service.mapped.content.length},this.disableDragging=function(){return this.service.mapped.content.length<2},this.getWidth=function(){return this.service.mapped.attrs.width.desktop.replace("-","/")},this.addItem=function(){e.switchTab("widgets")},this.getButton=function(){return"Add Item"},this.dropCallback=function(t,i,n){return e.moveNode(n,t,i),i},this.select=function(t){t.nested&&(this.service.mapped=t,e.removeVisualNode(),e.scrollToElement(e.mapped,!0))}}],template:'<div class="dragifywp-bs__editor__header"><map-back></map-back><div class="dragifywp-bs__wrap"><h3 class="dragifywp-bs__editor__header__name" ng-bind="\'Column \'+$ctrl.getWidth()"></h3><map-breadcrumbs></map-breadcrumbs></div></div><div class="dragifywp-bs__editor__body dragifywp-bs__editor__body--wrap"><div class="dragifywp-bs__list__empty" ng-click="$ctrl.addItem()" ng-if="$ctrl.isEmpty()"><span class="lmr lmr-plus"></span></div><div class="dragifywp-bs__list"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.service.mapped)"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.service.mapped, index)"dnd-list="$ctrl.service.mapped.content" dnd-allowed-types="[\'item\']"><div class="dragifywp-bs__list__item"ng-click="$ctrl.select(item)"dragifywp-visual-hover="item"ng-repeat="item in $ctrl.service.mapped.content"dnd-moved="$ctrl.service.mapped.content.splice($index, 1); $ctrl.service.resetChildLinkFromIndex($ctrl.service.mapped, $index)"dnd-disable-if="$ctrl.service.mapped.content.length < 2"dnd-draggable="item"dnd-type="\'item\'"dnd-effect-allowed="move"><div class="dragifywp-bs__list__item__info"><h3 class="dragifywp-bs__list__item__name" ng-bind="::item.name"></h3><p class="dragifywp-bs__list__item__desc">Item</p></div><box-action current="item"></box-action></div></div><add-and-remove model="$ctrl.service.mapped" on-add="$ctrl.addItem()" on-remove="$ctrl.removeAll()" on-get-button="$ctrl.getButton()"></add-and-remove></div>'}),t.component("mapNestedItem",{controller:["$DragifyWPService",function(e){this.service=e,this.removeAll=function(){this.service.removeAllChildNodes(e.mapped)},this.isEmpty=function(){return 0===this.service.mapped.content.length},this.disableDragging=function(){return this.service.mapped.content.length<2},this.getWidth=function(){return this.service.mapped.attrs.width.desktop.replace("-","/")},this.addItem=function(){e.switchTab("widgets")},this.getButton=function(){return"Add Item"},this.dropCallback=function(t,i,n){return e.moveNode(n,t,i),i}}],template:'<div class="dragifywp-bs__editor__header"><map-back></map-back><div class="dragifywp-bs__wrap"><h3 class="dragifywp-bs__editor__header__name" ng-bind="::$ctrl.service.mapped.name"></h3><map-breadcrumbs></map-breadcrumbs></div></div><div class="dragifywp-bs__editor__body dragifywp-bs__editor__body--wrap"><div class="dragifywp-bs__list__empty" ng-click="$ctrl.addItem()" ng-if="$ctrl.isEmpty()"><span class="lmr lmr-plus"></span></div><div class="dragifywp-bs__list"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.service.mapped)"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.service.mapped, index)"dnd-list="$ctrl.service.mapped.content" dnd-allowed-types="[\'item\']"><div class="dragifywp-bs__list__item"dragifywp-visual-hover="item"ng-repeat="item in $ctrl.service.mapped.content"dnd-moved="$ctrl.service.mapped.content.splice($index, 1); $ctrl.service.resetChildLinkFromIndex($ctrl.service.mapped, $index)"dnd-disable-if="$ctrl.service.mapped.content.length < 2"dnd-draggable="item"dnd-type="\'item\'"dnd-effect-allowed="move"><div class="dragifywp-bs__list__item__info"><h3 class="dragifywp-bs__list__item__name" ng-bind="::item.name"></h3><p class="dragifywp-bs__list__item__desc">Item</p></div><box-action current="item"></box-action></div></div><add-and-remove model="$ctrl.service.mapped" on-add="$ctrl.addItem()" on-remove="$ctrl.removeAll()" on-get-button="$ctrl.getButton()"></add-and-remove></div>'}),t.component("mapGridItem",{controller:["$DragifyWPService",function(e){this.service=e,this.parent=e.mapped,this.select=function(t){this.service.mapped=t,e.removeVisualNode(),e.scrollToElement(this.parent,!0)},this.scroll=function(){e.scrollToElement(this.parent)},this.add=function(){e.switchTab("widgets")}}],template:'<div class="dragifywp-bs__editor__header"><map-back></map-back><div class="dragifywp-bs__wrap"><h3 class="dragifywp-bs__editor__header__name" ng-bind="::$ctrl.service.mapped.name"></h3><map-breadcrumbs></map-breadcrumbs></div></div><div class="dragifywp-bs__editor__body dragifywp-bs__editor__body--wrap"><div class="dragifywp-bs__list"><div class="dragifywp-bs__list__item"dragifywp-visual-hover="$ctrl.parent"ng-repeat="item in ::$ctrl.service.mapped.content"><div class="dragifywp-bs__list__item__info"><h3 class="dragifywp-bs__list__item__name" ng-bind="::item.name"></h3><p class="dragifywp-bs__list__item__desc">Grid Item</p></div><div class="dragifywp-bs__list__item__clickArea"  ng-click="$ctrl.select(item)"></div><div class="dragifywp-bs__list__item__action dragifywp-bs__list__item__action--oneCol"><button ng-click="$ctrl.add()"><i class="lmr lmr-icons2"></i></button><button ng-click="$ctrl.scroll()"><i class="lmr lmr-arrow-right"></i></button></div></div></div></div>'}),t.component("boxAction",{controller:["$DragifyWPService",function(e){var t=this;this.remove=function(){e.removeNode(this.current)},this.duplicate=function(){e.duplicateNode(this.current,!0)},this.edit=function(){t.scroll(),e.setEdited(this.current,!0)},this.scroll=function(){e.scrollToElement(this.current)}}],template:'<div class="dragifywp-bs__list__item__action"><button ng-click="$ctrl.remove()"><i class="lmr lmr-trash2"></i></button><button ng-click="$ctrl.duplicate()"><i class="lmr lmr-copy"></i></button><button ng-click="$ctrl.edit()"><i class="lmr lmr-pencil3"></i></button><button ng-click="$ctrl.scroll()"><i class="lmr lmr-arrow-right"></i></button></div>',bindings:{current:"<"}}),t.component("addAndRemove",{controller:function(){this.show=!1,this.removeAll=function(){this.onRemove(),this.show=!1}},template:'<div class="dragifywp-bs__list__action"><div ng-show="$ctrl.show"><button class="dragifywp-ui__btn dragifywp-ui__btn--primary dragifywp-ui--marginRight5" ng-click="$ctrl.show=false">No Never</button><button class="dragifywp-ui__btn dragifywp-ui__btn--plain dragifywp-ui__btn--remove-hover" ng-click="$ctrl.removeAll()">Yes</button></div><div ng-show="!$ctrl.show"><button ng-show="!$ctrl.show && $ctrl.model.content.length > 1" class="dragifywp-ui__btn dragifywp-ui__btn--plain dragifywp-ui__btn--remove-hover dragifywp-ui--marginRight5" ng-click="$ctrl.show=true">Remove All</button><button class="dragifywp-ui__btn dragifywp-ui__btn--primary" ng-click="$ctrl.onAdd()" ng-bind="::$ctrl.onGetButton()"></button></div></div>',bindings:{onRemove:"&",onAdd:"&",onGetButton:"&",model:"<"}}),t.component("mapBreadcrumbs",{controller:["$DragifyWPService",function(e){this.service=e,this.links=[{name:"Layout",link:e.link}];for(var t=e.mapped;t.hasOwnProperty("link")&&t.link.length>1;)this.links.splice(1,0,{name:"grid"==t.tag?"Grid":t.name,link:t.link}),t=e.getParentNode(t);var i,n=e.mapped.link.length-4;for(i=0;i<n;i++)this.links.splice(0,1);this.select=function(t){e.mapped=e.getNodeFromLink(t)}}],template:'<ul class="dragifywp-bs__editor__header__breadcrumbs"><li ng-repeat="item in ::$ctrl.links"><a ng-click="$ctrl.select(item.link)" ng-bind="::item.name"></a></li></ul>'}),t.component("mapBack",{controller:["$DragifyWPService",function(e){this.back=function(){e.mapped=e.getParentNode(e.mapped)}}],template:'<button class="dragifywp-bs__editor__header__mapBackBtn" ng-click="$ctrl.back()"><i class="lmr lmr-chevron-left"></i></button>'})}(window.angular)},function(e,exports){"use strict";!function(e){function t(e){for(var t=e.toLowerCase().split("_"),n=0;n<t.length;n++)t[n]=i(t[n]);return t.join("")}function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}var n=e.module("dragifywp.builder.app");n.component("widgetPanel",{controller:["$DragifyWPService",function(e){var t=this;this.service=e,this.widgets=window.dragifywp_widget_manager.get_widget_model_list();var i=["grid","nested"];["1/3 + 1/3 + 1/3","1/2 + 1/2","1/3 + 2/3","2/5 + 3/5","2/3 + 1/3","3/5 + 2/5","1/4 + 1/4 + 1/2","1/4 + 1/2 + 1/4","1/2 + 1/4 + 1/4"].forEach(function(e){var r=JSON.parse(JSON.stringify(window.dragifywp_widget_manager.get_model_by_tag("grid")));r.name=e,r.keywords=i,r.filter="grid",r.nested=!0,r.icon_url=n.__config.img+"/widgets/grid_"+e.replace(/[\/+ ]/g,"")+".png",e.split(" + ").forEach(function(e){var t={tag:"grid_column",native:!0,name:e,core:!0,attrs:{},content:[]};t.attrs.width=e.replace("/","-"),r.content.push(t)}),t.widgets.push(r)}),this.filters={all:"icons",text:"text-size",image:"picture2",media:"film-play",grid:"grid",other:"resize-handle"},this.filter="all",this.dragStartCallback=function(t){e.dragFromSidebar=!0,e.hide="dragifywp-dnd__area--showList--lv4",e.showDrop="dragifywp-dnd__area--showDrop--lv3",t.nested&&(e.blockNestedList=!0)},this.dragCanceledCallback=function(t){e.dragFromSidebar=!1},this.dragEndCallback=function(t){e.showDrop="",e.hide="",e.blockNestedList&&(e.blockNestedList=!1)}}],template:'<dragifywp-widget-handler><div class="dragifywp-bs__editor__header"><div class="dragifywp-bs__widget__wrap"><div class="dragifywp-bs__widget__search"><span class="dragifywp-bs__widget__search__icon"><i class="lmr lmr-magnifier" aria-hidden="true"></i></span><input class="dragifywp-bs__widget__search__input" dragifywp-widget-search-focus type="text" placeholder="Quick search for Widgets" /><button class="dragifywp-bs__widget__search__clearBtn"><i class="lmr lmr-cross2" aria-hidden="true"></i></button></div><div class="dragifywp-bs__widget__filter"><button class="dragifywp-bs__widget__filter__btn" data-filter="{{::name}}"ng-repeat="(name,icon) in ::$ctrl.filters" title="{{::name}}"><i class="lmr lmr-{{::icon}}"></i></button></div></div></div><div class="dragifywp-bs__editor__body dragifywp-bs__editor__body--wrap"><div class="dragifywp-bs__widget__container" data-filter-type="all"><div class="dragifywp-bs__widget__item"data-filter="{{::item.filter}}"data-name="{{::item.keywords.join(\',\')}}"ng-repeat="item in ::$ctrl.widgets"dnd-draggable="item"dnd-dragstart="$ctrl.dragStartCallback(item)"dnd-canceled="$ctrl.dragCanceledCallback()"dnd-dragend="$ctrl.dragEndCallback()"dnd-type="\'dnd-item\'"dnd-effect-allowed="copy"><div class="dragifywp-bs__widget__item__wrap" title="{{::item.name}}"><span class="dragifywp-bs__widget__item__icon" ng-style="::{\'background-image\':\'url(\'+ item.icon_url +\')\'}"></span><h6 class="dragifywp-bs__widget__item__name" ng-bind="::(item.name|shorten:15)"></h6></div></div></div>\x3c!-- end component list --\x3e</div></dragifywp-widget-handler>'}),n.directive("dragifywpWidgetHandler",["$timeout",function(t){return{restrict:"E",link:function(i,n,r){t(function(){var t=n.find(".dragifywp-bs__widget__search__input"),i=t.next(),r=n.find(".dragifywp-bs__widget__container"),o=n.find(".dragifywp-bs__widget__item"),a=void 0;n.find(".dragifywp-bs__widget__filter__btn").each(function(n){var o=e.element(this);0==n&&(a=o,a.addClass("dragifywp-bs__widget__filter__btn--active")),o.on("click",function(){o.hasClass("dragifywp-bs__widget__filter__btn--active")||(a.removeClass("dragifywp-bs__widget__filter__btn--active"),o.addClass("dragifywp-bs__widget__filter__btn--active"),r.attr("data-filter-type",o.attr("data-filter")),a=o,t.attr("value")&&i.trigger("click"))})}),t.on("change paste keydown input",function(){var t=e.element(this).val().trim().toLowerCase();""!=t?(i.css({display:"block","pointer-events":"auto"}),o.each(function(){var i=e.element(this);-1!=i.data("name").toLowerCase().indexOf(t)?i.css({display:"block"}):i.css({display:"none"})})):(i.css({display:"none","pointer-events":"none"}),o.each(function(){e.element(this).css({display:"block"})}))}),i.on("click",function(){i.css({display:"none","pointer-events":"none"}),t.attr("value",""),o.each(function(){e.element(this).css({display:"block"})})})})}}}]);var r=!0,o=!1,a=void 0;try{for(var s,l=window.dragifywp_widget_manager.widgets[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c,d;!function(){var i=s.value,r=t(i.tag);n.component("lbMd"+r,{controller:["$DragifyWPService","$scope",function(e,t){this.service=e,this.edited=e.edited,this.config=window.dragifywp_widget_manager.get_config(i.tag),t.$watch("$ctrl.model",function(){},!0)}],template:window.dragifywp_widget_manager.get_editor_view(i),bindings:{model:"<"}}),i.hasOwnProperty("core")||(n.component("lbVs"+r,{controller:["$DragifyWPService","$scope","$timeout","$rootScope",function(t,i,n,r){var o=this;this.service=t,this.attr=this.model.attrs,this.model.attrs=e.merge({},window.dragifywp_widget_manager.default_values[this.model.tag],this.model.attrs),this.edited=this.model,this.content=this.model.content,this.getID=function(){return t.getID(o.model)};var a={self:null,childs:null},s=void 0,l=void 0,c=void 0;this.model.nested?(s="scopeSiblings",l="nestedStoreScopeWatchers",c="scopeChildren"):(s="scopeIterateSiblings",l="storeScopeWatchers",c="scopeIterateChildren"),this.$postLink=function(){setTimeout(function(){t.storeWatchers(i,a,l,s,c)})};var d=r.$on("in-"+this.getID(),function(){t.returnWatchers(i,a,s,c)}),u=r.$on("out-"+this.getID(),function(){t.storeWatchers(i,a,l,s,c)}),p=void 0;this.model.hasOwnProperty("core")&&this.model.core||this.model.hasOwnProperty("nested")&&this.model.nested||!Array.isArray(this.content)||(p=r.$on("safe-check-"+o.getID(),function(){t.returnWatchers(i,a,s,c),n(function(){t.storeWatchers(i,a,l,s,c)})}));var f=r.$on("blink-watchers-"+o.getID(),function(){null!==a.self&&(i.$$watchers=a.self),n(function(){t.edited!==o.model&&(i.$$watchers=[])})});i.$on("$destroy",function(){d(),u(),f(),void 0!==p&&p()})}],template:i.visual_view,bindings:{model:"<"}}),i.hasOwnProperty("child")&&(c=i.child,d=t(c.tag),n.component("lbCe"+d,{controller:["$DragifyWPService",function(e){var t=this;t.edited=e.child,t.config=window.dragifywp_widget_manager.get_config(i.child.tag)}],template:window.dragifywp_widget_manager.get_editor_view(c),bindings:{model:"<"}})))}()}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}}(window.angular)},function(e,exports){"use strict";!function(e){var t=e.module("dragifywp.builder.app");t.component("templatePanel",{controller:["$DragifyWPService","$http","$timeout","$rootScope","$DragifyWPHotKeys","$element","$DragifyWPPopup",function(i,n,r,o,a,s,l){this.$onInit=function(){var s=this;s.service=i,s.panel="root",s.checkAll=!1;var c=e.element(document.querySelector(".dragifywp-wf__loader"));0==c.length&&(c=e.element('<div class="dragifywp-wf__loader"><div class="dragifywp-wf__loader__icon"></div></div>'),e.element("body").append(c)),e.isArray(this.service.layout_templates)?this.service.layout_templates.length>0?this.state="loaded":this.state="empty":this.state="loading","loading"==this.state&&n({method:"GET",url:t.__config.api+"/templates"}).then(function(e){s.service.layout_templates=e.data,r(function(){s.service.layout_templates.length>0?s.state="loaded":s.state="empty"},500)},function(){s.state="error"}),s.remove=function(){var r=[];s.service.loop_through_layout_template(function(e,t){e.checked&&!e.deleting&&(e.deleting=!0,r.push(e.template_id))}),r.length?n({method:"DELETE",url:t.__config.api+"/templates/"+r.join(",")}).then(function(t){if(t.data){var i=[];s.service.loop_through_layout_template(function(e){-1==r.indexOf(e.template_id)&&i.push(e)}),s.service.layout_templates=e.merge([],i),0==s.service.layout_templates.length&&(s.state="empty",s.cancel())}},function(){l.showFsPopup({title:"Try it Later",message:"Cannot DELETE now."})}):i.showToast({message:"Check at least one template to be removed",time:2300})},s.applyTemplate=function(e){c.addClass("dragifywp-wf__loader--show"),a.pause(),n({method:"GET",url:t.__config.api+"/templates/"+e,cache:!0}).then(function(e){e.data&&(i.applyFromLibrary(e.data),setTimeout(function(){c.removeClass("dragifywp-wf__loader--show"),a.resume()},500))},function(e){c.removeClass("dragifywp-wf__loader--show"),a.resume(),l.showFsPopup({title:"Try it Late",message:"Cannot get Data from Server"})})},this.actions={save:{icon:"floppy-disk",title:"Save"},export:{icon:"download2",title:"Export"},import:{icon:"upload2",title:"Import"},remove:{icon:"trash2",title:"Remove"},library:{icon:"cloud-download",title:"Cloud Library"}},s.open=function(e){switch(e){case"library":o.$emit("openLibrary");break;case"import":s.currentPanel=e,a.escKeyPressManager.add(function(){return"loading"!=s.importState&&(s.currentPanel="root",!0)});break;case"export":s.currentPanel=e,a.escKeyPressManager.add(function(){return"loading"!=s.exportState&&(s.currentPanel="root",s.cancelCheckList(),!0)});break;case"save":s.currentPanel=e,a.escKeyPressManager.add(function(){return"loading"!=s.saveState&&(s.currentPanel="root",!0)});break;case"remove":s.currentPanel=e,a.escKeyPressManager.add(function(){return s.currentPanel="root",s.cancelCheckList(),!0})}},this.cancel=function(){a.escKeyPressManager.execute()},this.switchCheckAll=function(){this.enableCheckAll()?i.loop_through_layout_template(function(e){e.checked=!1}):i.loop_through_layout_template(function(e){e.checked=!0})},this.enableCheckAll=function(){var e=!0,t=!1,i=void 0;try{for(var n,r=s.service.layout_templates[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){if(!n.value.checked)return!1}}catch(e){t=!0,i=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw i}}return!0},this.cancelCheckList=function(){i.loop_through_layout_template(function(e){e.checked=!1})},this.notEmpty=function(){"empty"==s.state&&(s.state="loaded")}}}],template:'<div class="dragifywp-bs__templatePanel" ng-class="\'dragifywp-bs__templatePanel--\'+$ctrl.state"><div class="dragifywp-bs__editor__header" ng-switch="$ctrl.currentPanel"><div class="dragifywp-bs__templatePanel__header" ng-switch-default><div class="dragifywp-bs__templatePanel__search"><span class="dragifywp-bs__templatePanel__search__icon"><i class="lmr lmr-magnifier" aria-hidden="true"></i></span><input class="dragifywp-bs__templatePanel__search__input" type="text" ng-model="$ctrl.search" placeholder="Search for templates" /><button class="dragifywp-bs__templatePanel__search__clearBtn" ng-disabled="!$ctrl.search" ng-click="$ctrl.search=\'\'"><i class="lmr lmr-cross2" aria-hidden="true"></i></button></div><div class="dragifywp-bs__templatePanel__action dragifywp-bs__templatePanel__action--lv2" data-num-button="5"><button ng-repeat="(k,v) in ::$ctrl.actions" ng-click="$ctrl.open(k)" title="{{::v.title}}"><span class="lmr lmr-{{::v.icon}}"></span></button></div></div><import-template ng-switch-when=\'import\' on-cancel="$ctrl.cancel()" on-not-empty="$ctrl.notEmpty()"></import-template><save-template ng-switch-when=\'save\' state="$ctrl.saveState" on-cancel="$ctrl.cancel()" on-not-empty="$ctrl.notEmpty()"></save-template><remove-template ng-switch-when=\'remove\' on-cancel="$ctrl.cancel()" on-remove="$ctrl.remove()" on-check-all="$ctrl.switchCheckAll()" on-enable-check-all="$ctrl.enableCheckAll()"></remove-template><export-template ng-switch-when=\'export\' state="$ctrl.exportState" on-cancel="$ctrl.cancel()" on-check-all="$ctrl.switchCheckAll()" on-enable-check-all="$ctrl.enableCheckAll()"></export-template></div><div class="dragifywp-bs__editor__body dragifywp-bs__editor__body--wrap"><div class="dragifywp-bs__tempList__error"><p>Error! Cannot load data from Server.</p></div><div class="dragifywp-bs__tempList__preloader"><span class="dragifywp-bs__tempList__preloader__icon"></span></div><div class="dragifywp-bs__tempList__empty"><p>No available template.</p></div><div class="dragifywp-bs__tempList" ng-class="{\'dragifywp-bs__tempList--showCheck\':$ctrl.currentPanel == \'export\' || $ctrl.currentPanel == \'remove\'}"><template-item class="dragifywp-bs__tempList__item" on-apply="$ctrl.applyTemplate(id)" ng-repeat="template in $ctrl.service.layout_templates track by template.template_id" model="template"></template-item></div></div></div></div>'}),t.component("importTemplate",{controller:["$DragifyWPService","$timeout","$http","$DragifyWPPopup",function(i,n,r,o){var a=this;this.service=i,this.state="ready",a.importedFile=void 0,this.import=function(){if(void 0!==a.importedFile){var s=new FormData;s.append("templateFile",a.importedFile),this.state="loading",r({method:"POST",url:t.__config.api+"/templates/import",data:s,transformRequest:e.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data?(a.state="success",a.service.layout_templates=e.data.reverse().concat(a.service.layout_templates),n(function(){a.service.layout_templates.length>0&&(a.state="loaded"),a.importedFile=void 0,a.state="ready",a.onNotEmpty()},500)):(a.state="ready",o.showFsPopup({title:"Fail to import",message:"Your file seems to be invalid"}))},function(){a.state="ready",o.showFsPopup({title:"Try it Later",message:"Cannot IMPORT now."})})}else i.showFsPopup({title:"Fail to import",message:"Please choose a file to import"})}}],template:'<div class="dragifywp-bs__templatePanel__header"><div class="dragifywp-bs__edited__preloader" ng-class="\'dragifywp-bs__edited__preloader--\'+$ctrl.state"><span></span><span class="lmr lmr-check"></span></div><div class="dragifywp-bs__templatePanel__name"><input type="file" value="Upload" file-model="$ctrl.importedFile"/></div><div class="dragifywp-bs__templatePanel__action" data-num-button="2"><button ng-click="$ctrl.import()" ng-disabled="!$ctrl.importedFile">Import</button><button class="dragifywp-bs__templatePanel__action__btn" ng-click="$ctrl.onCancel()">Cancel</button></div></div>',bindings:{state:"<",onCancel:"&",onNotEmpty:"&"}}),t.component("saveTemplate",{controller:["$http","$timeout","$DragifyWPService",function(i,n,r){var o=this;this.service=r,this.name="",this.state="ready",o.save=function(){if(o.name&&"ready"==o.state){o.state="loading";var a=r.simplifyModelToSave(o.service.content);i({method:"POST",url:t.__config.api+"/templates",data:{title:o.name,content:a,custom_css:o.service.custom_css,custom_js:o.service.custom_js}}).then(function(t){o.state="success",e.isArray(o.service.layout_templates)&&(o.service.push_layout_template(o.name,t.data),o.onNotEmpty()),n(function(){o.state="ready",o.name=""},1e3)},function(){$DragifyWPPopup.showFsPopup({title:"Try it Later",message:"Cannot SAVE now."})})}},this.exportCurrent=function(){o.name&&"ready"==o.state&&(o.state="loading",i({method:"GET",url:t.__config.api+"/get-identify-code/dragifywp-pb-template"}).then(function(e){var t={};t.identify=e.data;var i={};i.template_name=o.name,i.content=r.getContentForSave(),i.custom_css=r.custom_css,i.custom_js=r.custom_js,t.templates=[i];var a="data:application/json;charset=utf-8,"+JSON.stringify(t),s=encodeURI(a),l=new Date,c="template_"+l.getFullYear()+"_"+(l.getMonth()+1)+"_"+l.getDate()+"_"+l.getHours()+"_"+l.getMinutes()+".json",d=document.createElement("a");o.state="success",n(function(){d.setAttribute("href",s),d.setAttribute("download",c),document.body.appendChild(d),d.click(),d.remove(),o.state="ready"},1e3)},function(e){o.state="ready"}))}}],template:'<div class="dragifywp-bs__templatePanel__header"><div class="dragifywp-bs__edited__preloader" ng-class="\'dragifywp-bs__edited__preloader--\'+$ctrl.state"><span></span><span class="lmr lmr-check"></span></div><div class="dragifywp-bs__templatePanel__input"><input type="text" ng-model="$ctrl.name" ng-trim="true" maxlength="35" dragifywp-auto-focus placeholder="Enter Template Name"/></div><div class="dragifywp-bs__templatePanel__action" data-num-button="3"><button ng-click="$ctrl.exportCurrent()" ng-disabled="!$ctrl.name">Export</button><button ng-click="$ctrl.save()" ng-disabled="!$ctrl.name">Save</button><button ng-click="$ctrl.onCancel()">Cancel</button></div></div>',bindings:{state:"<",onCancel:"&",onNotEmpty:"&"}}),t.component("removeTemplate",{controller:function(){},template:'<div class="dragifywp-bs__templatePanel__header"><div class="dragifywp-bs__templatePanel__name">Remove</div><div class="dragifywp-bs__templatePanel__action" data-num-button="3"><button ng-click="$ctrl.onCheckAll()" ng-class="{\'is-checkAll\':$ctrl.onEnableCheckAll()}"><span>Check All</span><span>Uncheck All</span></button><button ng-click="$ctrl.onRemove()" class="remove-hover">Remove</button><button ng-click="$ctrl.onCancel()">Cancel</button></div></div>',bindings:{onCancel:"&",onRemove:"&",onCheckAll:"&",onEnableCheckAll:"&"}}),t.component("exportTemplate",{controller:["$http","$DragifyWPService","$timeout",function(e,i,n){var r=this;this.service=i,this.state="ready",r.export=function(){var i=[];r.service.loop_through_layout_template(function(e){e.checked&&i.push(e.template_id)}),i.length?(r.state="loading",e({method:"GET",url:t.__config.api+"/templates/export/"+i.join(","),cache:!0}).then(function(e){var t="data:application/json;charset=utf-8,"+JSON.stringify(e.data).replace(/#/g,"_dragifywp_sharp_"),i=encodeURI(t),o=new Date,a=0,s=[];s[a++]="templates_",s[a++]=o.getFullYear(),s[a++]="_",s[a++]=o.getMonth()+1,s[a++]="_",s[a++]=o.getDate(),s[a++]="_",s[a++]=o.getHours(),s[a++]="_",s[a++]=o.getMinutes(),s[a]=".json";var l=document.createElement("a");r.state="success",n(function(){l.setAttribute("href",i),l.setAttribute("download",s.join("")),document.body.appendChild(l),l.click(),l.parentNode.removeChild(l),r.state="ready"},500)},function(){r.state="ready"})):r.service.showToast({message:"Check at least one template to be exported",time:2300})}}],template:'<div class="dragifywp-bs__templatePanel__header"><div class="dragifywp-bs__edited__preloader" ng-class="\'dragifywp-bs__edited__preloader--\'+$ctrl.state"><span></span><span class="lmr lmr-check"></span></div><div class="dragifywp-bs__templatePanel__name">Export Template</div><div class="dragifywp-bs__templatePanel__action" data-num-button="3"><button ng-click="$ctrl.onCheckAll()" ng-class="{\'is-checkAll\':$ctrl.onEnableCheckAll()}"><span>Check All</span><span>Uncheck All</span></button><button ng-click="$ctrl.export()">Export</button><button ng-click="$ctrl.onCancel()">Cancel</button></div></div>',bindings:{state:"<",onCancel:"&",onCheckAll:"&",onEnableCheckAll:"&"}}),t.component("templateItem",{controller:function(){this.apply=function(){this.onApply({id:this.model.template_id})}},template:'<label class="dragifywp-bs__tempList__item__checkbox" ng-class="{\'dragifywp-bs__tempList__item__checkbox--deleting\':$ctrl.model.deleting}"><input type="checkbox" ng-model="$ctrl.model.checked"></label><h6 class="dragifywp-bs__tempList__item__name" ng-click="$ctrl.apply()" ng-bind="::$ctrl.model.template_name"></h6>',bindings:{model:"<",onApply:"&"}})}(window.angular)},function(e,exports){"use strict";!function(e){var t=e.module("dragifywp.builder.app");t.component("editPanel",{controller:["$DragifyWPService","$timeout","$scope","$http","$rootScope",function(t,i,n,r,o){var a=this;this.service=t,this.panel="root",n.$watch("$ctrl.model",function(){a.panel="root",a.currentTemplate=-1,a.origin=void 0,a.service.edited&&(a.templateLoaded=e.isArray(a.service.item_templates[a.service.edited.tag]))}),o.$on("saveAsTemplate",function(e,i){!function e(){i===a.service.edited?(a.openLoadPanel(),"editor"!=t.tab&&t.switchTab("editor")):setTimeout(function(){e()},100)}()}),this.duplicate=function(){t.duplicateNode(this.service.edited)},this.setAction=function(e){"duplicate"==e?t.duplicateNode(this.service.edited):this.panel=e},this.back=function(){this.panel="root"},this.actions=[{name:"template",title:"Templates",icon:"magic-wand"},{name:"save",title:"Save",icon:"floppy-disk"},{name:"duplicate",title:"Duplicate",icon:"copy"},{name:"remove",title:"Remove",icon:"trash2"}]}],template:'<div ng-if="$ctrl.service.edited"><div class="dragifywp-bs__editor__header"><div class="dragifywp-bs__edited" ng-show="$ctrl.panel == \'root\'"><div class="dragifywp-bs__edited__header"><h4 class="dragifywp-bs__edited__header__name" ng-bind="::$ctrl.service.edited.name"></h4></div><div class="dragifywp-bs__edited__action"><button class="dragifywp-bs__edited__action__btn" ng-click="$ctrl.setAction(item.name)" ng-repeat="item in ::$ctrl.actions" title="{{::item.name}}"><span class="lmr lmr-{{::item.icon}}"></span></button></div></div>\x3c!-- Normal Panel --\x3e<edited-remove-panel  ng-show="$ctrl.panel == \'remove\'" on-back="$ctrl.back()"></edited-remove-panel><edited-save-panel  ng-show="$ctrl.panel == \'save\'" on-back="$ctrl.back()"></edited-save-panel></div><div class="dragifywp-bs__editor__body dragifywp-bs__editor__body--wrap dragifywp-bs__editor__body--noPaddingTop dragifywp-bs__edited__body"ng-if="$ctrl.panel != \'template\'"dragifywp-expand-watcher="$ctrl.service.icons_expand"><div class="dragifywp-bs__editor__body__wrap"><edited-view-compiler></edited-view-compiler></div></div><edited-template-panel on-back="$ctrl.back()" ng-if="$ctrl.panel == \'template\'"></edited-template-panel></div><div class="dragifywp-bs__editor__header" ng-show="!$ctrl.service.edited && !$ctrl.service.loadingEdited"><div class="dragifywp-bs__wrap"><h3 class="dragifywp-bs__editor__header__name">No Selected</h3><p class="dragifywp-bs__editor__header__desc">There is no item selected for editing</p></div></div><div class="dragifywp-bs__editor__preloader" ng-class="{\'dragifywp-bs__editor__preloader--show\':$ctrl.service.loadingEdited}"></div>',bindings:{model:"<"}}),t.component("editedRemovePanel",{controller:["$DragifyWPService",function(e){this.remove=function(){e.removeNode(e.edited),this.onBack()}}],template:'<div class="dragifywp-bs__edited"><div class="dragifywp-bs__edited__header"><p class="dragifywp-bs__edited__header__message">Are you sure to remove this?</p></div><div class="dragifywp-bs__edited__action dragifywp-bs__edited__action--lv2"><button class="dragifywp-bs__edited__action__btn" ng-click="$ctrl.remove()">Yes</button><button class="dragifywp-bs__edited__action__btn" ng-click="$ctrl.onBack()">No</button></div></div>',bindings:{onBack:"&"}}),t.component("editedSavePanel",{controller:["$DragifyWPService","$http","$timeout","$DragifyWPPopup",function(t,i,n,r){var o=this;this.service=t,this.state="ready",this.save=function(){o.state="loading";var a=t.simplifyModelToSave(o.service.edited);i.post(dragifywp_pb.api+"/templateItems",{title:o.tempName.trim(),content:a,type:o.service.edited.tag}).then(function(i){o.state="success",e.isArray(o.service.item_templates[o.service.edited.tag])&&t.push_item_template(o.tempName,i.data,o.service.edited),n(function(){o.state="ready",o.tempName=""},1e3)},function(e){r.showFsPopup({title:"Try it Late",message:"Error: Cannot save the template."}),o.state="ready"})}}],template:'<div class="dragifywp-bs__edited"><div class="dragifywp-bs__edited__preloader" ng-class="\'dragifywp-bs__edited__preloader--\'+$ctrl.state"><span></span><span class="lmr lmr-check"></span></div><div class="dragifywp-bs__edited__header"><input class="dragifywp-bs__edited__header__input" ng-model="$ctrl.tempName" type="text" maxlength="30" ng-trim="true" placeholder="Type the template name..."/></div><div class="dragifywp-bs__edited__action dragifywp-bs__edited__action--lv2"><button class="dragifywp-bs__edited__action__btn" ng-click="$ctrl.save()" ng-disabled="!$ctrl.tempName" ng-click="$ctrl.remove()">Save</button><button class="dragifywp-bs__edited__action__btn" ng-click="$ctrl.onBack()">Cancel</button></div></div>',bindings:{onBack:"&"}}),t.component("editedTemplatePanel",{controller:["$DragifyWPService","$timeout","$http","$DragifyWPHotKeys","$element",function(t,i,n,r,o){var a=this;this.service=t,this.currentPanel="root",this.currentTemplate=-1,this.origin=void 0,this.state=e.isArray(this.service.item_templates[this.service.edited.tag])?"loading":"loaded",e.isArray(this.service.item_templates[this.service.edited.tag])?this.service.item_templates[this.service.edited.tag].length>0?this.state="loaded":this.state="empty":this.state="loading","loading"==this.state&&n({method:"GET",url:dragifywp_pb.api+"/templateItems/"+a.service.edited.tag}).then(function(e){a.service.item_templates[a.service.edited.tag]=e.data,i(function(){a.service.item_templates[a.service.edited.tag].length>0?a.state="loaded":a.state="empty"},500)},function(){a.state="error"}),this.actions={export:{title:"Export",icon:"download2"},import:{title:"Import",icon:"upload2"},remove:{title:"Delete",icon:"trash2"}},this.setRemoveTemplate=function(){-1!=this.currentTemplate&&this.backToOrigin(),this.loadPanel="remove"},this.back=function(){this.loadPanel="root"},this.$onDestroy=function(){this.service.lockVisualShow&&(this.service.lockVisualShow=!1)},this.switchCheckAll=function(){var e=t.edited.tag;this.enableCheckAll()?t.loop_through_item_template(e,function(e,t){e.checked=!1}):t.loop_through_item_template(e,function(e,t){e.checked=!0})},this.enableCheckAll=function(){var e=!0,t=!1,i=void 0;try{for(var n,r=a.service.item_templates[a.service.edited.tag][Symbol.iterator]();!(e=(n=r.next()).done);e=!0){if(!n.value.checked)return!1}}catch(e){t=!0,i=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw i}}return!0},this.exportState="ready",this.export=function(){var e=[];t.loop_through_item_template(t.edited.tag,function(t,i){t.checked&&e.push(t.template_id)}),e.length?(this.exportState="loading",n({method:"GET",url:dragifywp_pb.api+"/templateItems/export/"+e.join(",")+"/"+t.edited.tag,cache:!0}).then(function(e){a.exportState="success";var n="data:application/json;charset=utf-8,"+JSON.stringify(e.data).replace(/#/g,"_dragifywp_sharp_"),r=encodeURI(n),o=new Date,s=t.edited.tag+"_templates_"+o.getFullYear()+"_"+(o.getMonth()+1)+"_"+o.getDate()+"_"+o.getHours()+"_"+o.getMinutes()+".json",l=document.createElement("a");l.setAttribute("href",r),l.setAttribute("download",s),i(function(){document.body.appendChild(l),l.click(),l.remove(),a.exportState="ready"},500)},function(){a.exportState="ready"})):t.showToast({message:"Check at least one template to be exported",time:2300})},this.importState="ready",this.import=function(){if(void 0!==this.importedFile){var r=new FormData;r.append("templateFile",this.importedFile),this.importState="loading",n({method:"POST",url:dragifywp_pb.api+"/templateItems/"+t.edited.tag,data:r,transformRequest:e.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data?(a.importState="success",a.service.item_templates[a.service.edited.tag]=e.data.reverse().concat(a.service.item_templates[a.service.edited.tag]),"empty"==a.state&&(a.state="loaded"),i(function(){a.importedFile=null,a.importState="ready",o.find('.dragifywp-bs__templatePanel__name input[type="file"]').val("")},500)):(a.importState="ready",t.showToast({message:"Error! Cannot Import the File",type:"error",time:2300}))},function(){a.importState="ready",t.showToast({message:"Error! Cannot Import the File",type:"error",time:2300})})}else t.showToast({message:"Choose file to import",time:2300})},this.remove=function(){var i=[],r=!1;t.loop_through_item_template(t.edited.tag,function(e,t){e.checked&&!e.deleting&&(e.deleting=!0,i.push(e.template_id),t==a.currentTemplate&&(r=!0))}),i.length?n({method:"DELETE",url:dragifywp_pb.api+"/templateItems/"+i.join(",")}).then(function(n){if(n.data){var o=[];t.loop_through_item_template(t.edited.tag,function(e,t){-1==i.indexOf(e.template_id)&&o.push(e)}),t.item_templates[t.edited.tag]=e.merge([],o),r&&(a.currentTemplate=-1),0==t.item_templates[t.edited.tag].length&&(a.state="empty",a.currentPanel="root")}}):t.showToast({message:"Check at least one template to be removed",time:2300})},this.getTempNameLength=function(){return this.tempName?this.tempName.trim().length:0},this.applyTemplate=function(i,n){if(n!=this.currentTemplate){var r=this.currentTemplate,o=e.merge({},a.service.edited),s=this.service.edited.link.concat([]);t.commandManager.addCommand({execute:function(){-1==a.currentTemplate&&(a.origin=t.clone(a.service.edited));var r=t.getNodeFromLink(s);r.hasOwnProperty("content")&&Array.isArray(r.content)&&(r.content.length=0),r=e.merge(r,i.content),t.resetLink(r),a.currentTemplate=n},undo:function(){var i=t.getNodeFromLink(s);i.hasOwnProperty("content")&&Array.isArray(i.content)&&(i.content.length=0),i=e.merge(i,o),t.resetLink(i),a.currentTemplate=r},parent:function(){return t.getNodeFromLink(s)}})}},this.backToOrigin=function(){if(-1!=this.currentTemplate){var i=this.service.edited.link.concat([]),n=this.currentTemplate,r=e.merge({},a.service.edited),o=e.merge({},a.origin);t.commandManager.addCommand({execute:function(){var n=t.getNodeFromLink(i);n.hasOwnProperty("content")&&Array.isArray(n.content)&&(n.content.length=0),n=e.merge(n,o),t.resetLink(n),a.currentTemplate=-1},undo:function(){var o=t.getNodeFromLink(i);o.hasOwnProperty("content")&&Array.isArray(o.content)&&(o.content.length=0),o=e.merge(o,r),t.resetLink(o),a.currentTemplate=n},parent:function(){return t.getNodeFromLink(i)}})}},this.setChangeName=function(){this.isEmpty()||(t.loop_through_item_template(t.edited.tag,function(e,t){e.visual_name=e.template_name}),this.loadPanel="name")},this.changeName=function(e){e.rename_loading=!0,n({method:"PUT",url:dragifywp_pb.api+"/templateItems",data:{id:e.template_id,name:e.visual_name}}).then(function(t){t.data&&(e.template_name=e.visual_name,i(function(){e.rename_loading=!1},500))},function(i){e.rename_loading=!1,t.showToast({message:"Error! Cannot change the Template Name",type:"error",time:2300})})},this.isEmpty=function(){return!Array.isArray(this.service.item_templates[this.service.edited.tag])||0===this.service.item_templates[this.service.edited.tag].length},this.cancel=function(){this.currentPanel="root",t.loop_through_item_template(t.edited.tag,function(e,t){e.checked=!1})},this.cancelImport=function(){a.currentPanel="root",a.importedFile=null}}],template:'<div class="dragifywp-bs__templatePanel" ng-class="\'dragifywp-bs__templatePanel--\'+$ctrl.state"><div class="dragifywp-bs__editor__header" ng-switch="$ctrl.currentPanel"><div class="dragifywp-bs__templatePanel__header" ng-switch-default><div class="dragifywp-bs__templatePanel__name" ng-bind="::(($ctrl.service.edited.tag == \'section\'?\'Section\':$ctrl.service.edited.name)+\' Templates\')"></div><div class="dragifywp-bs__templatePanel__action dragifywp-bs__templatePanel__action--lv1" data-num-button="4"><button ng-repeat="(k,v) in ::$ctrl.actions" ng-click="$ctrl.currentPanel=k" title="{{::v.title}}"><span class="lmr lmr-{{::v.icon}}"></span></button><button title="Back" ng-click="$ctrl.onBack()"><span class="lmr lmr-cross"></span></button></div>\x3c!-- end template action --\x3e</div><div class="dragifywp-bs__templatePanel__header" ng-switch-when=\'import\'><div class="dragifywp-bs__edited__preloader" ng-class="\'dragifywp-bs__edited__preloader--\'+$ctrl.importState"><span></span><span class="lmr lmr-check"></span></div><div class="dragifywp-bs__templatePanel__name"><input type="file" value="Upload" file-model="$ctrl.importedFile"/></div><div class="dragifywp-bs__templatePanel__action" data-num-button="2"><button ng-click="$ctrl.import()" ng-disabled="!$ctrl.importedFile">Import</button><button class="dragifywp-bs__templatePanel__action__btn" ng-click="$ctrl.cancelImport()">Cancel</button></div></div><div class="dragifywp-bs__templatePanel__header" ng-switch-when=\'remove\'><div class="dragifywp-bs__templatePanel__name">Remove</div><div class="dragifywp-bs__templatePanel__action" data-num-button="3"><button ng-click="$ctrl.switchCheckAll()" ng-class="{\'is-checkAll\':$ctrl.enableCheckAll()}"><span>Check All</span><span>Uncheck All</span></button><button ng-click="$ctrl.remove()" class="remove-hover">Remove</button><button ng-click="$ctrl.currentPanel=\'root\'">Cancel</button></div></div><div class="dragifywp-bs__templatePanel__header" ng-switch-when=\'export\'><div class="dragifywp-bs__edited__preloader" ng-class="\'dragifywp-bs__edited__preloader--\'+$ctrl.exportState"><span></span><span class="lmr lmr-check"></span></div><div class="dragifywp-bs__templatePanel__name">Export</div><div class="dragifywp-bs__templatePanel__action" data-num-button="3"><button ng-click="$ctrl.switchCheckAll()" ng-class="{\'is-checkAll\':$ctrl.enableCheckAll()}"><span>Check All</span><span>Uncheck All</span></button><button ng-click="$ctrl.export()">Export</button><button ng-click="$ctrl.cancel()">Cancel</button></div></div></div><div class="dragifywp-bs__editor__body dragifywp-bs__editor__body--wrap"><div class="dragifywp-bs__tempList__error"><p>Error! Cannot load data from Server.</p></div><div class="dragifywp-bs__tempList__preloader"><span class="dragifywp-bs__tempList__preloader__icon"></span></div><div class="dragifywp-bs__tempList__empty"><p>No available template for this widget.</p></div><ul class="dragifywp-bs__tempList" ng-class="{\'dragifywp-bs__tempList--showCheck\':$ctrl.currentPanel == \'export\' || $ctrl.currentPanel == \'remove\'}"><li class="dragifywp-bs__tempList__item" ng-repeat="template in $ctrl.service.item_templates[$ctrl.service.edited.tag] track by template.template_id" ng-class="{\'dragifywp-bs__tempList__item--active\':$ctrl.currentTemplate == $index }"><label class="dragifywp-bs__tempList__item__checkbox" ng-class="{\'dragifywp-bs__tempList__item__checkbox--deleting\':template.deleting}"><input type="checkbox" ng-model="template.checked"></label><h6 class="dragifywp-bs__tempList__item__name" ng-click="$ctrl.applyTemplate(template, $index)" ng-bind="::template.template_name"></h6><button class="dragifywp-bs__tempList__item__originBtn" ng-click="$ctrl.backToOrigin()"><i class="lmr lmr-undo2" aria-hidden="true"></i></button></li></ul></div></div></div>',bindings:{onBack:"&"}})}(window.angular)},function(e,exports){"use strict";!function(e){e.module("dragifywp.builder.app").component("framePanel",{controller:["$DragifyWPService",function(e){this.service=e,void 0===this.service.block_frame&&(this.service.block_frame={max_width:"100%",body_bg:"#000000",frame_bg:"#ffffff",padding:"40px 40px 40px 40px"})}],template:'<div class="dragifywp-bs__editor__header"><div class="dragifywp-bs__wrap"><h3 class="dragifywp-bs__editor__header__name">Frame Design</h3><p class="dragifywp-bs__editor__header__desc">Configure the Frame wrapping the Block</p></div></div><div class="dragifywp-bs__editor__body dragifywp-bs__editor__body--wrap dragifywp-bs__editor__body--noPaddingTop"dragifywp-expand-watcher="$ctrl.service.icons_expand"><div class="dragifywp-bs__editor__body__wrap"><editor-container label="Settings" collapsed="false"><editor-field type="unit" model="$ctrl.service.block_frame.max_width" label="Width"></editor-field><editor-field type="area" model="$ctrl.service.block_frame.padding" label="Padding" config="{min:0, max:1000, step:1}"></editor-field><editor-field type="colorpicker" model="$ctrl.service.block_frame.body_bg" label="Body" config="{format:\'hex\'}"></editor-field><editor-field type="colorpicker" model="$ctrl.service.block_frame.frame_bg" label="Frame" config="{format:\'hex\'}"></editor-field></editor-container><editor-container label="What is this?" collapsed="false"><editor-field type="desc" fullwidth="true" config="{message:\'The panel provides options to configure the working area that closely matches with where placing the block.<hr/> This settings is not a part of the Block Content, it only provides you an user-friendly layout to design the Block on.\'}"></editor-field></editor-container></div></div>'})}(window.angular)},function(e,exports){"use strict";!function(e){var t=e.module("dragifywp.builder.app");t.component("dragifywpWireframe",{controller:["$DragifyWPService","$scope","$rootScope","$DragifyWPHotKeys",function(t,i,n,r){var o=this;this.service=t,this.model=[],this.loading=!1;var a=void 0,s=e.element('<div class="dragifywp-wf__loader"><div class="dragifywp-wf__loader__icon"></div></div>');e.element("body").append(s),this.loaded=!1,this.addWireframe=function(t){this.model.push(e.merge({},t))},this.open=function(){void 0===a&&(a=e.element(".dragifywp-wf__panel")),a.hasClass("dragifywp-wf__panel--show")||(r.pause(),a.addClass("dragifywp-wf__panel--show"),r.escKeyPressManager.add(function(){return o.loading||(a.removeClass("dragifywp-wf__panel--show"),r.resume()),!o.loading})),this.loaded||(this.loaded=!0)},this.close=function(){r.escKeyPressManager.execute()},this.activateLoading=function(){this.loading=!0,s.addClass("dragifywp-wf__loader--show")},this.deactivateLoading=function(){this.loading=!1,s.removeClass("dragifywp-wf__loader--show")},n.$on("openWireframe",function(){o.open()})}],template:'<div class="dragifywp-wf__panel" ng-class="{\'dragifywp-wf__panel--resize\':$ctrl.model.length > 0}"><wireframe-left model="$ctrl.model" on-close="$ctrl.close()" on-add="$ctrl.addWireframe(wf)" on-load="$ctrl.loaded"></wireframe-left><wireframe-right model="$ctrl.model" on-active-loading="$ctrl.activateLoading()" on-deactive-loading="$ctrl.deactivateLoading()"></wireframe-right></div><div class="dragifywp-wf__backdrop"></div><button class="dragifywp-wf__openBtn" ng-click="$ctrl.open()" ng-class="{\'dragifywp-wf__openBtn--hide\':$ctrl.service.sidebar_collapse || $ctrl.service.editableMode}"><span class="lmr lmr-plus"></span></button>'}),t.component("wireframeLeft",{controller:["$scope","$http","$rootScope","$DragifyWPPopup",function(e,i,n,r){var o=this;this.filters=JSON.parse(t.__config.card_filters),this.wireframes={};for(var a=0,s=this.filters.length;a<s;a++)this.wireframes[this.filters[a]]=[];this.loaded=!1,this.templates=[];var l=0,c=e.$watch("$ctrl.onLoad",function(e,n){e&&(i({method:"GET",url:t.__config.api+"/cards/"}).then(function(e){if(Array.isArray(e.data)){l=e.data.length,o.loaded=!0;var t=!0,i=!1,n=void 0;try{for(var r,a=e.data[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var s=r.value;s.hasOwnProperty("filter")&&o.wireframes.hasOwnProperty(s.filter)&&o.wireframes[s.filter].push(s)}}catch(e){i=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(i)throw n}}}},function(e){o.loaded=!0,r.showFsPopup({title:"Try it Later",message:"Error! cannot load data at the moment."})}),c())});this.add=function(e){this.onAdd({wf:e})}}],template:"<div class='dragifywp-wf__left'><button class='dragifywp-wf__closeBtn' ng-click='$ctrl.onClose()'><i class='lnr lnr-cross'></i></button><div class='dragifywp-wf__filter' dragifywp-wf-filter-handler><a class='dragifywp-wf__filter__btn'>all</a><a class='dragifywp-wf__filter__btn' ng-repeat='filter in ::$ctrl.filters' ng-bind='::filter'></a></div><div class='dragifywp-wf__wireframes'><div class=\"dragifywp-wf__list__preloader\" ng-class=\"{'dragifywp-wf__list__preloader--hide':$ctrl.loaded}\"><span></span></div><div class=\"dragifywp-wf__listContainer\" dragifywp-wf-load-handler ng-if=\"$ctrl.loaded\"><div class='dragifywp-wf__list'><div class=\"dragifywp-wf__list__section\" ng-repeat=\"section in ::$ctrl.filters\" data-filter=\"{{::section}}\"><div class=\"dragifywp-wf__list__item dragifywp-wf__list__item--loading\"ng-repeat=\"wf in ::$ctrl.wireframes[section]\"dnd-draggable=\"wf\"dnd-type=\"'dnd-wireframe'\"dnd-effect-allowed=\"copy\"data-image=\"{{::('"+t.__config.img+'/cards/\'+wf.img+\'.png\')}}"ng-click="$ctrl.add(wf)"style="padding-bottom: {{::wf.padding}}%"></div></div></div></div></div></div>',bindings:{model:"<",onLoad:"<",onAdd:"&",onClose:"&"}}),t.directive("dragifywpWfFilterHandler",["$timeout",function(t){return{restrict:"A",link:function(i,n,r){t(function(){var t=void 0,i=n[0].nextSibling;n.find(".dragifywp-wf__filter__btn").each(function(n){var r=e.element(this);0==n&&(r.addClass("dragifywp-wf__filter__btn--active"),t=r),r.on("click",function(){r!==t&&(t.removeClass("dragifywp-wf__filter__btn--active"),r.addClass("dragifywp-wf__filter__btn--active"),i.setAttribute("data-filter-type",r.text()),t=r)})})})}}}]),t.directive("dragifywpWfLoadHandler",["$timeout",function(t){return{restrict:"A",link:function(i,n,r){function o(e){if(null===e.offsetParent)return!1;var t=a.clientHeight+a.getBoundingClientRect().top,i=e.getBoundingClientRect();return!(i.bottom<0||i.top-t>=0)}var a=n[0];t(function(){var t=a.parentNode.previousSibling.querySelectorAll(".dragifywp-wf__filter__btn"),i=a.querySelectorAll(".dragifywp-wf__list__item"),n=[].slice.call(i),r=function i(){var r=n.length;for(0==r&&(a.removeEventListener("scroll",i),t.forEach(function(e){e.removeEventListener("click",i)}));r--;){var s=n[r];if(o(s)){var l;!function(){var t=document.createElement("img"),i=s.getAttribute("data-image");t.src=i,t.style.display="none",l=document.createElement("div"),l.className="dragifywp-wf__list__item__image",s.appendChild(t),s.appendChild(l),e.element(t).on("load",function(){t.nextSibling.style.backgroundImage="url("+i+")",setTimeout(function(){t.parentNode.classList.remove("dragifywp-wf__list__item--loading"),t.parentNode.removeChild(t)},0)}).on("error",function(){t.parentNode.classList.remove("dragifywp-wf__list__item--loading"),t.parentNode.classList.add("dragifywp-wf__list__item--error"),t.parentNode.removeChild(t)}),n.splice(r,1)}()}}};r(),a.addEventListener("scroll",r),t.forEach(function(e){e.addEventListener("click",r)})})}}}]),t.component("wireframeRight",{controller:["$scope","$DragifyWPService","$http","$timeout","$DragifyWPHotKeys","$DragifyWPPopup",function(i,n,r,o,a,s){var l=this;this.service=n;var c=void 0;if("undefined"!=typeof Storage)if(sessionStorage.getItem("dragifywp-pb-cards"))try{c=JSON.parse(sessionStorage.getItem("dragifywp-pb-cards"))}catch(e){c={}}else c={};else c={};this.insert=function(){l.onActiveLoading(),setTimeout(function(){var e=[],i=!0,n=!1,o=void 0;try{for(var a,u=l.model[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var p=a.value;c.hasOwnProperty(p.id)||-1!=e.indexOf(p.id)||e.push(p.id)}}catch(e){n=!0,o=e}finally{try{!i&&u.return&&u.return()}finally{if(n)throw o}}e.length>0?r({method:"GET",url:t.__config.api+"/cards/"+e.join(",")}).then(function(e){var t=!0,i=!1,n=void 0;try{for(var r,o=e.data[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;a.hasOwnProperty("id")&&a.hasOwnProperty("model")&&(c[a.id]=a.model)}}catch(e){i=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw n}}d(),"undefined"!=typeof Storage&&sessionStorage.setItem("dragifywp-pb-cards",JSON.stringify(c))},function(e){l.onDeactiveLoading(),s.showFsPopup({title:"Try it Late",message:"Error: Cannot get Data from Server."})}):d()})};var d=function(){var t=l.service.getIframeDoc(),i=t.querySelector("#dragifywp-pb-dnd-area");t.body.scrollTop=i.getBoundingClientRect().bottom;var r=[],o=!0,s=!1,d=void 0;try{for(var u,p=l.model[Symbol.iterator]();!(o=(u=p.next()).done);o=!0){var f=u.value;r.push(e.merge({},c[f.id]))}}catch(e){s=!0,d=e}finally{try{!o&&p.return&&p.return()}finally{if(s)throw d}}l.onDeactiveLoading(),n.addNodes(n,r),a.escKeyPressManager.execute(function(){l.model.length=0})}}],template:'<div class="dragifywp-wf__trash" dnd-list="[]" ng-class="{\'dragifywp-wf__trash--show\':$ctrl.showTrash}"><span><i class="lmr lmr-trash3"></i></span></div><div class=\'dragifywp-wf__right\'><div class=\'dragifywp-wf__modelList\'><div dnd-list="$ctrl.model"dnd-allowed-types="[\'dnd-wireframe\']"><div ng-repeat="wf in $ctrl.model"class="dragifywp-wf__modelList__item"dnd-moved="$ctrl.model.splice($index,1)"dnd-dragstart="$ctrl.showTrash=true"dnd-dragend="$ctrl.showTrash=false"dnd-draggable="wf"dnd-type="\'dnd-wireframe\'"><img ng-src="{{::(\''+t.__config.img+'/cards/\'+wf.img+\'.png\')}}"/></div></div></div><button class="dragifywp-wf__clearAllBtn" ng-click="$ctrl.model.length=0" ng-show="$ctrl.model.length > 1"><i class="lmr lmr-trash2"></i> Clear All</button><button class=\'dragifywp-wf__insertBtn\' ng-click="$ctrl.insert()" ng-disabled=\'$ctrl.model.length == 0\'>Insert Cards</button></div>',bindings:{model:"<",onActiveLoading:"&",onDeactiveLoading:"&"}})}(window.angular)},function(e,exports){"use strict";!function(e){e.module("dragifywp.builder.app").component("dragifywpLibrary",{controller:["$DragifyWPService","$DragifyWPHotKeys","$rootScope",function(t,i,n){var r=this;this.service=t,this.current="mine",this.model=[],this.loading=!1;var o=void 0,a=e.element('<div class="dragifywp-wf__loader"><div class="dragifywp-wf__loader__icon"></div></div>');e.element("body").append(a),this.open=function(){void 0===o&&(o=e.element(".dragifywp-lb__panel")),o.hasClass("dragifywp-lb__panel--show")||(o.addClass("dragifywp-lb__panel--show"),i.active=!1,i.escKeyPressManager.add(function(){return r.loading||(o.removeClass("dragifywp-lb__panel--show"),i.active=!0),!r.loading}))},this.close=function(){i.escKeyPressManager.execute()},this.activateLoading=function(){this.loading=!0,a.addClass("dragifywp-wf__loader--show")},this.deactivateLoading=function(){this.loading=!1,a.removeClass("dragifywp-wf__loader--show")},n.$on("openLibrary",function(){r.open()})}],template:'<div class="dragifywp-lb__panel"><h6 class="dragifywp-lb__title">Cloud Library</h6><button class="dragifywp-lb__closeBtn" ng-click="$ctrl.close()"><span class="lmr lmr-cross"></span></button><div class="dragifywp-lb__cloudLibrary__comingSoon">We will launch this service very soon :)</div></div><div class="dragifywp-lb__backdrop"></div>'})}(window.angular)},function(e,exports,t){"use strict";t(346),t(355),t(356),t(357),t(358),t(359),t(360),t(361),t(362),t(363),t(364),t(365),t(366),t(367),t(368),t(369),t(370),t(371),t(372),t(373),t(374),t(375),t(376),t(377),t(378),t(379),t(380),t(381),t(382),t(383),t(384),t(385),t(386),t(387),t(388),t(389),t(390),t(391),t(392),t(393),t(394),t(395),t(396),t(397),t(398),t(399),t(400),t(401),t(402),t(403),t(404),t(405),t(406),t(407),t(408),t(409),t(410),t(411),t(412),t(413),t(414),t(415),t(416),t(417),t(418),t(419),t(420),t(421),t(422),t(423),t(424),t(425),t(426),t(427),t(428),t(429),t(430),t(431),t(432),t(433),t(434),t(435),t(436),t(437),t(438)},function(e,exports,t){"use strict";t(347),t(348),t(349),t(350),t(351),t(352),t(353),t(354)},function(e,exports){"use strict";window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,i=(this.document||this.ownerDocument).querySelectorAll(e),n=this;do{for(t=i.length;t>=0&&i.item(t)!==n;);}while(t<0&&(n=n.parentElement));return n}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var i=0;i<this.length;i++)e.call(t,this[i],i,this)})},function(e,exports){"use strict";angular.module("dndLists",[]).directive("dndDraggable",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(e,t,i,n){return function(r,o,a){o.attr("draggable","true"),a.dndDisableIf&&r.$watch(a.dndDisableIf,function(e){o.attr("draggable",!e)}),o.on("dragstart",function(s){if(s=s.originalEvent||s,"false"==o.attr("draggable"))return!0;s.dataTransfer.setData("Text",angular.toJson(r.$eval(a.dndDraggable))),s.dataTransfer.effectAllowed=a.dndEffectAllowed||"move",o.addClass("dndDragging"),t(function(){o.addClass("dndDraggingSource")},0),i.dropEffect="none",n.isDragging=!0,n.dragType=a.dndType?r.$eval(a.dndType):void 0,s._dndHandle&&s.dataTransfer.setDragImage&&s.dataTransfer.setDragImage(o[0],0,0),e(a.dndDragstart)(r,{event:s}),s.stopPropagation()}),o.on("dragend",function(s){s=s.originalEvent||s;var l=i.dropEffect;r.$apply(function(){switch(l){case"move":e(a.dndMoved)(r,{event:s});break;case"copy":e(a.dndCopied)(r,{event:s});break;case"none":e(a.dndCanceled)(r,{event:s})}e(a.dndDragend)(r,{event:s,dropEffect:l})}),o.removeClass("dndDragging"),t(function(){o.removeClass("dndDraggingSource")},0),n.isDragging=!1,s.stopPropagation()}),o.on("click",function(t){a.dndSelected&&(t=t.originalEvent||t,r.$apply(function(){e(a.dndSelected)(r,{event:t})}),t.stopPropagation())}),o.on("selectstart",function(){this.dragDrop&&this.dragDrop()})}}]).directive("dndList",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(e,t,i,n){return function(t,r,o){function a(e,t,i){var n=m?e.offsetX||e.layerX:e.offsetY||e.layerY,r=m?t.offsetWidth:t.offsetHeight,o=m?t.offsetLeft:t.offsetTop;return o=i?o:0,n<o+r/2}function s(){return Array.prototype.indexOf.call(g.children,f)}function l(e){if(!n.isDragging&&!_)return!1;if(!u(e.dataTransfer.types))return!1;if(o.dndAllowedTypes&&n.isDragging){var i=t.$eval(o.dndAllowedTypes);if(angular.isArray(i)&&-1===i.indexOf(n.dragType))return!1}return!o.dndDisableIf||!t.$eval(o.dndDisableIf)}function c(){return p.remove(),r.removeClass("dndDragover"),!0}function d(i,r,o,a){return e(i)(t,{event:r,index:o,item:a||void 0,external:!n.isDragging,type:n.isDragging?n.dragType:void 0})}function u(e){if(!e)return!0;for(var t=0;t<e.length;t++)if("Text"===e[t]||"text/plain"===e[t])return!0;return!1}var p=function(){var e;return angular.forEach(r.children(),function(t){var i=angular.element(t);i.hasClass("dndPlaceholder")&&(e=i)}),e||angular.element("<div class='dndPlaceholder' id='dndPlaceholder'></div>")}(),f=p[0],g=r[0];p.remove();var m=o.dndHorizontalList&&t.$eval(o.dndHorizontalList),_=!1;r.on("dragenter",function(e){if(e=e.originalEvent||e,!l(e))return!0;e.preventDefault()}),r.on("dragover",function(e){if(e=e.originalEvent||e,!l(e))return!0;if(f.parentNode!=g&&r.append(p),e.target!==g){for(var t=e.target;t.parentNode!==g&&t.parentNode;)t=t.parentNode;t.parentNode===g&&t!==f&&(a(e,t)?(angular.element(f).addClass("dirty-checking"),g.insertBefore(f,t)):g.insertBefore(f,t.nextSibling))}else if(a(e,f,!0))for(;f.previousElementSibling&&(a(e,f.previousElementSibling,!0)||0===f.previousElementSibling.offsetHeight);)g.insertBefore(f,f.previousElementSibling);else for(;f.nextElementSibling&&!a(e,f.nextElementSibling,!0);)g.insertBefore(f,f.nextElementSibling.nextElementSibling);return o.dndDragover&&!d(o.dndDragover,e,s())?c():(r.addClass("dndDragover"),e.preventDefault(),e.stopPropagation(),!1)}),r.on("drop",function(e){if(e=e.originalEvent||e,!l(e))return!0;e.preventDefault();var n,r=e.dataTransfer.getData("Text")||e.dataTransfer.getData("text/plain");try{n=JSON.parse(r)}catch(e){return c()}var a=s();return o.dndDrop&&!(n=d(o.dndDrop,e,a,n))?c():(!0!==n&&t.$apply(function(){t.$eval(o.dndList).splice(a,0,n)}),d(o.dndInserted,e,a,n),"none"===e.dataTransfer.dropEffect?"copy"===e.dataTransfer.effectAllowed||"move"===e.dataTransfer.effectAllowed?i.dropEffect=e.dataTransfer.effectAllowed:i.dropEffect=e.ctrlKey?"copy":"move":i.dropEffect=e.dataTransfer.dropEffect,c(),e.stopPropagation(),!1)}),r.on("dragleave",function(e){e=e.originalEvent||e,r.removeClass("dndDragover"),setTimeout(function(){r.hasClass("dndDragover")||p.remove()},100)})}}]).directive("dndNodrag",function(){return function(e,t,i){t.attr("draggable","true"),t.on("dragstart",function(e){e=e.originalEvent||e,e._dndHandle||(e.dataTransfer.types&&e.dataTransfer.types.length||e.preventDefault(),e.stopPropagation())}),t.on("dragend",function(e){e=e.originalEvent||e,e._dndHandle||e.stopPropagation()})}}).directive("dndHandle",function(){return function(e,t,i){t.attr("draggable","true"),t.on("dragstart dragend",function(e){e=e.originalEvent||e,e._dndHandle=!0})}}).factory("dndDragTypeWorkaround",function(){return{}}).factory("dndDropEffectWorkaround",function(){return{}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("colorpicker.module",[]).factory("Helper",function(){return{closestSlider:function(e){return(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector).bind(e)("I")?e.parentNode:e},getOffset:function(e,t){for(var i=0,n=0,r=e.getBoundingClientRect();e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t||"BODY"!==e.tagName?(i+=e.scrollLeft,n+=e.scrollTop):(i+=document.documentElement.scrollLeft||e.scrollLeft,n+=document.documentElement.scrollTop||e.scrollTop),e=e.offsetParent;return{top:r.top+window.pageYOffset,left:r.left+window.pageXOffset,scrollX:i,scrollY:n}},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}]}}).factory("Color",["Helper",function(e){return{value:{h:1,s:1,b:1,a:1},rgb:function(){var e=this.toRGB();return"rgb("+e.r+","+e.g+","+e.b+")"},rgba:function(){var e=this.toRGB();return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"},hex:function(){return this.toHex()},RGBtoHSB:function(e,t,i,n){e/=255,t/=255,i/=255;var r,o,a,s;return a=Math.max(e,t,i),s=a-Math.min(e,t,i),r=0===s?null:a===e?(t-i)/s:a===t?(i-e)/s+2:(e-t)/s+4,r=(r+360)%6*60/360,o=0===s?0:s/a,{h:r||1,s:o,b:a,a:n||1}},setColor:function(t){t=t?t.toLowerCase():t;for(var i in e.stringParsers)if(e.stringParsers.hasOwnProperty(i)){var n=e.stringParsers[i],r=n.re.exec(t),o=r&&n.parse(r);if(o)return this.value=this.RGBtoHSB.apply(null,o),!1}},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setLightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=parseInt(100*(1-e),10)/100},toRGB:function(e,t,i,n){e||(e=this.value.h,t=this.value.s,i=this.value.b),e*=360;var r,o,a,s,l;return e=e%360/60,l=i*t,s=l*(1-Math.abs(e%2-1)),r=o=a=i-l,e=~~e,r+=[l,s,0,0,s,l][e],o+=[s,l,l,s,0,0][e],a+=[0,0,s,l,l,s][e],{r:Math.round(255*r),g:Math.round(255*o),b:Math.round(255*a),a:n||this.value.a}},toHex:function(e,t,i,n){var r=this.toRGB(e,t,i,n);return"#"+(1<<24|parseInt(r.r,10)<<16|parseInt(r.g,10)<<8|parseInt(r.b,10)).toString(16).substr(1)}}}]).factory("Slider",["Helper",function(e){var t={maxLeft:0,maxTop:0,callLeft:null,callTop:null,knob:{top:0,left:0}},i={};return{getSlider:function(){return t},getLeftPosition:function(e){return Math.max(0,Math.min(t.maxLeft,t.left+((e.pageX||i.left)-i.left)))},getTopPosition:function(e){return Math.max(0,Math.min(t.maxTop,t.top+((e.pageY||i.top)-i.top)))},setSlider:function(n,r){var o=e.closestSlider(n.target),a=e.getOffset(o,r),s=o.getBoundingClientRect(),l=n.clientX-s.left,c=n.clientY-s.top;t.knob=o.children[0].style,t.left=n.pageX-a.left-window.pageXOffset+a.scrollX,t.top=n.pageY-a.top-window.pageYOffset+a.scrollY,i={left:n.pageX-(l-t.left),top:n.pageY-(c-t.top)}},setSaturation:function(e,i,n,r){t={maxLeft:n,maxTop:r,callLeft:"setSaturation",callTop:"setLightness"},this.setSlider(e,i)},setHue:function(e,i,n,r){t={maxLeft:n,maxTop:r,callLeft:!1,callTop:"setHue"},this.setSlider(e,i)},setAlpha:function(e,i,n,r){t={maxLeft:n,maxTop:r,callLeft:!1,callTop:"setAlpha"},this.setSlider(e,i)},setKnob:function(e,i){t.knob.top=e+"px",t.knob.left=i+"px"}}}]).factory("colorRecentPicked",["colorPreset",function(e){function t(t){var d=angular.element(l.rpInfo().parentNode),u=e.presetInfo().parentNode;c=t.target,c.classList.contains("dragged")||c.classList.add("dragged"),t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("element",c),d[0].addEventListener("dragover",i,!1),d[0].addEventListener("dragend",r,!1),d[0].addEventListener("dragleave",n,!1),u&&(u.draggable=!0,u.addEventListener("dragover",o,!1),u.addEventListener("dragleave",a,!1),u.addEventListener("drop",s,!1))}function i(e){var t=e.target,i=angular.element(l.rpInfo().parentNode);e.preventDefault(),e.dataTransfer.dropEffect="move",t&&t!==c&&t.classList.contains("color-rp__item")&&(d=!1,setTimeout(function(){if(!d){t.nextSibling?i[0].insertBefore(c,t.nextSibling!==c&&t.nextSibling||t):i[0].appendChild(c),d=!0;var e=l.rpInfo().collection,n=i.children();for(var r in e)delete e[r];for(var o=0,a=n.length;o<a;o++){e[n[o].getAttribute("data-color")]=!0}}},20))}function n(e){var t=e.target;t&&t!==c&&t.classList.contains("color-rp__item")&&(d=!0)}function r(t){var d=(t.target,angular.element(l.rpInfo().parentNode)),u=e.presetInfo().parentNode;t.preventDefault(),c.classList.contains("dragged")&&c.classList.remove("dragged"),d[0].removeEventListener("dragover",i,!1),d[0].removeEventListener("dragend",r,!1),d[0].removeEventListener("dragleave",n,!1),u&&(u.removeEventListener("dragover",o,!1),u.removeEventListener("dragleave",a,!1),u.removeEventListener("drop",s,!1),u.draggable=!1)}function o(t){t.preventDefault();var i=e.presetInfo().parentNode,n=e.presetInfo().collection,r=e.isFull(n),o=c.getAttribute("data-color");r||n.hasOwnProperty(o)?i.classList.contains("not-allowed")||i.classList.add("not-allowed"):i.classList.contains("dragged")||i.classList.add("dragged")}function a(t){t.preventDefault();var i=e.presetInfo().parentNode;i.classList.contains("dragged")&&i.classList.remove("dragged"),i.classList.contains("not-allowed")&&i.classList.remove("not-allowed")}function s(t){var i=t.target,n=e.presetInfo().parentNode;if(i.classList.contains("color-preset")||i.classList.contains("color-collection__list")){var r=c.getAttribute("data-color");e.addColor(angular.element(n),e.presetInfo().collection,r,u,p),n.classList.contains("dragged")&&n.classList.remove("dragged"),n.classList.contains("not-allowed")&&n.classList.remove("not-allowed")}}var l={},c=void 0,d=!1,u=void 0,p=void 0,f=void 0,g=void 0,m=void 0;return l.addColor=function(e,t,i){if(l.isFull(t)){var n=Object.keys(t)[0];if(n===i||!t.hasOwnProperty(i)){for(var r=angular.element(e).children(),o=[],a=void 0,s=0,c=r.length;s<c;s++)r[s].classList.contains("color-rp__item")&&o.push(r[s]);for(var d=0,u=o.length;d<u;d++)if(o[d].getAttribute("data-color")===n){a=o[d];break}a.parentNode.removeChild(a),delete t[n],t[i]=!0,l.addElements(e,t,i)}}else i&&!t.hasOwnProperty(i)&&(t[i]=!0,l.addElements(e,t,i))},l.isFull=function(e){var t=0,i=Object.keys(e);return i&&(t=i.length),t>=14},l.addElements=function(e,t,i){var n=angular.element("<span class='color-rp color-rp__item'></span>");n.css("backgroundColor",i),n.attr("data-color",i),l.initEvent(n),e.append(n),l.sortable(e,n)},l.initEvent=function(e){e.on("click",function(){var t=e.parent().children(),i=e.attr("data-color");p&&u.$apply(p.$setViewValue(i)),m();for(var n=0,r=t.length;n<r;n++)t[n].classList.contains("active")&&t[n].classList.remove("active");e.addClass("active");for(var o=e.parent().parent().parent().find("color-preset")[0].querySelectorAll(".color-collection__item"),a=0,s=o.length;a<s;a++)o[a].classList.contains("active")&&o[a].classList.remove("active")})},l.showColorRecentPicked=function(e,t,i,n,r){u=i,p=n,m=r,l.setRPInfo(e,t),e.empty();for(var o in t)l.addElements(e,t,o)},l.sortable=function(e,i){i.hasClass("color-rp__item")&&(i[0].draggable=!0,i[0].addEventListener("dragstart",t,!1))},l.setRPInfo=function(e,t){f=e[0],g=t},l.rpInfo=function(){return{parentNode:f,collection:g,listClass:"color-rp__list",itemClass:"color-rp__item"}},l}]).factory("colorPreset",[function(){function e(e){var a=angular.element(r.presetInfo().parentNode);o=e.target,o.classList.contains("dragged")||o.classList.add("dragged"),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("element",o),a[0].addEventListener("dragover",t,!1),a[0].addEventListener("dragend",n,!1),a[0].addEventListener("dragleave",i,!1)}function t(e){var t=e.target,i=angular.element(r.presetInfo().parentNode);e.preventDefault(),e.dataTransfer.dropEffect="move",t&&t!==o&&t.classList.contains("color-collection__item")&&(a=!1,setTimeout(function(){if(!a){i[0].insertBefore(o,t.nextSibling!==o&&t.nextSibling||t),a=!0;var e=r.presetInfo().collection,n=i.children();for(var s in e)delete e[s];for(var l=0,c=n.length;l<c;l++)if(n[l].classList.contains("color-collection__item")){var d=n[l].getAttribute("data-color");e[d]=!0}}},20))}function i(e){var t=e.target;t&&t!==o&&t.classList.contains("color-collection__item")&&(a=!0)}function n(e){e.preventDefault();var a=angular.element(r.presetInfo().parentNode);o.classList.contains("dragged")&&o.classList.remove("dragged"),a[0].removeEventListener("dragover",t,!1),a[0].removeEventListener("dragend",n,!1),a[0].removeEventListener("dragleave",i,!1)}var r={},o=void 0,a=!1,s=void 0,l=void 0,c=void 0;return r.addColor=function(e,t,i,n,o){if(!t.hasOwnProperty(i)&&i&&(r.isFull(t)||(t[i]=!0,r.addElements(e,t,i,n,o)),r.isFull(t))){e.children().eq(-1).attr("disabled","disabled")}},r.isFull=function(e){var t=0,i=Object.keys(e);return i&&(t=i.length),t>=7},r.showColorPreset=function(e,t,i,n,o){r.setPresetInfo(e,t),c=o;for(var a=angular.element(e).children(),s=0,l=a.length;s<l;s++)a[s].classList.contains("color-collection__item")&&a[s].remove();for(var d in t)r.addElements(e,t,d,i,n);var u=angular.element(e).children().eq(-1);r.isFull(t)?u.attr("disabled","disabled"):u.removeAttr("disabled")},r.initEvent=function(e,t,i,n,r,o){t.on("contextmenu",function(e){e.target===t[0]&&(e.preventDefault(),i.addClass("active"),n.addClass("active"))}),t.on("click",function(e){if(e.target===t[0]){for(var i=t.parent().parent().parent().find("color-recent-picked")[0].querySelectorAll(".color-rp__item"),n=0,a=i.length;n<a;n++)if(i[n].classList.contains("active")){i[n].classList.remove("active");break}if(e.ctrlKey||e.metaKey)t.hasClass("active")?t.removeClass("active"):t.addClass("active");else{for(var s=t.parent().children(),l=0,d=s.length;l<d;l++)s[l].classList.contains("active")&&s[l].classList.remove("active");t.addClass("active");var u=t.attr("data-color");o&&r.$apply(o.$setViewValue(u)),c()}}}),i.on("click",function(t){var i=angular.element(t.target).parent(),n=i.parent(),r=n.children().eq(-1);if(i.hasClass("active"))for(var o=n.children(),a=0,s=o.length;a<s;a++)o[a].classList.contains("active")&&(delete e[angular.element(o[a]).attr("data-color")],angular.element(o[a]).remove());else delete e[i.attr("data-color")],i.remove();r.attr("disabled")&&r.removeAttr("disabled")}),n.on("click",function(e){e.target!==i[0]&&(i.removeClass("active"),n.removeClass("active"))})},r.addElements=function(e,t,i,n,o){var a=angular.element("<div class='color-preset color-collection__item'></div>"),s=angular.element("<span class='color-preset__removeBtn'>Remove</span>"),l=angular.element("<div class='color-preset__backdrop'></div>"),c=e.children().eq(-1);a.css("backgroundColor",i),a.attr("data-color",i),r.initEvent(t,a,s,l,n,o),a.append(s).append(l),c.parent()[0].insertBefore(a[0],c[0]),r.sortable(e,a)},r.sortable=function(t,i){i.hasClass("color-collection__item")&&(i[0].draggable=!0,i[0].addEventListener("dragstart",e,!1))},r.setPresetInfo=function(e,t){s=e[0],l=t},r.presetInfo=function(){return{parentNode:s,collection:l,listClass:"color-collection__list",itemClass:"color-collection__item"}},r}]).directive("colorpicker",["$document","$compile","$DragifyWPHotKeys","colorRecentPicked","colorPreset","Color","Slider","Helper",function(e,i,n,r,o,a,s,l){return{require:"?ngModel",restrict:"A",link:function(c,d,u,p){function f(){e.on("mousemove",_),e.on("mouseup",v)}function g(){var e=!1;[{parent:ie,childClass:".color-collection__item"},{parent:Z,childClass:".color-rp__item"}].forEach(function(t){if(t.parent&&!e)for(var i=t.parent[0].querySelectorAll(t.childClass),n=0,r=i.length;n<r;n++)i[n].classList.contains("active")&&(i[n].classList.remove("active"),e=!0)})}function m(){try{H.css("backgroundColor",G[T]())}catch(e){H.css("backgroundColor",G.toHex())}V.css("backgroundColor",G.toHex(G.value.h,1,1,1)),"rgba"===T&&(S.css.backgroundColor=G.toHex())}function _(e){var t=(!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s.getLeftPosition(e)),i=s.getTopPosition(e),n=s.getSlider();T=1===G.value.a?"hex":"rgba",!C&&i>=F.top-F.offset&&(i=F.top-F.offset),s.setKnob(i,t),n.callLeft&&(C?G[n.callLeft].call(G,t/A.width):G[n.callLeft].call(G,t/F.left)),n.callTop&&(C?G[n.callTop].call(G,i/A.height):G[n.callTop].call(G,i/(F.top-F.offset))),m();var r=G[T]();return d.val(r),p&&c.$apply(p.$setViewValue(r)),O&&ae.val(r),E=!1,!1}function v(){k("colorpicker-selected"),e.off("mousemove",_),e.off("mouseup",v)}function h(e){G.value=z,d.val(p.$viewValue),G.setColor(d.val()),O&&!e&&ae.val(d.val()),Y.eq(0).css({left:G.value.s*A.width+"px",top:A.height-G.value.b*A.height+"px"}),Y.eq(1).css("top",(F.top-F.offset)*(1-G.value.h)+"px"),Y.eq(1).css("left",F.left+"px"),Y.eq(2).css("top",(F.top-F.offset)*(1-G.value.a)+"px"),Y.eq(2).css("left",F.left+"px"),z=G.value,m()}function y(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=l.getOffset(d[0]);angular.isDefined(u.colorpickerParent)&&(i.left=0,i.top=0);var n=document.getElementsByClassName("colorpicker-visible")[0],r=angular.element(n).children()[0],o=r.offsetHeight,a=window.innerHeight-(d[0].offsetHeight+i.top+W.top),s=i.top-W.top;return t||(a>=o||s<o?(N="bottom",r.classList.contains("dropdown-menu-top")&&r.classList.remove("dropdown-menu-top"),r.classList.contains("dropdown-menu-bottom")||r.classList.add("dropdown-menu-bottom")):(N="top",r.classList.contains("dropdown-menu-bottom")&&r.classList.remove("dropdown-menu-bottom"),r.classList.contains("dropdown-menu-top")||r.classList.add("dropdown-menu-top"))),"top"===N?e={top:i.top-o-2-W.top,left:i.left-W.left}:"right"===N?e={top:i.top,left:i.left+d[0].offsetWidth+2}:"bottom"===N?e={top:i.top+d[0].offsetHeight+2+W.top,left:i.left-W.left}:"left"===N&&(e={top:i.top,left:i.left-Q-2}),{top:e.top+"px",left:e.left+"px"}}function w(){x()}function b(){if(!R.hasClass("colorpicker-visible")){if(h(),!1===I&&e.on("mousedown",w),q){if(localStorage.getItem("dragifywpColorCollection"))try{re=JSON.parse(localStorage.getItem("dragifywpColorCollection")),"object"!==(void 0===re?"undefined":t(re))&&(re={})}catch(e){}o.showColorPreset(ie,re,c,p,h)}if(U){if(localStorage.getItem("dragifywpRPCollection"))try{ee=JSON.parse(localStorage.getItem("dragifywpRPCollection")),"object"!==(void 0===ee?"undefined":t(ee))&&(ee={})}catch(e){}r.showColorRecentPicked(Z,ee,c,p,h)}localStorage.getItem("dragifywpHeaderState")&&(D=JSON.parse(localStorage.getItem("dragifywpHeaderState"))),D&&(U&&(D.rp?X.hasClass("active")||X.addClass("active"):X.hasClass("active")&&X.removeClass("active")),q&&(D.collection?te.hasClass("active")||te.addClass("active"):te.hasClass("active")&&te.removeClass("active"))),P=!1,n.escKeyPressManager.add(function(){return P=!0,x(),!0}),u.colorpickerIsOpen&&(c[u.colorpickerIsOpen]=!0,c.$$phase&&c.$root.$$phase||c.$digest()),R.addClass("colorpicker-visible").css(y()),k("colorpicker-shown")}}function k(e){p&&c.$emit(e,{name:u.ngModel,value:p.$modelValue})}function x(){R.hasClass("colorpicker-visible")&&(R.removeClass("colorpicker-visible"),k("colorpicker-closed"),e.off("mousedown",w),r.addColor(Z,ee,p.$viewValue),localStorage.setItem("dragifywpColorCollection",JSON.stringify(re)),localStorage.setItem("dragifywpRPCollection",JSON.stringify(ee)),U&&(X.hasClass("active")?D.rp=!0:D.rp=!1),q&&(te.hasClass("active")?D.collection=!0:D.collection=!1),localStorage.setItem("dragifywpHeaderState",JSON.stringify(D)),u.colorpickerIsOpen&&(c[u.colorpickerIsOpen]=!1,c.$$phase&&c.$root.$$phase||c.$digest()),P||(P=!0,n.escKeyPressManager.pop()))}var S,P=!0,C=!0,E=!0,D={},T="rgba",N="bottom",I=!!angular.isDefined(u.colorpickerInline)&&u.colorpickerInline,L=!!angular.isDefined(u.colorpickerFixedPosition)&&u.colorpickerFixedPosition,M=angular.isDefined(u.colorpickerParent)?d.parent():angular.element(document.body),O=!!angular.isDefined(u.colorpickerWithInput)&&u.colorpickerWithInput,A={width:150,height:112},F={left:0,top:112,offset:1},W={top:5,left:15},j=O?'<input type="text" name="colorpicker-input" spellcheck="false">':"",B='<div class="colorpicker dropdown"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha>'+j+"<color-recent-picked class='color-rp__container'></color-recent-picked><color-preset class='color-preset__container'></color-preset></div><colorpicker-backdrop class='colorpicker-backdrop'></div></div>",R=angular.element(B),G=a,z={h:1,s:0,b:1,a:1},K=R.find("colorpicker-hue"),V=R.find("colorpicker-saturation"),H=R.find("colorpicker-preview"),U=R.find("color-recent-picked"),q=R.find("color-preset"),J=R.find("colorpicker-backdrop"),Y=R.find("i"),Q=parseInt(A.width)+29+("rgba"===T?15:0);if(i(R)(c),R.css("min-width",Q+"px"),V.css({width:A.width+"px",height:A.height+"px"}),U){var X=angular.element("<div class='color-rp__header colorpicker__header active'><span></span>Recent Picked</div>"),Z=angular.element("<div class='color-rp__list'></div>");U.append(X).append(Z);var ee={};X.find("span").on("click",function(){X.toggleClass("active"),"top"===N&&(R.addClass("colorpicker-visible").css(y(!0)),k("colorpicker-shown"))})}if(q){var te=angular.element("<div class='color-preset__header colorpicker__header active'><span></span>Presets</div>"),ie=angular.element("<div class='color-collection__list'></div>"),ne=angular.element("<span class='color-preset color-preset__addBtn'></span>");q.append(te).append(ie),ie.append(ne);var re={},oe=te.find("span");ne.on("click",function(){o.addColor(ie,re,p.$viewValue,c,p)}),oe.on("click",function(){te.toggleClass("active"),"top"===N&&(R.addClass("colorpicker-visible").css(y(!0)),k("colorpicker-shown"))})}if(J&&(J.on("click",function(e){e.target===J[0]&&x()}),J.on("scroll",function(e){e.preventDefault()})),O){var ae=R.find("input");ae.css("width",A.width),ae.on("mousedown",function(e){e.stopPropagation()}).on("keyup",function(){var e=this.value;d.val(e),p&&p.$modelValue!==e&&(c.$apply(p.$setViewValue(e)),h(!0))})}R.addClass("alpha"),S=R.find("colorpicker-alpha"),S.on("click",function(e){s.setAlpha(e,L,F.left,F.top-F.offset),C=!1,_(e,!1)}).on("mousedown",function(e){s.setAlpha(e,L,F.left,F.top-F.offset),C=!1,f()}).on("mouseup",function(e){k("colorpicker-selected-alpha"),g()}),K.on("click",function(e){s.setHue(e,L,F.left,F.top-F.offset),C=!1,_(e,!1)}).on("mousedown",function(e){s.setHue(e,L,F.left,F.top-F.offset),C=!1,f()}).on("mouseup",function(e){k("colorpicker-selected-hue"),g()}),V.on("click",function(e){s.setSaturation(e,L,A.width,A.height),C=!0,_(e,!1),angular.isDefined(u.colorpickerCloseOnSelect)&&x()}).on("mousedown",function(e){s.setSaturation(e,L,A.width,A.height),C=!0,f()}).on("mouseup",function(e){k("colorpicker-selected-saturation"),g()}),L&&R.addClass("colorpicker-fixed-position"),R.addClass("colorpicker-position-"+N),"true"===I&&R.addClass("colorpicker-inline"),M.append(R),p&&(p.$render=function(){d.val(p.$viewValue),h()}),d.on("blur keyup change",function(){h()}),d.on("$destroy",function(){P||(P=!0,n.escKeyPressManager.pop()),R.remove()}),!1===I?d.on("click",b):b(),R.on("mousedown",function(e){e.stopPropagation()}),R.find("button").on("click",function(){x()}),u.colorpickerIsOpen&&c.$watch(u.colorpickerIsOpen,function(e){!0===e?b():!1===e&&x()})}}}])},function(e,exports){"use strict";angular.module("ui.ace",[]).constant("uiAceConfig",{}).directive("uiAce",["uiAceConfig",function(e){if(angular.isUndefined(window.ace))throw new Error("ui-ace need ace to work... (o rly?)");var t=function(e,t,i){if(angular.isDefined(i.workerPath)){window.ace.require("ace/config").set("workerPath",i.workerPath)}angular.isDefined(i.require)&&i.require.forEach(function(e){window.ace.require(e)}),angular.isDefined(i.showGutter)&&e.renderer.setShowGutter(i.showGutter),angular.isDefined(i.useWrapMode)&&t.setUseWrapMode(i.useWrapMode),angular.isDefined(i.showInvisibles)&&e.renderer.setShowInvisibles(i.showInvisibles),angular.isDefined(i.showIndentGuides)&&e.renderer.setDisplayIndentGuides(i.showIndentGuides),angular.isDefined(i.useSoftTabs)&&t.setUseSoftTabs(i.useSoftTabs),angular.isDefined(i.showPrintMargin)&&e.setShowPrintMargin(i.showPrintMargin),angular.isDefined(i.disableSearch)&&i.disableSearch&&e.commands.addCommands([{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(){return!1},readOnly:!0}]),angular.isString(i.theme)&&e.setTheme("ace/theme/"+i.theme),angular.isString(i.mode)&&t.setMode("ace/mode/"+i.mode),angular.isDefined(i.firstLineNumber)&&(angular.isNumber(i.firstLineNumber)?t.setOption("firstLineNumber",i.firstLineNumber):angular.isFunction(i.firstLineNumber)&&t.setOption("firstLineNumber",i.firstLineNumber()));var n,r;if(angular.isDefined(i.advanced))for(n in i.advanced)r={name:n,value:i.advanced[n]},e.setOption(r.name,r.value);if(angular.isDefined(i.rendererOptions))for(n in i.rendererOptions)r={name:n,value:i.rendererOptions[n]},e.renderer.setOption(r.name,r.value);angular.forEach(i.callbacks,function(t){angular.isFunction(t)&&t(e)})};return{restrict:"EA",require:"?ngModel",link:function(i,n,r,o){var a,s,l=e.ace||{},c=angular.extend({},l,i.$eval(r.uiAce)),d=window.ace.edit(n[0]),u=d.getSession(),p=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);angular.isDefined(e)&&i.$evalAsync(function(){if(!angular.isFunction(e))throw new Error("ui-ace use a function as callback.");e(t)})},f={onChange:function(e){return function(t){var n=u.getValue();!o||n===o.$viewValue||i.$$phase||i.$root.$$phase||i.$evalAsync(function(){o.$setViewValue(n)}),p(e,t,d)}},onBlur:function(e){return function(){p(e,d)}}};r.$observe("readonly",function(e){d.setReadOnly(!!e||""===e)}),o&&(o.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-ace cannot use an object or an array as a model");return e}),o.$render=function(){u.setValue(o.$viewValue)});var g=function(e,n){e!==n&&(c=angular.extend({},l,i.$eval(r.uiAce)),c.callbacks=[c.onLoad],c.onLoad!==l.onLoad&&c.callbacks.unshift(l.onLoad),u.removeListener("change",a),a=f.onChange(c.onChange),u.on("change",a),d.removeListener("blur",s),s=f.onBlur(c.onBlur),d.on("blur",s),t(d,u,c))};i.$watch(r.uiAce,g,!0),g(l),n.on("$destroy",function(){d.session.$stopWorker(),d.destroy()}),i.$watch(function(){return[n[0].offsetWidth,n[0].offsetHeight]},function(){d.resize(),d.renderer.updateFull()},!0)}}}])},function(e,exports){"use strict";angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig",function(e,t,i,n,r,o){o=o||{};var a=0;return o.baseUrl&&(tinymce.baseURL=o.baseUrl),{require:["ngModel","^?form"],priority:999,link:function(s,l,c,d){function u(e){e?(p(),g&&g.getBody().setAttribute("contenteditable",!1)):(p(),g&&!g.settings.readonly&&g.getBody().setAttribute("contenteditable",!0))}function p(){g||(g=tinymce.get(c.id))}if(n.tinymce){var f,g,m=d[0],_=d[1]||null,v={},h=function(t){var i=t.getContent({format:v.format}).trim();i=r.trustAsHtml(i),m.$setViewValue(i),e.$$phase||s.$digest()};c.$set("id","ui-tinymce-"+a++),f={},angular.extend(f,s.$eval(c.uiTinymce));var y=function(e){var t;return function(e){i.cancel(t),t=i(function(){return function(e){e.save(),h(e)}(e)},400)}}(),w={setup:function(e){e.on("init",function(){m.$render(),m.$setPristine(),m.$setUntouched(),_&&_.$setPristine()}),e.on("ExecCommand change NodeChange ObjectResized",function(){y(e)}),e.on("blur",function(){l[0].blur(),m.$setTouched(),s.$digest()}),e.on("remove",function(){l.remove()}),f.setup&&f.setup(e,{updateView:h})},format:f.format||"html",selector:"#"+c.id};angular.extend(v,o,f,w),i(function(){v.baseURL&&(tinymce.baseURL=v.baseURL),tinymce.init(v),u(s.$eval(c.ngDisabled))}),m.$formatters.unshift(function(e){return e?r.trustAsHtml(e):""}),m.$parsers.unshift(function(e){return e?r.getTrustedHtml(e):""}),m.$render=function(){p();var e=m.$viewValue?r.getTrustedHtml(m.$viewValue):"";g&&g.getDoc()&&(g.setContent(e),g.fire("change"))},c.$observe("disabled",u),s.$on("$tinymce:refresh",function(e,i){var n=c.id;if(angular.isUndefined(i)||i===n){var r=l.parent(),o=l.clone();o.removeAttr("id"),o.removeAttr("style"),o.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,n),r.append(t(o)(s))}}),s.$on("$destroy",function(){p(),g&&(g.remove(),g=null)})}}}}])},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,i,n){function r(e,i){return(void 0===e?"undefined":t(e))===i}function o(e,t){return!!~(""+e).indexOf(t)}function a(){return"function"!=typeof i.createElement?i.createElement(arguments[0]):k?i.createElementNS.call(i,"http://www.w3.org/2000/svg",arguments[0]):i.createElement.apply(i,arguments)}function s(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,i){return t+i.toUpperCase()}).replace(/^-/,"")}function l(e,t){return function(){return e.apply(t,arguments)}}function c(e,t,i){var n;for(var o in e)if(e[o]in t)return!1===i?e[o]:(n=t[e[o]],r(n,"function")?l(n,i||t):n);return!1}function d(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function u(){var e=i.body;return e||(e=a(k?"svg":"body"),e.fake=!0),e}function p(e,t,n,r){var o,s,l,c,d="modernizr",p=a("div"),f=u();if(parseInt(n,10))for(;n--;)l=a("div"),l.id=r?r[n]:d+(n+1),p.appendChild(l);return o=a("style"),o.type="text/css",o.id="s"+d,(f.fake?f:p).appendChild(o),f.appendChild(p),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(i.createTextNode(e)),p.id=d,f.fake&&(f.style.background="",f.style.overflow="hidden",c=b.style.overflow,b.style.overflow="hidden",b.appendChild(f)),s=t(p,e),f.fake?(f.parentNode.removeChild(f),b.style.overflow=c,b.offsetHeight):p.parentNode.removeChild(p),!!s}function f(t,i){var r=t.length;if("CSS"in e&&"supports"in e.CSS){for(;r--;)if(e.CSS.supports(d(t[r]),i))return!0;return!1}if("CSSSupportsRule"in e){for(var o=[];r--;)o.push("("+d(t[r])+":"+i+")");return o=o.join(" or "),p("@supports ("+o+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}function g(e,t,i,l){function c(){u&&(delete E.style,delete E.modElem)}if(l=!r(l,"undefined")&&l,!r(i,"undefined")){var d=f(e,i);if(!r(d,"undefined"))return d}for(var u,p,g,m,_,v=["modernizr","tspan","samp"];!E.style&&v.length;)u=!0,E.modElem=a(v.shift()),E.style=E.modElem.style;for(g=e.length,p=0;g>p;p++)if(m=e[p],_=E.style[m],o(m,"-")&&(m=s(m)),E.style[m]!==n){if(l||r(i,"undefined"))return c(),"pfx"!=t||m;try{E.style[m]=i}catch(e){}if(E.style[m]!=_)return c(),"pfx"!=t||m}return c(),!1}function m(e,t,i,n,o){var a=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+S.join(a+" ")+a).split(" ");return r(t,"string")||r(t,"undefined")?g(s,t,n,o):(s=(e+" "+P.join(a+" ")+a).split(" "),c(s,t,i))}function _(e,t,i){return m(e,n,n,t,i)}var v=[],h=[],y={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var i=this;setTimeout(function(){t(i[e])},0)},addTest:function(e,t,i){h.push({name:e,fn:t,options:i})},addAsyncTest:function(e){h.push({name:null,fn:e})}},w=function(){};w.prototype=y,w=new w;var b=i.documentElement,k="svg"===b.nodeName.toLowerCase(),x="Moz O ms Webkit",S=y._config.usePrefixes?x.split(" "):[];y._cssomPrefixes=S;var P=y._config.usePrefixes?x.toLowerCase().split(" "):[];y._domPrefixes=P;var C={elem:a("modernizr")};w._q.push(function(){delete C.elem});var E={style:C.elem.style};w._q.unshift(function(){delete E.style}),y.testAllProps=m,y.testAllProps=_,w.addTest("flexbox",_("flexBasis","1px",!0)),w.addTest("flexwrap",_("flexWrap","wrap",!0)),function(){var e,t,i,n,o,a,s;for(var l in h)if(h.hasOwnProperty(l)){if(e=[],t=h[l],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(i=0;i<t.options.aliases.length;i++)e.push(t.options.aliases[i].toLowerCase());for(n=r(t.fn,"function")?t.fn():t.fn,o=0;o<e.length;o++)a=e[o],s=a.split("."),1===s.length?w[s[0]]=n:(!w[s[0]]||w[s[0]]instanceof Boolean||(w[s[0]]=new Boolean(w[s[0]])),w[s[0]][s[1]]=n),v.push((n?"":"no-")+s.join("-"))}}(),function(e){var t=b.className,i=w._config.classPrefix||"";if(k&&(t=t.baseVal),w._config.enableJSClass){var n=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");t=t.replace(n,"$1"+i+"js$2")}w._config.enableClasses&&(t+=" "+i+e.join(" "+i),k?b.className.baseVal=t:b.className=t)}(v),delete y.addTest,delete y.addAsyncTest;for(var D=0;D<w._q.length;D++)w._q[D]();e.Modernizr=w}(window,document)},function(e,exports,t){var i,n;"function"==typeof Symbol&&Symbol.iterator;!function(r,o){i=o,void 0!==(n="function"==typeof i?i.call(exports,t,exports,e):i)&&(e.exports=n)}(0,function(){function e(e,t){var i=Object.prototype.toString.call(e),n="[object Array]"===i||"[object NodeList]"===i||"[object HTMLCollection]"===i||"[object Object]"===i||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,r=0,o=e.length;if(n)for(;r<o;r++)t(e[r]);else t(e)}if("undefined"==typeof window)return null;var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return window.ResizeSensor=function(i,n){function r(){var e=[];this.add=function(t){e.push(t)};var t,i;this.call=function(){for(t=0,i=e.length;t<i;t++)e[t].call()},this.remove=function(n){var r=[];for(t=0,i=e.length;t<i;t++)e[t]!==n&&r.push(e[t]);e=r},this.length=function(){return e.length}}function o(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t]}function a(e,i){if(e.resizedAttached){if(e.resizedAttached)return void e.resizedAttached.add(i)}else e.resizedAttached=new r,e.resizedAttached.add(i);e.resizeSensor=document.createElement("div"),e.resizeSensor.className="resize-sensor";var n="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",a="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=n,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+n+'"><div style="'+a+'"></div></div><div class="resize-sensor-shrink" style="'+n+'"><div style="'+a+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor),"static"==o(e,"position")&&(e.style.position="relative");var s,l,c,d,u=e.resizeSensor.childNodes[0],p=u.childNodes[0],f=e.resizeSensor.childNodes[1],g=e.offsetWidth,m=e.offsetHeight,_=function(){p.style.width="100000px",p.style.height="100000px",u.scrollLeft=1e5,u.scrollTop=1e5,f.scrollLeft=1e5,f.scrollTop=1e5};_();var v=function(){l=0,s&&(g=c,m=d,e.resizedAttached&&e.resizedAttached.call())},h=function(){c=e.offsetWidth,d=e.offsetHeight,s=c!=g||d!=m,s&&!l&&(l=t(v)),_()},y=function(e,t,i){e.attachEvent?e.attachEvent("on"+t,i):e.addEventListener(t,i)};y(u,"scroll",h),y(f,"scroll",h)}e(i,function(e){a(e,n)}),this.detach=function(e){ResizeSensor.detach(i,e)}},ResizeSensor.detach=function(t,i){e(t,function(e){e.resizedAttached&&"function"==typeof i&&(e.resizedAttached.remove(i),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached)})},ResizeSensor})},function(e,exports,t){var i;!function(n,r,o){function a(e,t,i){if(e.addEventListener)return void e.addEventListener(t,i,!1);e.attachEvent("on"+t,i)}function s(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return w[e.which]?w[e.which]:b[e.which]?b[e.which]:String.fromCharCode(e.which).toLowerCase()}function l(e,t){return e.sort().join(",")===t.sort().join(",")}function c(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function d(e){if(e.preventDefault)return void e.preventDefault();e.returnValue=!1}function u(e){if(e.stopPropagation)return void e.stopPropagation();e.cancelBubble=!0}function p(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function f(){if(!y){y={};for(var e in w)e>95&&e<112||w.hasOwnProperty(e)&&(y[w[e]]=e)}return y}function g(e,t,i){return i||(i=f()[e]?"keydown":"keypress"),"keypress"==i&&t.length&&(i="keydown"),i}function m(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function _(e,t){var i,n,r,o=[];for(i=m(e),r=0;r<i.length;++r)n=i[r],x[n]&&(n=x[n]),t&&"keypress"!=t&&k[n]&&(n=k[n],o.push("shift")),p(n)&&o.push(n);return t=g(n,o,t),{key:n,modifiers:o,action:t}}function v(e,t){return null!==e&&e!==r&&(e===t||v(e.parentNode,t))}function h(e){function t(e){e=e||{};var t,i=!1;for(t in w)e[t]?i=!0:w[t]=0;i||(x=!1)}function i(e,t,i,n,r,o){var a,s,c=[],d=i.type;if(!v._callbacks[e])return[];for("keyup"==d&&p(e)&&(t=[e]),a=0;a<v._callbacks[e].length;++a)if(s=v._callbacks[e][a],(n||!s.seq||w[s.seq]==s.level)&&d==s.action&&("keypress"==d&&!i.metaKey&&!i.ctrlKey||l(t,s.modifiers))){var u=!n&&s.combo==r,f=n&&s.seq==n&&s.level==o;(u||f)&&v._callbacks[e].splice(a,1),c.push(s)}return c}function n(e,t,i,n){v.stopCallback(t,t.target||t.srcElement,i,n)||!1===e(t,i)&&(d(t),u(t))}function o(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=s(e);if(t)return"keyup"==e.type&&b===t?void(b=!1):void v.handleKey(t,c(e),e)}function f(){clearTimeout(y),y=setTimeout(t,1e3)}function g(e,i,r,o){function a(i){n(r,i,e),"keyup"!==o&&(b=s(i)),setTimeout(t,10)}w[e]=0;for(var l=0;l<i.length;++l){var c=l+1===i.length,d=c?a:function(t){return function(){x=t,++w[e],f()}}(o||_(i[l+1]).action);m(i[l],d,o,e,l)}}function m(e,t,n,r,o){v._directMap[e+":"+n]=t,e=e.replace(/\s+/g," ");var a,s=e.split(" ");if(s.length>1)return void g(e,s,t,n);a=_(e,n),v._callbacks[a.key]=v._callbacks[a.key]||[],i(a.key,a.modifiers,{type:a.action},r,e,o),v._callbacks[a.key][r?"unshift":"push"]({callback:t,modifiers:a.modifiers,action:a.action,seq:r,level:o,combo:e})}var v=this;if(e=e||r,!(v instanceof h))return new h(e);v.target=e,v._callbacks={},v._directMap={};var y,w={},b=!1,k=!1,x=!1;v._handleKey=function(e,r,o){var a,s=i(e,r,o),l={},c=0,d=!1;for(a=0;a<s.length;++a)s[a].seq&&(c=Math.max(c,s[a].level));for(a=0;a<s.length;++a)if(s[a].seq){if(s[a].level!=c)continue;d=!0,l[s[a].seq]=1,n(s[a].callback,o,s[a].combo,s[a].seq)}else d||n(s[a].callback,o,s[a].combo);var u="keypress"==o.type&&k;o.type!=x||p(e)||u||t(l),k=d&&"keydown"==o.type},v._bindMultiple=function(e,t,i){for(var n=0;n<e.length;++n)m(e[n],t,i)},a(e,"keypress",o),a(e,"keydown",o),a(e,"keyup",o)}if(n){for(var y,w={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},b={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},k={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},x={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},S=1;S<20;++S)w[111+S]="f"+S;for(S=0;S<=9;++S)w[S+96]=S.toString();h.prototype.bind=function(e,t,i){var n=this;return e=e instanceof Array?e:[e],n._bindMultiple.call(n,e,t,i),n},h.prototype.unbind=function(e,t){var i=this;return i.bind.call(i,e,function(){},t)},h.prototype.trigger=function(e,t){var i=this;return i._directMap[e+":"+t]&&i._directMap[e+":"+t]({},e),i},h.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},h.prototype.stopCallback=function(e,t){var i=this;return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&(!v(t,i.target)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable))},h.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},h.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(w[t]=e[t]);y=null},h.init=function(){var e=h(r);for(var t in e)"_"!==t.charAt(0)&&(h[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},h.init(),n.Mousetrap=h,void 0!==e&&e.exports&&(e.exports=h),void 0!==(i=function(){return h}.call(exports,t,exports,e))&&(e.exports=i)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null),function(e){var t={},i=e.prototype.stopCallback;e.prototype.stopCallback=function(e,n,r,o){var a=this;return!!a.paused||!t[r]&&!t[o]&&i.call(a,e,n,r)},e.prototype.bindGlobal=function(e,i,n){if(this.bind(e,i,n),e instanceof Array)for(var r=0;r<e.length;r++)t[e[r]]=!0;else t[e]=!0},e.init()}(Mousetrap),Mousetrap=function(e){var t=e,i=t.stopCallback,n=!0;return t.stopCallback=function(e,t){return!n||i(e,t)},t.pause=function(){n=!1},t.unpause=function(){n=!0},t}(Mousetrap)},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdAlign",{controller:function(){this.aligns=["left","center","right"],this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="dragifywp-ui__buttonGroup"><button type="button" class="dragifywp-ui__buttonGroup__btn dragifywp-ui__buttonGroup__btn--smallIcon"ng-repeat="align in ::$ctrl.aligns"ng-click="$ctrl.setModel(align)"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model === align}"><i class="lmr lmr-text-align-{{::align}}" ></i></button></div>',bindings:{model:"="}})},function(e,exports){"use strict";var t={origin:{options:{bottom:"&uarr;",left:"&rarr;",right:"&larr;",top:"&darr;"}},samples:[{id:0,name:"Select a Sample"},{id:1,name:"Fade",value:{distance:"0px",rotate:{x:0,y:0,z:0},opacity:0,scale:1}},{id:2,name:"Scale",value:{distance:"0px",rotate:{x:0,y:0,z:0},opacity:0,scale:.5}},{id:3,name:"Move Up 50px",value:{distance:"50px",rotate:{x:0,y:0,z:0},origin:"bottom",opacity:0,scale:1}},{id:4,name:"Move Left 100px",value:{distance:"100px",rotate:{x:0,y:0,z:0},origin:"right",opacity:0,scale:1}},{id:5,name:"Move Right 100px",value:{distance:"100px",rotate:{x:0,y:0,z:0},origin:"left",opacity:0,scale:1}},{id:6,name:"Rotate & Move Up",value:{distance:"50px",origin:"bottom",rotate:{x:0,y:0,z:45},opacity:0,scale:1}}]};angular.module("dragifywp.builder.app").component("dragifywpEdAnimation",{controller:function(){var e=this;e.origin=t.origin,e.samples=t.samples,e.sample=e.samples[0],e.update=function(){e.sample.id&&(e.model=angular.merge(e.model,e.sample.value))}},template:'<div class="dragifywp-ui__sub-container"><dragifywp-ed-switch model="$ctrl.model.enable"></dragifywp-ed-switch></div><div class="dragifywp-ui__floatContainer" ng-if="$ctrl.model.enable"><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">Samples</div><div class="dragifywp-ui__floatContainer__field"><select ng-model="$ctrl.sample" class="dragifywp-ui__select" ng-options="s as s.name for s in $ctrl.samples" ng-change="$ctrl.update()"></select></div></div><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">Distance</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-text model="$ctrl.model.distance"></dragifywp-ed-unit></div></div><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">Origin</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-text-buttons model="$ctrl.model.origin" config="$ctrl.origin"></dragifywp-ed-text-buttons></div></div><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">Opacity</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-slider model="$ctrl.model.opacity" config="{min:0, max:1, step:0.05}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">Scale</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-slider model="$ctrl.model.scale" config="{min:0.1, max:1, step:0.05}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">Rotate X</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-slider model="$ctrl.model.rotate.x" config="{min:-360, max:360, step:1}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">Rotate Y</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-slider model="$ctrl.model.rotate.y" config="{min:-360, max:360, step:1}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">Rotate Z</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-slider model="$ctrl.model.rotate.z" config="{min:-360, max:360, step:1}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">Easing</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-text model="$ctrl.model.easing"></dragifywp-ed-unit></div></div><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">View Factor</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-slider model="$ctrl.model.viewFactor" config="{min:0, max:1, step:0.05}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">Duration</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-slider model="$ctrl.model.duration" config="{min:100, max:2000, step:50}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">Delay</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-slider model="$ctrl.model.delay" config="{min:0, max:1000, step:50}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">Reset</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-switch model="$ctrl.model.reset"></dragifywp-ed-switch></div></div><div class="dragifywp-ui__floatContainer__row" ng-if="::$ctrl.config.group"><div class="dragifywp-ui__floatContainer__title">Interval</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-slider model="$ctrl.model.interval" config="{min:0, max:1000, step:25}"></dragifywp-ed-slider></div></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdArea",{controller:["$scope",function(e){void 0!==this.model&&/^((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?\d+(px|vh|vw|em|%))$/g.test(this.model)||(this.model="0px 0px 0px 0px");var t=this;t.keyPress={isMeta:!1,isShift:!1},this.setUnits=function(){var e=this.model.split(" ");this.top=e[0],this.right=e[1],this.bottom=e[2],this.left=e[3]},this.setUnits(),this.formModel=function(e){if(t.keyPress.isMeta&&t.keyPress.isShift)this.top=this[e],this.right=this[e],this.bottom=this[e],this.left=this[e];else if(t.keyPress.isMeta)switch(e){case"top":t.bottom=t.top;break;case"bottom":t.top=t.bottom;break;case"left":t.right=t.left;break;case"right":t.left=t.right}this.model=[this.top,this.right,this.bottom,this.left].join(" ")},e.$watch("$ctrl.model",function(){t.setUnits()}),this.updateKeyPress=function(e,t){this.keyPress.isMeta=e,this.keyPress.isShift=t}}],template:'<div class="dragifywp-ui__area"><div class="dragifywp-ui__area__indicators"><span class="dragifywp-ui__area__indicator">TP</span><span class="dragifywp-ui__area__indicator">RT</span><span class="dragifywp-ui__area__indicator">BT</span><span class="dragifywp-ui__area__indicator">LT</span></div><div class="dragifywp-ui__area__inputs"><input app-undo-redo dragifywp-drag-unit class="dragifywp-ui__area__input" on-update-keypress="$ctrl.updateKeyPress(meta, shift)" config="$ctrl.config" type="text" ng-model="$ctrl.top" ng-change="$ctrl.formModel(\'top\')" placeholder="Top"/><input app-undo-redo dragifywp-drag-unit class="dragifywp-ui__area__input" on-update-keypress="$ctrl.updateKeyPress(meta, shift)" config="$ctrl.config" type="text" ng-model="$ctrl.right" ng-change="$ctrl.formModel(\'right\')" placeholder="Right"/><input app-undo-redo dragifywp-drag-unit class="dragifywp-ui__area__input" on-update-keypress="$ctrl.updateKeyPress(meta, shift)" config="$ctrl.config" type="text" ng-model="$ctrl.bottom" ng-change="$ctrl.formModel(\'bottom\')" placeholder="Bottom"/><input app-undo-redo dragifywp-drag-unit class="dragifywp-ui__area__input" on-update-keypress="$ctrl.updateKeyPress(meta, shift)" config="$ctrl.config" type="text" ng-model="$ctrl.left" ng-change="$ctrl.formModel(\'left\')" placeholder="Left"/></div><div class="dragifywp-ui__area__desc"><small>Accept <strong>px</strong><strong>rem</strong><strong>em</strong><strong>%</strong>. Example <strong>10px</strong>.</small></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdArea2",{controller:["$scope",function(e){void 0!==this.model&&/^((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?0(px|vh|vw|em|%)) ((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?0(px|vh|vw|em|%))$/g.test(this.model)||(this.model="0px 0px 0px 0px");var t=this;this.setUnits=function(){var e=this.model.split(" ");this.top=e[0],this.right=e[1],this.bottom=e[2],this.left=e[3]},this.setUnits(),this.keyPress={isMeta:!1,isShift:!1},this.formModel=function(e){this.keyPress.isMeta&&(this.top=this[e],this.bottom=this[e]),this.model=[this.top,this.right,this.bottom,this.left].join(" ")},e.$watch("$ctrl.model",function(){t.setUnits()}),this.updateKeyPress=function(e,t){this.keyPress.isMeta=e,this.keyPress.isShift=t}}],template:'<div class="dragifywp-ui__area"><div class="dragifywp-ui__area__indicators"><span class="dragifywp-ui__area__indicator">TP</span><span class="dragifywp-ui__area__indicator dragifywp-ui__area__indicator--disabled">RT</span><span class="dragifywp-ui__area__indicator">BT</span><span class="dragifywp-ui__area__indicator dragifywp-ui__area__indicator--disabled">LT</span></div><div class="dragifywp-ui__area__inputs"><input app-undo-redo dragifywp-drag-unit on-update-keypress="$ctrl.updateKeyPress(meta,shift)" class="dragifywp-ui__area__input" config="$ctrl.config" type="text" ng-model="$ctrl.top" ng-change="$ctrl.formModel(\'top\')" placeholder="Top"/><input class="dragifywp-ui__area__input dragifywp-ui__area__input--disabled" value="0px"/><input app-undo-redo dragifywp-drag-unit on-update-keypress="$ctrl.updateKeyPress(meta,shift)" class="dragifywp-ui__area__input" config="$ctrl.config" type="text" ng-model="$ctrl.bottom" ng-change="$ctrl.formModel(\'bottom\')" placeholder="Bottom"/><input class="dragifywp-ui__area__input dragifywp-ui__area__input--disabled" value="0px"/></div><div class="dragifywp-ui__area__desc"><small>Accept <strong>px</strong><strong>rem</strong><strong>em</strong><strong>%</strong>. Example <strong>10px</strong>.</small></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdBackgroundProps",{controller:["$DragifyWPHotKeys",function(e){var t=this;this.active=!1,this.close=function(){this.active=!1},this.open=function(){t.active=!0,e.escKeyPressManager.add(function(){return t.active=!1,!0})},this.close=function(){e.escKeyPressManager.execute()},this.$onDestroy=function(){this.active&&e.escKeyPressManager.pop()}}],template:'<div class="dragifywp-ui__popup" ng-class="{\'dragifywp-ui__popup--show\':$ctrl.active}"><h6 class="dragifywp-ui__popup__title">Background Props</h6><span class="dragifywp-ui__popup__close lmr lmr-cross" ng-click="$ctrl.close()"></span><div class="dragifywp-ui__popup__container"><dragifywp-ed-background-position model="$ctrl.model.position"></dragifywp-ed-background-position><dragifywp-ed-background-size model="$ctrl.model.size"></dragifywp-ed-background-size><dragifywp-ed-background-repeat model="$ctrl.model.repeat"></dragifywp-ed-background-repeat><dragifywp-ed-background-attachment model="$ctrl.model.attachment"></dragifywp-ed-background-attachment></div></div><div class="dragifywp-ui__popup__backdrop" ng-click="$ctrl.close()"></div><a class="dragifywp-ui__setting-btn" ng-click="$ctrl.open()">Background Properties</a>',bindings:{model:"="}}),angular.module("dragifywp.builder.app").component("dragifywpEdBackgroundPosition",{controller:function(){this.updatePosition=function(e){this.model=e}},template:'<div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__background-position" drag-position model="$ctrl.model" on-update="$ctrl.updatePosition(position)"><i class="lmr lmr-plus"></i></div></div>',bindings:{model:"="}}),angular.module("dragifywp.builder.app").component("dragifywpEdBackgroundSize",{controller:function(){this.options={Auto:"auto",Length:"100px 100px",Percentage:"100% 100%",Cover:"cover",Contain:"contain",Initial:"initial"},this.selectSize=function(e){this.model=e,this.show=!1}},template:'<div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Size</div><div class="dragifywp-ui__popup__input"><div class="dragifywp-ui__background-size"><input app-undo-redo type=\'text\' class="dragifywp-ui__input-text" ng-model=\'$ctrl.model\' ng-model-option="{debounce:250}"}/><span class="dragifywp-ui__background-size__btn" ng-click="$ctrl.show=true"><i class="lmr lmr-plus"></i></span><div ng-show="$ctrl.show"><ul class="dragifywp-ui__background-size__options"><li ng-repeat="(k,v) in ::$ctrl.options" ng-click="$ctrl.selectSize(v)" ng-bind="::k"></li></ul><div class="dragifywp-ui__background-size__backdrop" ng-click="$ctrl.show=false"></div></div></div></div></div>',bindings:{model:"="}}),angular.module("dragifywp.builder.app").component("dragifywpEdBackgroundRepeat",{controller:function(){this.config={options:{"no-repeat":"None","repeat-x":"X","repeat-y":"Y",repeat:"XY"}}},template:'<div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Repeat</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text-buttons model="$ctrl.model" config="$ctrl.config"></dragifywp-ed-text-buttons></div></div>',bindings:{model:"="}}),angular.module("dragifywp.builder.app").component("dragifywpEdBackgroundAttachment",{controller:function(){this.config={options:{fixed:"Fixed",scroll:"Scroll",local:"Local"}}},template:'<div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Attach</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text-buttons model="$ctrl.model" config="$ctrl.config"></dragifywp-ed-text-buttons></div></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdBackgroundStyle",{controller:function(){void 0===this.model&&(this.model="none"),this.sample={cross:"none","eye-dropper":"color",picture:"image",gradient:"gradient","film-play":"video"}},template:'<div class="dragifywp-ui__buttonGroup"><button class="dragifywp-ui__buttonGroup__btn dragifywp-ui__buttonGroup__btn--small"ng-click="$ctrl.model=v"ng-if="::$ctrl.config[v]"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model == v}"ng-repeat="(k, v) in ::$ctrl.sample"><i class="lmr lmr-{{::k}}"></i></button></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdBorderStyle",{controller:function(){void 0===this.model&&(this.model="none"),this.sample={None:"none",___:"solid","...":"dotted","- -":"dashed"},void 0!==this.config&&this.config.no_none_border&&delete this.sample.none},template:'<div class="dragifywp-ui__buttonGroup"><button class="dragifywp-ui__buttonGroup__btn"ng-click="$ctrl.model=v"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model == v}"ng-repeat="(k, v) in ::$ctrl.sample"><span class="dragifywp-ui__borderStyle__item"><i class="dragifywp-ui__borderStyle__icon dragifywp-ui__borderStyle__icon--{{::v}}" ng-bind="::k"></i></span></button></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdBoxShadow",{controller:["$scope","$DragifyWPHotKeys",function(e,t){var i=this;this.model||(this.model="none");var n=function(){if(/(-?\d+)px (-?\d+)px (-?\d+)px (.+)/g.test(i.model)){i.shadow={};var e=/(-?\d+)px (-?\d+)px (-?\d+)px (.+)/g.exec(i.model);i.shadow.x=parseInt(e[1]),i.shadow.y=parseInt(e[2]),i.shadow.blur=parseInt(e[3]),i.shadow.color=e[4]}else i.shadow={x:0,y:0,blur:10,color:"rgba(0,0,0,0.1)"}},r=e.$watch("$ctrl.shadow",function(){r()});this.open=function(){n(),e.$watch("$ctrl.shadow",function(){i.model=i.shadow.x+"px "+i.shadow.y+"px "+i.shadow.blur+"px "+i.shadow.color},!0),this.active=!0,t.escKeyPressManager.add(function(){return r(),i.active=!1,!0})},this.setToNone=function(){this.model="none"},this.close=function(){t.escKeyPressManager.execute()},this.$onDestroy=function(){this.active&&t.escKeyPressManager.pop()}}],template:'<div class="dragifywp-ui__boxshadow"><input type="text" class="dragifywp-ui__input-text" ng-model="$ctrl.model" readonly/><div class="dragifywp-ui__boxshadow__btns dragifywp-ui--alignRight dragifywp-ui--paddingTop7"><span class="dragifywp-ui__btn dragifywp-ui__btn--small dragifywp-ui__btn--plain dragifywp-ui--marginRight3" ng-disabled="$ctrl.model == \'none\'" ng-click="$ctrl.setToNone()">Set as None</span><span class="dragifywp-ui__btn dragifywp-ui__btn--small dragifywp-ui__btn--primary" ng-click="$ctrl.open()">Edit</span></div></div><div class="dragifywp-ui__popup" ng-class="{\'dragifywp-ui__popup--show\':$ctrl.active}"><h6 class="dragifywp-ui__popup__title">Shadow</h6><span class="dragifywp-ui__popup__close lmr lmr-cross" ng-click="$ctrl.close()"></span><div class="dragifywp-ui__popup__container"><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">X</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-slider model="$ctrl.shadow.x" config="{min:-50, max:50, step:1}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Y</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-slider model="$ctrl.shadow.y" config="{min:-50, max:50, step:1}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Blur</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-slider model="$ctrl.shadow.blur" config="{min:0, max:100, step:1}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Color</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-colorpicker model="$ctrl.shadow.color" config="{\'format\':\'rgba\'}"></dragifywp-ed-colorpicker></div></div></div></div><div class="dragifywp-ui__popup__backdrop" ng-click="$ctrl.close()"></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdClass",{controller:["$DragifyWPService","$DragifyWPHotKeys",function(e,t){var i=this;this.service=e,this.search="",this.enter="",void 0===this.model?this.model="":this.model=this.model.trim();var n={Support:{"No Margin Top":"dragifywp--noMarginTop","z-Index 1":"dragifywp--zIndex1","z-Index 99":"dragifywp--zIndex99","Position Relative":"dragifywp--positionRelative"},Background:{"Attachment Fixed":"dragifywp--bgFixed","Contain Size":"dragifywp--bgContain","Cover Size":"dragifywp--bgCover"},Typography:{"Serif Font":"dragifywp-serif",Uppercase:"dragifywp--uppercase","Line Through":"dragifywp--lineThrough","Letter Spacing 0.05em":"dragifywp--letterSpacing-0-05em","Letter Spacing 0.1em":"dragifywp--letterSpacing-0-1em","Letter Spacing 0.15em":"dragifywp--letterSpacing-0-15em","Align Left":"dragifywp--textLeft","Align Right":"dragifywp--textRight","Align Center":"dragifywp--textCenter"},"Tilt Hover Effect":{"Trigger Class":"dragifywp-tilt","Disable X":"dragifywp-tilt--disableX","Disable Y":"dragifywp-tilt--disableY","Keep Floating":"dragifywp-tilt--keepFloating","Scale 1.1":"dragifywp-tilt--scale11","Scale 1.2":"dragifywp-tilt--scale12","Scale 1.3":"dragifywp-tilt--scale13","Glare Effect":"dragifywp-tilt--glare","Parallax Parent":"dragifywp-tilt--parallaxParent","Parallax Child":"dragifywp-tilt--parallaxChild"},"Hover Effect":{"Fade from Opacity 0.25":"dragifywp-hover--opacity25","Fade from Opacity 0.5":"dragifywp-hover--opacity50","Fade from Opacity 0.75":"dragifywp-hover--opacity75","Blur from 5px":"dragifywp-hover--blur5","Blur from 3px":"dragifywp-hover--blur3","Scale from 75%":"dragifywp-hover--scale75"},"Image Effect":{Blur:"dragifywp--imgBlur","Black and White":"dragifywp--imgBlackWhite"},Transform:{"Reverse X":"dragifywp--reverseX","Reverse Y":"dragifywp--reverseY","Reverse XY":"dragifywp--reverseXY"}};if(this.classes={},Array.isArray(this.config)){var r=!0,o=!1,a=void 0;try{for(var s,l=this.config[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;n.hasOwnProperty(c)&&(this.classes[c]=n[c])}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}}else this.classes=n;this.setClass=function(e,t){this.model?this.model+=" "+e:this.model=e,t.ctrlKey||t.metaKey||(this.expand=!1,this.service.icons_expand=!1)},this.expand=!1,this.openBox=function(){this.expand=!0,e.icons_expand=this.expand,t.escKeyPressManager.add(function(){return i.expand=!1,e.icons_expand=i.expand,!0})},this.closeBox=function(){t.escKeyPressManager.execute()},this.isEmpty=function(){return""===this.search.trim()},this.pushClass=function(t){this.enter=this.enter.trim(),13==t.keyCode&&this.enter&&(/^[a-zA-Z_\-][a-zA-Z\d_\-]*$/g.test(this.enter)?(this.model+=this.model?" "+this.enter:""+this.enter,this.enter=""):e.showToast({message:"Invalid input for a CSS class",time:2e3,type:"error"}),t.target.blur())},this.getClassList=function(){return this.model?this.model.split(" "):[]},this.deleteClass=function(e){var t=this.model.split(" ");t.splice(e,1),this.model=t.join(" ")},this.$onDestroy=function(){this.service.icons_expand&&(this.service.icons_expand=!1),this.expand&&t.escKeyPressManager.pop()}}],template:'<div class="dragifywp-ui__classBox" ng-if="$ctrl.expand"><div class="dragifywp-ui__classBox__header"><div class="dragifywp-ui__classBox__header__input"><input ng-model="$ctrl.search" type="text" maxlength="50" ng-trim="true" placeholder="Search for classes..."/><button class="dragifywp-ui__classBox__header__input__clearBtn" ng-click="$ctrl.search=\'\'" ng-show="$ctrl.search"><i class="lmr lmr-cross2" aria-hidden="true"></i></button></div><button class="dragifywp-ui__classBox__header__shorten" ng-click="$ctrl.closeBox()"><span class="lmr lmr-chevron-down"></span></button></div><div class="dragifywp-ui__classBox__list"><p class="dragifywp-ui__classBox__list__notFound">No result.</p><ul class="dragifywp-ui__classBox__list__section" ng-repeat="(key, value) in ::$ctrl.classes"><li class="dragifywp-ui__classBox__list__item" ng-repeat="(k,v) in value|canberepeated:$ctrl.search"><h6 class="dragifywp-ui__classBox__list__section__name" ng-bind="::key" ng-if="::$first"></h6><span class="dragifywp-ui__classBox__list__item__name" ng-bind="::k" ng-click="$ctrl.setClass(v, $event)"></span></li></ul></div></div><div class="dragifywp-ui__class"><input class="dragifywp-ui__class__input dragifywp-ui__input-text" maxlength="50" ng-model="$ctrl.enter" type="text" ng-keypress="$ctrl.pushClass($event)"  ng-model-options="{ debounce: 250 }"/><button class="dragifywp-ui__class__expandBtn" ng-click="$ctrl.openBox()"><span class="lmr lmr-chevron-up"></span></button></div><p class="dragifywp-ui__class__desc">Type your Class name then hit "Enter".</p><div class="dragifywp-ui__class__tagList"><a class="dragifywp-ui__class__tag" ng-repeat="class in $ctrl.getClassList() track by $index" ng-click="$ctrl.deleteClass($index)" ng-bind="::class"></a></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("dragifywp.builder.app").component("dragifywpEdCodeEditor",{controller:["$scope","$DragifyWPHotKeys","$timeout",function(e,i,n){var r=this;this.expand=!1;var o,a,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;clearTimeout(a),a=setTimeout(function(){o.resize(),o.renderer.updateFull()},e)};this.resizeBox=function(){this.expand?i.escKeyPressManager.execute():(this.expand=!0,s(),i.escKeyPressManager.add(function(){return r.expand=!1,s(),!0}))},this.widenBox=function(){this.widen=!this.widen,s()},this.options={useWrapMode:!0,showGutter:!0,theme:"cobalt",mode:"html",onLoad:function(e){o=e,s(0)}},"object"==t(this.config)&&(this.options=angular.merge(this.options,this.config)),this.$onDestroy=function(){this.expand&&i.escKeyPressManager.pop()}}],template:'<div class="dragifywp-ui__codeEditor" ng-class="{\'dragifywp-ui__codeEditor--expanded\':$ctrl.expand, \'dragifywp-ui__codeEditor--widen\': $ctrl.widen}"><a class="dragifywp-ui__codeEditor__expandBtn" ng-click="$ctrl.resizeBox()"><span class="lmr lmr-{{$ctrl.expand?\'contract\':\'expand\'}}"></span></a><a class="dragifywp-ui__codeEditor__widenBtn" ng-click="$ctrl.widenBox()"><span class="lmr lmr-arrow-{{$ctrl.widen?\'left\':\'right\'}}"></span></a><div class="dragifywp-ui__codeEditor__wrap" ui-ace="$ctrl.options" ng-model="$ctrl.model" ng-model-options="{debounce: 500}"></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdColorpicker",{controller:function(){this.update=function(e){this.model=e}},template:'<div class="dragifywp-ui__colorpicker"><small class="dragifywp-ui__colorpicker__transparent-btn" ng-show="$ctrl.model != \'transparent\'" ng-click="$ctrl.model=\'transparent\'" title="Transparent"><i class="fa fa-genderless" aria-hidden="true"></i></small><input class="dragifywp-ui__colorpicker__input dragifywp-ui__input-text" ng-model="$ctrl.model" type="text" app-undo-redo/><span class="dragifywp-ui__colorpicker__select-btn" colorpicker ng-model="$ctrl.model" ng-model-options="{ debounce: 250 }"><i ng-style="{\'background-color\':$ctrl.model}"></i></span></div>',bindings:{model:"="}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("dragifywp.builder.app").component("dragifywpEdColumnRange",{controller:["$scope",function(e){this.range={"0-0":'<i class="lmr lmr-cross-circle"></i>',"1-6":"1<b></b>6","1-5":"1<b></b>5","1-4":"1<b></b>4","1-3":"1<b></b>3","2-5":"2<b></b>5","1-2":"1<b></b>2","3-5":"3<b></b>5","2-3":"2<b></b>3","3-4":"3<b></b>4","4-5":"4<b></b>5","5-6":"5<b></b>6","1-1":"1<b></b>1"},this.setWidth=function(e){this.onButtonClick({v:e})}}],template:'<div class="dragifywp-ui__colWidth"><button class="dragifywp-ui__colWidth__btn" ng-click="$ctrl.setWidth(k)" ng-repeat="(k, v) in ::$ctrl.range" ng-class="{\'dragifywp-ui__colWidth__btn--active\':$ctrl.model == k}"><span ng-bind-html="::v"></span></button></div>',bindings:{model:"<",onButtonClick:"&"}}),angular.module("dragifywp.builder.app").component("dragifywpEdColumnWidth",{controller:["$scope","$DragifyWPService",function(e,i){var n=this;this.devices=["desktop","tablet","mobile"],this.service=i;var r=i.getID(i.edited);this.setDevice=function(e){this.service.previewDevice=e},this.setDesktopWidth=function(e){this.model.desktop=e,n.formClass()},this.setTabletWidth=function(e){this.model.tablet=e,n.formClass()},this.setMobileWidth=function(e){this.model.mobile=e,n.formClass()};var o=void 0;this.formClass=function(){var e="dragifywp-column";void 0===o&&(o=i.getIframeElement("."+r)),e+=" dragifywp-col-"+this.model.desktop,this.model.hasOwnProperty("tablet")&&(e+=" dragifywp-col-tb-"+this.model.tablet),this.model.hasOwnProperty("mobile")&&(e+=" dragifywp-col-mb-"+this.model.mobile),e+=" "+r,o.className=e;for(var t="1-1",n=["desktop","tablet","mobile"],a=0;a<n.length;a++){var s=n[a],l=!0,c=!1,d=void 0;try{for(var u,p=o.querySelectorAll(".dragifywp-dnd__colWidth--"+s)[Symbol.iterator]();!(l=(u=p.next()).done);l=!0){var f=u.value;this.model.hasOwnProperty(s)&&(t=this.model[s].replace("-","/")),f.innerHTML=t}}catch(e){c=!0,d=e}finally{try{!l&&p.return&&p.return()}finally{if(c)throw d}}}},this.setDevice=function(e){this.service.previewDevice=e},this.updateTablet=function(){this.model.hasOwnProperty("tablet")?delete this.model.tablet:this.model.tablet="object"===t(this.model.desktop)?angular.merge({},this.model.desktop):this.model.desktop,this.formClass()},this.updateMobile=function(){this.model.hasOwnProperty("mobile")?delete this.model.mobile:this.model.hasOwnProperty("tablet")?this.model.mobile="object"===t(this.model.tablet)?angular.merge({},this.model.tablet):this.model.tablet:this.model.mobile="object"===t(this.model.desktop)?angular.merge({},this.model.desktop):this.model.desktop,this.formClass()},this.onDesktop=function(){return"desktop"==this.service.previewDevice||"tablet-l"==this.service.previewDevice||"tablet"==this.service.previewDevice&&!this.model.hasOwnProperty("tablet")||"mobile"==this.service.previewDevice&&!this.model.hasOwnProperty("mobile")&&!this.model.hasOwnProperty("tablet")},this.onTablet=function(){return"tablet"==this.service.previewDevice&&this.model.hasOwnProperty("tablet")||"mobile"==this.service.previewDevice&&!this.model.hasOwnProperty("mobile")&&this.model.hasOwnProperty("tablet")},this.onMobile=function(){return"mobile"==this.service.previewDevice&&this.model.hasOwnProperty("mobile")},e.$watch("$ctrl.model",function(){n.formClass()},!0)}],template:'<div class="dragifywp-ui__resDevice" ng-class="\'dragifywp-ui__resDevice--\'+$ctrl.service.previewDevice"><div class="dragifywp-ui__resDevice__devices"><label ng-repeat="device in ::$ctrl.devices" ng-click="$ctrl.setDevice(device)"><span class="lmr lmr-{{::device}}"></span></label></div><div class="dragifywp-ui__resDevice__editor"><label class="dragifywp-ui__resDevice__toggle" ng-if="$ctrl.service.previewDevice == \'tablet\'" ng-class="{\'active\':$ctrl.model.hasOwnProperty(\'tablet\')}" ng-click="$ctrl.updateTablet()"></label><label class="dragifywp-ui__resDevice__toggle" ng-if="$ctrl.service.previewDevice == \'mobile\'" ng-class="{\'active\':$ctrl.model.hasOwnProperty(\'mobile\')}" ng-click="$ctrl.updateMobile()"></label><dragifywp-ed-column-range model="$ctrl.model.desktop" target="desktop" on-button-click="$ctrl.setDesktopWidth(v)" ng-if="$ctrl.onDesktop()"></dragifywp-ed-column-range><dragifywp-ed-column-range model="$ctrl.model.tablet" target="tablet" on-button-click="$ctrl.setTabletWidth(v)" ng-if="$ctrl.onTablet()"></dragifywp-ed-column-range><dragifywp-ed-column-range model="$ctrl.model.mobile" target="mobile" on-button-click="$ctrl.setMobileWidth(v)" ng-if="$ctrl.onMobile()"></dragifywp-ed-column-range></div></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdDesc",{controller:function(){},transclude:!0,template:'<p class="dragifywp-ui__desc" ng-bind-html="::$ctrl.config.message"></p>',bindings:{config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdDeviceHidden",{controller:["$scope",function(e){var t=this;this.currentDevices={mobile:!1,tablet:!1,"tablet-l":!1,desktop:!1},this.setCurrentDevice=function(){for(var e in this.currentDevices)this.currentDevices[e]=-1!=this.model.indexOf("dragifywp-"+e+"-hidden")},this.model?this.setCurrentDevice():this.model="",this.setModel=function(e){this.currentDevices[e]=!this.currentDevices[e],this.model="";for(var t in this.currentDevices)this.currentDevices[t]&&(this.model+=" dragifywp-"+t+"-hidden");this.model=this.model.trim()},e.$watch("$ctrl.model",function(){t.setCurrentDevice()})}],template:'<div class="dragifywp-ui__buttonGroup"><button class="dragifywp-ui__buttonGroup__btn dragifywp-ui__buttonGroup__btn--rv dragifywp-ui__buttonGroup__btn--smallIcon"ng-click="$ctrl.setModel(k)"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.currentDevices[k]}"ng-repeat="(k, v) in ::$ctrl.currentDevices"><i class="lmr lmr-{{::k}}"></i></button></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("editorContainer",{transclude:!0,controller:function(){void 0===this.collapsed&&(this.collapsed=!1)},template:'<div class="dragifywp-ui__container" ng-class="{\'dragifywp-ui__container--collapsed\':$ctrl.collapsed}"><h4 class="dragifywp-ui__container__title"><span class="dragifywp-ui__container__name">{{::$ctrl.label}}</span><span class="dragifywp-ui__container__collapseBtn" ng-click="$ctrl.collapsed=!$ctrl.collapsed"></span></h4><div class="dragifywp-ui__container__content" ng-transclude></div></div>',bindings:{label:"@",collapsed:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("dragifywp.builder.app").component("editorField",{controller:["$scope","$attrs","$timeout","$DragifyWPService",function(e,i,n,r){if("rich-editor"!=i.type&&"$ctrl.edited"!=i.model&&"editor"==r.tab){var o,a=Date.now(),s=!0,l=null,c={},d=i.model.split(".");"attrs"==d[2]&&(c.isAttr=!0,c.attrField=d[3]),r.showChild?(c.link=r.child.link,c.parentLink=r.edited.link):c.link=r.edited.link,e.$watch("$ctrl.model",function(e,i){if(s)return void(s=!1);r.commandManager.free&&(Date.now()-a<500&&o&&n.cancel(o),null==l&&(l=i),a=Date.now(),o=n(function(){if(r.edited){var i=angular.merge({},c);"object"==(void 0===e?"undefined":t(e))?(i.newVal=angular.merge({},e),i.oldVal=angular.merge({},l)):(i.newVal=e,i.oldVal=l),r.setChangeAttr(i),l=null,r.commandManager.free=!0}},500))},!0)}}],template:["$element","$attrs",function(e,t){return'<div class="dragifywp-ui__field" ng-class="::{\'dragifywp-ui__field--fullwidth\':$ctrl.fullwidth}"><span class="dragifywp-ui__field__label" ng-if="::$ctrl.label" ng-bind="::$ctrl.label"></span><div class="dragifywp-ui__field__input"><dragifywp-ed-'+t.type+' model="$ctrl.model" config="$ctrl.config"></dragifywp-ed-'+t.type+'><small class="dragifywp-ui__field__desc" ng-if="::$ctrl.desc" ng-bind-html="::$ctrl.desc"></small></div></div>'}],bindings:{model:"=",config:"<",desc:"@",type:"@",label:"@",fullwidth:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdFontSource",{controller:function(){void 0===this.model&&(this.model={source:"inherit",google:{family:"Open Sans",variant:"regular",subset:"latin"},uploaded:"",typekit:""}),this.sample={inherit:"Inherit",google:"Google Fonts",uploaded:"Uploaded Fonts",typekit:"Typekit Fonts"}},template:'<div class="dragifywp-ui__fontSource"><div class="dragifywp-ui__buttonGroup"><button type="button" class="dragifywp-ui__buttonGroup__btn dragifywp-ui__buttonGroup__btn--image"ng-repeat="(k, v) in ::$ctrl.sample"title="{{::v}}"ng-click="$ctrl.model.source=k"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model.source === k}"><span ng-style="::{\'background-image\':\'url('+angular.module("dragifywp.builder.app").__config.root+'/modules/img/\'+k+\'.svg)\'}"></span></button></div><div class="dragifywp-ui__fontSource__source" ng-if="$ctrl.model.source == \'google\'" google-fonts ng-model="$ctrl.model.google"></div><div class="dragifywp-ui__fontSource__source" ng-if="$ctrl.model.source == \'uploaded\'"><dragifywp-ed-selection-loader model="$ctrl.model.uploaded" config="{url: \''+angular.module("dragifywp.builder.app").__config.global_api+'/uploaded-fonts\', name: \'font\'}"></dragifywp-ed-selection-loader></div><div class="dragifywp-ui__fontSource__source" ng-if="$ctrl.model.source == \'typekit\'"><dragifywp-ed-selection-loader model="$ctrl.model.typekit" config="{url: \''+angular.module("dragifywp.builder.app").__config.global_api+"/typekit-fonts', name: 'font'}\"></dragifywp-ed-selection-loader></div></div>",bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var i=[["#DBE6F6","#C5796D"],["#3494E6","#EC6EAD"],["#67B26F","#4ca2cd"],["#F3904F","#3B4371"],["#ee0979","#ff6a00"],["#A770EF","#CF8BF3","#FDB99B"],["#833ab4","#fd1d1d","#fcb045"],["#FEAC5E","#C779D0","#4BC0C8"],["#f4c4f3","#fc67fa"],["#f4c4f3","#fc67fa"],["#ff7e5f","#feb47b"],["#ff00cc","#333399"],["#de6161","#2657eb"],["#ef32d9","#89fffd"],["#A1FFCE","#FAFFD1"],["#BE93C5","#7BC6CC"],["#bdc3c7","#2c3e50"],["#ffd89b","#19547b"],["#fceabb","#f8b500"],["#f85032","#e73827"],["#56ab2f","#a8e063"],["#000428","#004e92"],["#42275a","#734b6d"],["#141E30","#243B55"],["#EECDA3","#EF629F"],["#5614B0","#DBD65C"],["#fd746c","#ff9068"],["#eacda3","#d6ae7b"],["#457fca","#5691c8"],["#B24592","#F15F79"],["#C02425","#F0CB35"],["#c2e59c","#64b3f4"],["#FFB75E","#ED8F03"],["#00c6ff","#0072ff"],["#70e1f5","#ffd194"],["#606c88","#3f4c6b"],["#E6DADA","#274046"],["#ddd6f3","#faaca8"],["#ECE9E6","#FFFFFF"],["#4776E6","#8E54E9"],["#CC95C0","#DBD4B4","#7AA1D2"],["#02AAB0","#00CDAC"],["#396afc","#2948ff"],["#0cebeb","#20e3b2","#29ffc6"],["#36D1DC","#5B86E5"],["#56CCF2","#2F80ED"],["#F7971E","#FFD200"],["#00c3ff","#ffff1c"]];e.module("dragifywp.builder.app").component("dragifywpEdGradient",{controller:["$scope","$DragifyWPHotKeys",function(e,n){var r=this;this.presets=i,this.active=!1,this.collectionShow=!1,"object"!=t(this.model)&&(this.model={color_1:"rgba(0,0,0,0.4)",color_2:"rgba(0,0,0,0.4)",color_3:"rgba(0,0,0,0.4)",angle:180,radial:!1,radial_x:"center",radial_y:"bottom"}),this.radialConfigX={options:{left:"Left",center:"Center",right:"Right"},class:"column"},this.radialConfigY={options:{Top:"Top",center:"Center",bottom:"Bottom"},class:"column"},this.open=function(){e.$watch("$ctrl.model",function(){r.formModel()},!0),this.active=!0,n.escKeyPressManager.add(function(){return o(),r.active=!1,!0})},this.showCollection=function(){this.collectionShow=!0,n.escKeyPressManager.add(function(){return r.collectionShow=!1,!0})},this.formGradient=function(e){return e.radial?e.color_3?"radial-gradient(circle at "+e.radial_y+" "+e.radial_x+", "+e.color_1+", "+e.color_2+", "+e.color_3+")":e.color_1&&e.color_2?"radial-gradient(circle at  "+e.radial_y+" "+e.radial_x+", "+e.color_1+", "+e.color_2+")":"":e.color_3?"linear-gradient("+e.angle+"deg, "+e.color_1+", "+e.color_2+", "+e.color_3+")":e.color_1&&e.color_2?"linear-gradient("+e.angle+"deg, "+e.color_1+", "+e.color_2+")":""},this.formModel=function(){this.model.value=this.formGradient(this.model)},this.formPreset=function(e){return e[2]?"linear-gradient(90deg, "+e[0]+", "+e[1]+", "+e[2]+")":"linear-gradient(90deg, "+e[0]+", "+e[1]+")"},this.setPreset=function(e){this.model.color_1=e[0],this.model.color_2=e[1],this.model.color_3=e[2]?e[2]:"",this.model.value=this.formGradient(this.model)};var o=e.$watch("$ctrl.model",function(){o()});this.close=function(){n.escKeyPressManager.execute()},this.$onDestroy=function(){this.active&&n.escKeyPressManager.pop()}}],template:'<div class="dragifywp-ui__gradient"><div class="dragifywp-ui__gradient__bg"  ng-click="$ctrl.open()"><span ng-style="{\'background\':$ctrl.model.value}"></span></div><span class="dragifywp-ui__gradient__edit" ng-click="$ctrl.open()">Edit</span><span class="dragifywp-ui__gradient__openPresets" ng-click="$ctrl.showCollection()"><i class="lmr lmr-icons2"></i></span></div><div class="dragifywp-ui__gradient__collection" ng-class="{\'dragifywp-ui__gradient__collection--show\':$ctrl.collectionShow}"><div class="dragifywp-ui__gradient__header"><span class="dragifywp-ui__gradient__back lmr lmr-chevron-left" ng-click="$ctrl.close()"></span><h6>Gradient Presets</h6></div><div class="dragifywp-ui__gradient__list"><div class="dragifywp-ui__gradient__preset" ng-repeat="preset in ::$ctrl.presets" ng-style="::{\'background-image\':$ctrl.formPreset(preset)}" ng-click="$ctrl.setPreset(preset)"></div></div></div><div class="dragifywp-ui__popup" ng-class="{\'dragifywp-ui__popup--show\':$ctrl.active}"><h6 class="dragifywp-ui__popup__title">Gradient</h6><span class="dragifywp-ui__popup__close lmr lmr-cross" ng-click="$ctrl.close()"></span><div class="dragifywp-ui__popup__container"><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Color 1</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-colorpicker model="$ctrl.model.color_1"></dragifywp-ed-colorpicker></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Color 2</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-colorpicker model="$ctrl.model.color_2"></dragifywp-ed-colorpicker></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Color 3</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-colorpicker model="$ctrl.model.color_3"></dragifywp-ed-colorpicker></div></div><div class="dragifywp-ui__popup__row" ng-if="!$ctrl.model.radial"><div class="dragifywp-ui__popup__label">Angle</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-slider model="$ctrl.model.angle" config="{min:0, max:270, step:1}"></dragifywp-ed-slider></div></div><div ng-if="::$ctrl.config.radial"><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Radial</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-switch model="$ctrl.model.radial"></dragifywp-ed-switch></div></div><div ng-if="$ctrl.model.radial"><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">X</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text-buttons model="$ctrl.model.radial_x" config="$ctrl.radialConfigX"></dragifywp-ed-text-buttons></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Y</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text-buttons model="$ctrl.model.radial_y" config="$ctrl.radialConfigY"></dragifywp-ed-text-buttons></div></div></div></div></div></div><div class="dragifywp-ui__popup__backdrop" ng-click="$ctrl.close()"></div>',bindings:{model:"=",config:"<"}})}(window.angular)},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdHAlign",{controller:function(){this.aligns={"align-top":"top","align-center-horizontal":"middle","align-bottom":"bottom"},this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="dragifywp-ui__buttonGroup"><button type="button" class="dragifywp-ui__buttonGroup__btn"ng-repeat="(icon, value) in ::$ctrl.aligns"ng-click="$ctrl.setModel(value)"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model === value}"><i class="lmr lmr-{{::icon}}" ></i></button></div>',bindings:{model:"="}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("dragifywp.builder.app").component("dragifywpEdIconBox",{controller:function(){var e=this;this.setModel=this.config.requireValue?function(t){e.model!=t&&(e.model=t)}:function(t){e.model=e.model==t?"":t}},template:'<div class="dragifywp-ui__iconBox" ng-class="::{\'dragifywp-ui__iconBox--requireValue\': $ctrl.config.requireValue}"><button class="dragifywp-ui__iconBox__item" ng-click="$ctrl.setModel(icon)" ng-repeat="icon in ::$ctrl.config.icons" ng-class="{\'dragifywp-ui__iconBox__item--active\': $ctrl.model == icon}"><span class="{{::icon}}"></span></button></div>',bindings:{model:"=",config:"<"}}),angular.module("dragifywp.builder.app").component("dragifywpEdIcons",{controller:["$DragifyWPService","$DragifyWPHotKeys","$http","$timeout",function(e,t,i,n){var r=this;this.service=e,r.state="loading",void 0===this.config&&(this.config={requireValue:!0}),i({cache:!0,method:"GET",url:""+angular.module("dragifywp.builder.app").__config.global_api+r.config.url}).then(function(i){Array.isArray(i.data)?(r.icons=i.data,r.state="loaded",r.search="",r.select=function(e){r.model=r.model===e?"":e},r.expand=!1,r.open=function(){r.expand=!0,e.icons_expand=this.expand,t.escKeyPressManager.add(function(){return r.expand=!1,e.icons_expand=r.expand,!0})},r.close=function(){t.escKeyPressManager.execute()},r.$onDestroy=function(){e.icons_expand&&(e.icons_expand=!1),r.expand&&t.escKeyPressManager.pop()},r.update=function(e){r.model=e}):r.state="fail"},function(){r.state="fail"})}],template:'<div class="dragifywp-ui__loader" ng-class="\'dragifywp-ui__loader--\'+$ctrl.state"><div class="dragifywp-ui__loader__preload"><span></span><span></span><span></span></div><div class="dragifywp-ui__loader__failer">Error! cannot get data.</div></div><div ng-if="$ctrl.state == \'loaded\'"><div class="dragifywp-ui__icons" ng-class="{\'dragifywp-ui__icons--expand\':$ctrl.expand}"><div class="dragifywp-ui__icons__wrap"><span class="dragifywp-ui__icons__shorten" ng-show="$ctrl.expand" ng-click="$ctrl.close()">Shorten<i class="dashicons dashicons-arrow-down"></i></span><dragifywp-icon-list model="$ctrl.model" on-update="$ctrl.update(icon)" icons="$ctrl.icons" config="$ctrl.config" expand="$ctrl.expand"></dragifywp-icon-list></div></div><div class="dragifywp-ui__icons__footer"><span class="dragifywp-ui__icons__expand" ng-click="$ctrl.open()">Expand<i class="dashicons dashicons-arrow-up"></i></span></div></div>',bindings:{model:"=",config:"<"}}),angular.module("dragifywp.builder.app").component("dragifywpEdIcon",{controller:function(){"object"!=t(this.model)&&(this.model={source:"lnr",icon:"home"}),void 0===this.config&&(this.config={requireValue:!0}),this.tabs={LNR:"lnr",FA:"fa"};var e={};e[this.model.source]=this.model.icon,this.setSource=function(t){e[this.model.source]=this.model.icon,this.model.source=t,e.hasOwnProperty(this.model.source)?this.model.icon=e[this.model.source]:"fa"==this.model.source?this.model.icon="adjust":"lnr"==this.model.source&&(this.model.icon="home")},this.faConfig=angular.merge({url:"/font-awesome",source:"fa"},this.config),this.lnrConfig=angular.merge({url:"/linear-icons",source:"lnr"},this.config)},template:'<div class="dragifywp-ui__icon"><div class="dragifywp-ui__icon__tabs"><button ng-repeat="(k,v) in ::$ctrl.tabs" class="dragifywp-ui__icon__tab" ng-bind="::k" ng-click="$ctrl.setSource(v)" ng-class="{\'dragifywp-ui__icon__tab--active\':$ctrl.model.source == v}"></button></div><div class="dragifywp-ui__icon__container"><dragifywp-ed-icons model="$ctrl.model.icon" ng-if="$ctrl.model.source == \'fa\'" config="$ctrl.faConfig"></dragifywp-ed-icons><dragifywp-ed-icons model="$ctrl.model.icon" ng-if="$ctrl.model.source == \'lnr\'" config="$ctrl.lnrConfig"></dragifywp-ed-icons></div></div>',bindings:{model:"=",config:"<"}}),angular.module("dragifywp.builder.app").component("dragifywpEdSocialIcons",{controller:function(){this.config={url:"/font-awesome-social-icons",source:"fa"}},template:'<dragifywp-ed-icons model="$ctrl.model" config="$ctrl.config"></dragifywp-ed-icons>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdIconButtons",{controller:function(){this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="dragifywp-ui__buttonGroup"><button type="button" class="dragifywp-ui__buttonGroup__btn dragifywp-ui__buttonGroup__btn--smallIcon"ng-repeat="(k, v) in ::$ctrl.config.options"ng-click="$ctrl.setModel(v)"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model === v}"><i class="lmr lmr-{{::k}}" ></i></button></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdId",{controller:function(){var e=/^[a-zA-Z][\w-]*$/;this.checkValid=function(){if(this.model){var t=new RegExp(e);this.invalid=!t.test(this.model)}}},template:'<input app-undo-redo class="dragifywp-ui__input-text" ng-class="{\'dragifywp-ui-invalid\':$ctrl.invalid}" ng-model="$ctrl.model"type="text" ng-model-options="{ debounce: 250 }" ng-change="$ctrl.checkValid()"/>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdIframe",{controller:["$scope",function(e){this.model||(this.model="");var t=this;this.setModel=function(e){this.model=e},e.$watch("$ctrl.model",function(){t.visualModel=t.model}),e.$watch("$ctrl.visualModel",function(){var e=/<iframe .*src="(http[\S^"]+)".*><\/iframe>/g,i=e.exec(t.visualModel);t.model=null!=i?i[1]:t.visualModel})}],template:'<textarea app-undo-redo class="dragifywp-ui__textarea" ng-model="$ctrl.visualModel" rows="5" cols="20"></textarea>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdImageButtons",{controller:function(){this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="dragifywp-ui__buttonGroup"><button type="button" class="dragifywp-ui__buttonGroup__btn dragifywp-ui__buttonGroup__btn--image"ng-repeat="(k, v) in ::$ctrl.config"ng-click="$ctrl.setModel(k)"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model === k}"><span ng-style="::{\'background-image\':\'url('+angular.module("dragifywp.builder.app").__config.root+"/modules/img/'+v+')'}\"></span></button></div>",bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdImageGroup",{controller:["$scope","$DragifyWPService","$http",function(e,t,i){var n=this;this.service=t;var r,o;this.upload=function(){r=wp.media({title:"Upload or Choose from Media Library",button:{text:"Select Image"},multiple:!0}),r.on("select",function(){if(o=r.state().get("selection").toJSON(),void 0!==n.config&&void 0!==n.config.full&&n.config.full){var a=[];o.forEach(function(e){a.push({url:e.url,id:e.id,padding:100*e.sizes.full.height/e.sizes.full.width,width:e.sizes.full.width,height:e.sizes.full.height})}),i({method:"GET",cache:!0,url:angular.module("dragifywp.builder.app").__config.global_api+"/image-sizes-group",params:{items:JSON.stringify(a)}}).then(function(e){Array.isArray(e.data)&&e.data.forEach(function(e){var i=t.getChildModel(n.model.tag);i.attrs.image=e,t.addNode(n.model,i)})},function(e){o.forEach(function(e){var i=t.getChildModel(n.model.tag);i.attrs.image=e,t.addNode(n.model,i)})})}else o.forEach(function(i){e.$apply(function(){var e=t.getChildModel(n.model.tag);e.attrs.image.url=i.url,e&&t.addNode(n.model,e)})})}),r.open()},this.openChild=function(e){t.child=e,t.showChild=!0},this.removeAll=function(){t.removeAllChildNodes(this.model),this.show=!1},this.show=!1,this.dropCallback=function(e,i,n){return t.moveNode(n,e,i),i}}],template:'<div class="dragifywp-ui__imageGroup"><div class="dragifywp-ui__imageGroup__empty" ng-if="!$ctrl.model.content.length" ng-click="$ctrl.upload()"><div class="dragifywp-ui__imageGroup__empty__wrap"><i class="lmr lmr-upload2" aria-hidden="true"></i><span>Upload</span></div></div><div class="dragifywp-ui__imageGroup__list"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.model, index)"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.model)"dnd-list="$ctrl.model.content" dnd-horizontal-list="true" dnd-allowed-types="[\'image\']"><div class="dragifywp-ui__imageGroup__item"ng-repeat="child in $ctrl.model.content"dnd-disable-if="$ctrl.model.content.length < 2"dnd-moved="$ctrl.service.removeNodeFromParent($ctrl.model, $index)"dnd-draggable="child"dnd-type="\'image\'"dnd-effect-allowed="move"><div class="dragifywp-ui__imageGroup__item__img" ng-click="$ctrl.openChild(child)" ng-style="{\'background-image\': \'url(\'+child.attrs.image.url+\')\'}"></div><button class="dragifywp-ui__imageGroup__item__remove" ng-click="$ctrl.service.removeNode(child)"><i class="lmr lmr-cross2"></i></button><button class="dragifywp-ui__imageGroup__item__duplicate" ng-click="$ctrl.service.duplicateNodeWithoutScroll(child)"><i class="lmr lmr-copy"></i></button></div></div><div class="dragifywp-ui__itemGroup__action"><div ng-if="$ctrl.show" class="dragifywp-ui__itemGroup__action__confirm"><span class="dragifywp-ui__btn dragifywp-ui__btn--primary dragifywp-ui--marginRight5" ng-click="$ctrl.show=false">No, Never</span><span class="dragifywp-ui__btn dragifywp-ui__btn--plain dragifywp-ui__btn--remove-hover" ng-click="$ctrl.removeAll()">Yes</span></div><div ng-if="!$ctrl.show"><span ng-if="!$ctrl.show && $ctrl.model.content.length > 1" class="dragifywp-ui__btn dragifywp-ui__btn--plain dragifywp-ui__btn--remove-hover dragifywp-ui--marginRight5" ng-click="$ctrl.show=true">Remove All</span><span class="dragifywp-ui__btn dragifywp-ui__btn--primary" ng-click="$ctrl.upload()">Add Item</span></div></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdImageSelection",{controller:function(){},template:'<div class="dragifywp-ui__imageSelection"><div class="dragifywp-ui__imageSelection__image"ng-click="$ctrl.model=v"ng-repeat="(k, v) in ::$ctrl.config"ng-class="{\'dragifywp-ui__imageSelection__image--active\':$ctrl.model == v}"><img ng-src="{{\''+angular.module("dragifywp.builder.app").__config.img+'\'+k}}" width="50px" height="50px"/></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("dragifywp.builder.app").component("dragifywpEdItemGroup",{controller:["$DragifyWPService","$timeout",function(e,i){this.service=e,this.show=!1,this.addItem=function(){var t=e.getChildModel(this.model.tag);t&&e.addNode(this.model,t)},this.removeAll=function(){e.removeAllChildNodes(this.model),this.show=!1},this.select=function(t){e.child=t,e.showChild=!0},this.dropCallback=function(t,i,n){return e.moveNode(n,t,i),i},"object"===t(this.config)&&this.config.hasOwnProperty("refer")||(this.config={refer:"name"})}],template:'<div class="dragifywp-ui__itemGroup"><div class="dragifywp-ui__itemGroup__empty" ng-show="!$ctrl.model.content.length" ng-click="$ctrl.addItem()"><div class="dragifywp-ui__itemGroup__empty__icon"><i class="lmr lmr-plus" aria-hidden="true"></i><span>Add Item</span></div></div><div ng-if="$ctrl.model.content.length"><div class="dragifywp-ui__itemGroup__items"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.model, index)"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.model)"dnd-list="$ctrl.model.content" dnd-allowed-types="[\'itm\']"><div class="dragifywp-ui__itemGroup__item"ng-repeat="itm in $ctrl.model.content"dnd-disable-if="$ctrl.model.content.length < 2"dnd-moved="$ctrl.service.removeNodeFromParent($ctrl.model, $index)"dnd-draggable="itm"dnd-type="\'itm\'"dnd-effect-allowed="move"><h6 class="dragifywp-ui__itemGroup__item__title" ng-click="$ctrl.select(itm)" ng-bind="itm.attrs[$ctrl.config.refer]?(itm.attrs[$ctrl.config.refer]|shorten:14): itm.name+\' \'+($index+1)"></h6><span class="dragifywp-ui__itemGroup__item__remove" ng-click="$ctrl.service.removeNode(itm)"><i class="lmr lmr-trash2"></i></span><span class="dragifywp-ui__itemGroup__item__duplicate" ng-click="$ctrl.service.duplicateNode(itm)"><i class="lmr lmr-copy"></i></span></div></div><div class="dragifywp-ui__itemGroup__action"><div ng-if="$ctrl.show" class="dragifywp-ui__itemGroup__action__confirm"><span class="dragifywp-ui__btn dragifywp-ui__btn--primary dragifywp-ui--marginRight5" ng-click="$ctrl.show=false">No, Never</span><span class="dragifywp-ui__btn dragifywp-ui__btn--plain dragifywp-ui__btn--remove-hover" ng-click="$ctrl.removeAll()">Yes</span></div><div ng-if="!$ctrl.show"><span ng-if="!$ctrl.show && $ctrl.model.content.length > 1" class="dragifywp-ui__btn dragifywp-ui__btn--plain dragifywp-ui__btn--remove-hover dragifywp-ui--marginRight5" ng-click="$ctrl.show=true">Remove All</span><span class="dragifywp-ui__btn dragifywp-ui__btn--primary" ng-click="$ctrl.addItem()">Add Item</span></div></div></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdLabelSelection",{controller:function(){this.list=angular.merge({},this.config.list)},template:'<select ng-model="$ctrl.model" class="dragifywp-ui__select"><option ng-bind="$ctrl.config.label"></option><option ng-repeat="(key, value) in ::$ctrl.list" value="{{::key}}" ng-bind="::value"></option></select>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdLink",{controller:["$scope",function(e){}],template:'<div class="dragifywp-ui__link"><input app-undo-redo class="dragifywp-ui__link__input dragifywp-ui__input-text" ng-trim="true" ng-model="$ctrl.model.url" type="text" ng-model-options="{debounce:250}"/><span title="Open in a new tab" class="dragifywp-ui__link__newtab" ng-class="{\'dragifywp-ui__link__newtab--active\': $ctrl.model.new_tab}" ng-click="$ctrl.model.new_tab=!$ctrl.model.new_tab"><i class="lmr lmr-share"></i></span></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdMultiSelect",{controller:["$scope","$DragifyWPService","$DragifyWPHotKeys",function(e,t,i){var n=this,r=void 0;this.list=angular.merge({},this.config.list),this.formList=function(){r=this.model.split(",");for(var e in this.list)this.list[e].active=-1!=r.indexOf(e)},this.formList(),e.$watch("$ctrl.model",function(){n.formList()}),this.formModel=function(){r.length=0;for(var e in this.list)this.list[e].active&&r.push(e);this.generateModel()},this.checkAll=function(){r.length=0;for(var e in this.list)r.push(e),this.list[e].active=!0;this.generateModel()},this.uncheckAll=function(){r.length=0;for(var e in this.list)this.list[e].active=!1;this.generateModel()},this.generateModel=function(){this.model=r.join(",")},this.show=!1,this.open=function(){this.show||(t.icons_expand=!0,this.show=!0,i.escKeyPressManager.add(function(){return t.icons_expand=!1,n.show=!1,!0}))},this.close=function(){i.escKeyPressManager.execute()},this.isCheckedAll=function(){for(var e in this.list)if(!this.list[e].active)return!1;return!0}}],template:'<div class="dragifywp-ui__multiSelect"><div class="dragifywp-ui__multiSelect__popup" dragifywp-esc-to-close on-esc="$ctrl.close()" ng-if="$ctrl.show"><div class="dragifywp-ui__multiSelect__header"><button ng-click="$ctrl.uncheckAll()" ng-if="$ctrl.isCheckedAll()" class="dragifywp-ui__multiSelect__unCheckAllBtn">Uncheck All</button><button ng-click="$ctrl.checkAll()" class="dragifywp-ui__multiSelect__checkAllBtn">Check All</button><button ng-click="$ctrl.close()" class="dragifywp-ui__multiSelect__closeBtn" title="Close"><i class="lmr lmr-cross"></i></button></div><div class="dragifywp-ui__multiSelect__list"><div class="dragifywp-ui__multiSelect__list__item" ng-repeat="(k, v) in ::$ctrl.list"><label ng-click="$ctrl.formModel()"><span ng-bind="::v.name"></span><input type="checkbox" ng-model="v.active"/></label></div></div></div><div class="dragifywp-ui__multiSelect__openListBtn" ng-click="$ctrl.open()"><span ng-bind="::$ctrl.config.message"></span><i class="lmr lmr-text-align-justify"></i></div><div class="dragifywp-ui__multiSelect__selected"><button ng-repeat="(k, v) in ::$ctrl.list" ng-click="v.active=false; $ctrl.formModel()" ng-show="v.active"><span ng-bind="::v.name"></span><i class="lmr lmr-cross"></i></button></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdMultiSocialIcons",{controller:["$scope",function(e){var t=this;this.icons={facebook:!1,twitter:!1,github:!1,dribbble:!1,"stack-overflow":!1,medium:!1,youtube:!1,pinterest:!1,"envelope-square":!1,skype:!1,linkedin:!1,bitbucket:!1,slack:!1,snapchat:!1,behance:!1,codepen:!1,vimeo:!1,soundcloud:!1,whatsapp:!1,vine:!1,tumblr:!1,"google-plus":!1},this.model=this.model||{},this.formList=function(){for(var e in this.icons)this.icons[e]=this.model.hasOwnProperty(e)},e.$watch("$ctrl.model",function(){t.formList()},!0),this.select=function(e){this.icons[e]?(this.icons[e]=!1,delete this.model[e]):(this.icons[e]=!0,this.model[e]="#")}}],template:"<div class=\"dragifywp-ui__icons\"><div class=\"dragifywp-ui__icons__wrap\"><div class='dragifywp-ui__icons__container'><ul class='dragifywp-ui__icons__list'><li class='dragifywp-ui__icons__item' ng-repeat=\"(icon, active) in ::$ctrl.icons\"ng-class=\"{'active':$ctrl.icons[icon]}\"ng-click=\"$ctrl.select(icon)\"><i title=\"{{::icon}}\" class='fa fa-{{::icon}}'></i></li></ul></div></div></div><ul class='dragifywp-ui__icons__links'><li ng-repeat=\"(icon,link) in $ctrl.model\"><span class='fa fa-{{::icon}}'></span><input class=\"dragifywp-ui__input-text\" type='text' ng-model='$ctrl.model[icon]'></li></ul>",bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdNumber",{controller:function(){this.model||(this.model=0),this.updateNumber=function(e){this.model=e}},template:'<div class="dragifywp-ui__number"><input app-undo-redo class="dragifywp-ui__number__input dragifywp-ui__input-number" dragnumber on-update-number="$ctrl.updateNumber(number)" config="$ctrl.config" type="text" ng-trim="true" ng-model="$ctrl.model"/><span ng-bind="::$ctrl.config.unit"></span></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdParallax",{controller:function(){},template:'<div class="dragifywp-ui__sub-container"><dragifywp-ed-switch model="$ctrl.model.enable"></dragifywp-ed-switch></div><div class="dragifywp-ui__floatContainer" ng-if="$ctrl.model.enable"><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">X</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-slider model="$ctrl.model.x" config="{min:-1000, max:1000, step:1}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">Y</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-slider model="$ctrl.model.y" config="{min:-1000, max:1000, step:1}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">Z</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-slider model="$ctrl.model.z" config="{min:-1000, max:1000, step:1}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">Scale</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-slider model="$ctrl.model.scale" config="{min:0, max:3, step:0.05}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">Rotate X</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-slider model="$ctrl.model.rotateX" config="{min:-1000, max:1000, step:1}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">Rotate Y</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-slider model="$ctrl.model.rotateY" config="{min:-1000, max:1000, step:1}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__floatContainer__row"><div class="dragifywp-ui__floatContainer__title">Rotate Z</div><div class="dragifywp-ui__floatContainer__field"><dragifywp-ed-slider model="$ctrl.model.rotateZ" config="{min:-1000, max:1000, step:1}"></dragifywp-ed-slider></div></div></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdRadio",{controller:function(){var e=new Date;this.uniqueID="radio-uq-"+e.getMilliseconds()},template:'<div ng-repeat="(k, v) in ::$ctrl.config" style="margin-bottom:5px"><label><input type="radio" ng-model="$ctrl.model" name="{{::$ctrl.uniqueID}}" value="{{::v}}"/> {{::k}}</label></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdResClass",{controller:["$scope",function(e){var t=this;"string"!=typeof this.model&&(this.model=""),this.m={},this.setDevice=function(){var e=!0,t=!1,i=void 0;try{for(var n,r=this.config.devices[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value;this.m[o]=-1!=this.model.indexOf(o)}}catch(e){t=!0,i=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw i}}},this.setDevice(),this.formClass=function(e){this.m[e]=!this.m[e];var t=[];for(var i in this.m)this.m[i]&&t.push(this.config.prefix+"--"+i+"-"+this.config.suffix);this.model=t.join(" ")},e.$watch("$ctrl.model",function(){t.setDevice()})}],template:'<div class="dragifywp-ui__buttonGroup"><button class="dragifywp-ui__buttonGroup__btn dragifywp-ui__buttonGroup__btn--smallIcon" ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.m[d]}" ng-repeat="d in ::$ctrl.config.devices" ng-click="$ctrl.formClass(d)"><span class="lmr lmr-{{::d}}"></span></button></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};[{type:"text",default:{desktop:0},hasConfig:!0},{type:"slider",default:{desktop:0},hasConfig:!0},{type:"area",default:{desktop:"0px 0px 0px 0px"},hasConfig:!0},{type:"area2",default:{desktop:"0px 0px 0px 0px"},hasConfig:!0},{type:"unit",default:{desktop:"0px"},hasConfig:!0},{type:"text-align",default:{desktop:""},hasConfig:!1},{type:"align",default:{desktop:""},hasConfig:!1},{type:"spacing",default:{desktop:{margin:"0px 0px 0px 0px",border:"0px 0px 0px 0px",padding:"0px 0px 0px 0px"}},hasConfig:!0},{type:"selection",default:{desktop:""},hasConfig:!0},{type:"v-align",default:{desktop:""},hasConfig:!1},{type:"text-buttons",default:{desktop:""},hasConfig:!0},{type:"image-buttons",default:{desktop:""},hasConfig:!0},{type:"icon-buttons",default:{desktop:""},hasConfig:!0}].forEach(function(e){for(var i=e.type.split("-"),n=0;n<i.length;n++){var r=i[n];i[n]=r.charAt(0).toUpperCase()+r.substring(1)}var o=i.join(""),a={model:"="};e.hasConfig&&(a.config="<"),angular.module("dragifywp.builder.app").component("dragifywpEdRes"+o,{controller:["$DragifyWPService",function(i){this.devices=["desktop","tablet","mobile"],this.service=i,void 0!==this.model&&"object"==t(this.model)||(this.model=angular.merge({},e.default)),this.setDevice=function(e){this.service.previewDevice=e},this.updateTablet=function(){this.model.hasOwnProperty("tablet")?delete this.model.tablet:this.model.tablet="object"===t(this.model.desktop)?angular.merge({},this.model.desktop):this.model.desktop},this.updateMobile=function(){this.model.hasOwnProperty("mobile")?delete this.model.mobile:this.model.hasOwnProperty("tablet")?this.model.mobile="object"===t(this.model.tablet)?angular.merge({},this.model.tablet):this.model.tablet:this.model.mobile="object"===t(this.model.desktop)?angular.merge({},this.model.desktop):this.model.desktop},this.onDesktop=function(){return"desktop"==this.service.previewDevice||"tablet-l"==this.service.previewDevice||"tablet"==this.service.previewDevice&&!this.model.hasOwnProperty("tablet")||"mobile"==this.service.previewDevice&&!this.model.hasOwnProperty("mobile")&&!this.model.hasOwnProperty("tablet")},this.onTablet=function(){return"tablet"==this.service.previewDevice&&this.model.hasOwnProperty("tablet")||"mobile"==this.service.previewDevice&&!this.model.hasOwnProperty("mobile")&&this.model.hasOwnProperty("tablet")},this.onMobile=function(){return"mobile"==this.service.previewDevice&&this.model.hasOwnProperty("mobile")}}],template:'<div class="dragifywp-ui__resDevice" ng-class="\'dragifywp-ui__resDevice--\'+$ctrl.service.previewDevice"><div class="dragifywp-ui__resDevice__devices"><label ng-repeat="device in ::$ctrl.devices" ng-click="$ctrl.setDevice(device)"><span class="lmr lmr-{{::device}}"></span></label></div><div class="dragifywp-ui__resDevice__editor"><label class="dragifywp-ui__resDevice__toggle" ng-if="$ctrl.service.previewDevice == \'tablet\'" ng-class="{\'active\':$ctrl.model.hasOwnProperty(\'tablet\')}" ng-click="$ctrl.updateTablet()"></label><label class="dragifywp-ui__resDevice__toggle" ng-if="$ctrl.service.previewDevice == \'mobile\'" ng-class="{\'active\':$ctrl.model.hasOwnProperty(\'mobile\')}" ng-click="$ctrl.updateMobile()"></label><dragifywp-ed-'+e.type+" "+(e.hasConfig?'config="$ctrl.config"':"")+' model="$ctrl.model.desktop" ng-if="$ctrl.onDesktop()"></dragifywp-ed-'+e.type+"><dragifywp-ed-"+e.type+" "+(e.hasConfig?'config="$ctrl.config"':"")+' model="$ctrl.model.tablet" ng-if="$ctrl.onTablet()"></dragifywp-ed-'+e.type+"><dragifywp-ed-"+e.type+" "+(e.hasConfig?'config="$ctrl.config"':"")+' model="$ctrl.model.mobile" ng-if="$ctrl.onMobile()"></dragifywp-ed-'+e.type+"></div></div>",bindings:a})})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("dragifywp.builder.app").component("dragifywpEdResImage",{controller:["$DragifyWPService",function(e){"object"!==t(this.model)&&(this.model={enable:!1,desktop:"100vw",tablet:"100vw",mobile:"100vw"});var i=function(e){var t=e.split("-");return Math.floor(100*parseInt(t[0])/parseInt(t[1]))};this.autoGenerate=function(){for(var n=e.getParentNode(e.edited);"column"!=n.tag;)if(n=e.getParentNode(n),"object"!=(void 0===n?"undefined":t(n)))return;var r=n.attrs.width;this.model.desktop=i(r.desktop)+"vw",r.hasOwnProperty("tablet")?this.model.tablet=i(r.tablet)+"vw":this.model.tablet=this.model.desktop,r.hasOwnProperty("mobile")?this.model.mobile=i(r.mobile)+"vw":r.hasOwnProperty("tablet")?this.model.mobile=this.model.tablet:this.model.mobile=this.model.desktop}}],template:'<div class="dragifywp-ui__resImage"><div class="dragifywp-ui__sub-container"><dragifywp-ed-switch model="$ctrl.model.enable"></dragifywp-ed-switch><div class="dragifywp-ui--marginTop10"><p class="dragifywp-ui__desc" ng-if="!$ctrl.model.enable">Enable this button to implement responsive mode for the image via <strong>srcset</strong>.</p><p class="dragifywp-ui__desc" ng-if="$ctrl.model.enable">Depending on the context layout, you can choose the optional sizes for images to display on desktop, tablet or mobile.</p></div></div><div ng-if="$ctrl.model.enable"><div class="dragifywp-ui__sub-container"><dragifywp-ed-text-icon model="$ctrl.model.desktop" config="{icon:\'lmr lmr-desktop\'}"></dragifywp-ed-text-icon></div><div class="dragifywp-ui__sub-container"><dragifywp-ed-text-icon model="$ctrl.model.tablet" config="{icon:\'lmr lmr-tablet\'}"></dragifywp-ed-text-icon></div><div class="dragifywp-ui__sub-container"><dragifywp-ed-text-icon model="$ctrl.model.mobile" config="{icon:\'lmr lmr-mobile\'}"></dragifywp-ed-text-icon></div><div class="dragifywp-ui--marginTop15 dragifywp-ui--alignRight"><button class="dragifywp-ui__btn dragifywp-ui__btn--primary dragifywp-ui__btn--small" ng-click="$ctrl.autoGenerate()">Auto Generate</button></div></div></div>',bindings:{model:"="}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("dragifywp.builder.app").component("dragifywpEdRichEditor",{controller:["$scope",function(e){this.options={theme:"modern",paste_as_text:!0,menubar:!1,content_css:["//fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i"],content_style:"body{font-family:'Open sans',sans-serif!important; font-weight:300!important; font-size:12px!important;}",setup:function(t){t.shortcuts.add("meta+s","Trigger save",function(){e.$emit("promptSave")}),t.on("init",function(){t.formatter.register("serif_font",{inline:"span",classes:"dragifywp-serif"})}),t.addButton("serifFont",{text:"Serif",tooltip:"Serif Font",icon:!1,onclick:function(){t.execCommand("mceToggleFormat",!1,"serif_font")},onpostrender:function(){var e=this;t.on("init",function(){t.formatter.formatChanged("serif_font",function(t){e.active(t)})})}})},plugins:["colorpicker hr lists paste textcolor link fullscreen paste"]},"object"==t(this.config)?this.options=angular.merge(this.options,this.config):this.options=angular.merge(this.options,{force_br_newlines:!1,force_p_newlines:!1,forced_root_block:"",toolbar1:"bold italic underline strikethrough link unlink fullscreen | forecolor backcolor | serifFont"})}],template:'<textarea ui-tinymce="$ctrl.options" ng-model="$ctrl.model" style="opacity:0"></textarea>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdSelection",{controller:function(){},template:'<select ng-model="$ctrl.model" class="dragifywp-ui__select"><option ng-repeat="(key, value) in ::$ctrl.config" value="{{::key}}" ng-bind="::value"></option></select>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdSelectionLoader",{controller:["$http",function(e){var t=this;t.items=[],t.update=function(){t.state="loading",e({cache:!1,method:"GET",url:t.config.rest_url?angular.module("dragifywp.builder.app").__config.rest_url+t.config.url:t.config.url}).then(function(e){void 0!==e.data&&(t.items=e.data,t.state="loaded",sessionStorage.setItem(t.config.url,JSON.stringify(e.data)))},function(){t.state="fail"})};var i=sessionStorage.getItem(t.config.url);if(i)try{t.items=JSON.parse(i),t.state="loaded"}catch(e){t.update()}else t.update()}],template:'<div class="dragifywp-ui__loader" ng-class="\'dragifywp-ui__loader--\'+$ctrl.state"><div class="dragifywp-ui__loader__preload"><span></span><span></span><span></span></div><div class="dragifywp-ui__loader__failer">Error! Cannot get data from Server.</div></div><div ng-if="$ctrl.state==\'loaded\'"><dragifywp-selection model="$ctrl.model" list="$ctrl.items" name="$ctrl.config.name"></dragifywp-selection><div class="dragifywp-ui--marginTop7 dragifywp-ui--alignRight" ng-if="::$ctrl.config.add_new_url"><a class="dragifywp-ui__btn dragifywp-ui__btn--primary dragifywp-ui__btn--small dragifywp-ui--marginRight3" target="_blank" href="{{$ctrl.config.add_new_url}}">Add New</a><button class="dragifywp-ui__btn dragifywp-ui__btn--plain dragifywp-ui__btn--small" ng-click="$ctrl.update()">Update</button></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdSlider",{controller:function(){var e=this;isNaN(this.model)&&(this.model=0),this.onBlur=function(){isNaN(e.model)?e.model=e.config.min:e.model>e.config.max?e.model=e.config.max:e.model<e.config.min&&(e.model=e.config.min)},this.update=function(e){this.model=e}},template:'<div class="dragifywp-ui__slider__wrap"><dragifywp-slider config="$ctrl.config" model="$ctrl.model" on-update="$ctrl.update(v)"></dragifywp-slider><input type="number" app-undo-redo ng-model="$ctrl.model" ng-model-options="{ debounce: 250 }" ng-blur="$ctrl.onBlur()"/></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdSpacing",{controller:["$scope",function(e){var t=this;this.link=!1,this.toggleLink=function(){this.link=!this.link},this.reset=function(){void 0===this.model.margin&&(this.model.margin="0px 0px 0px 0px"),void 0===this.model.border&&(this.model.border="0px 0px 0px 0px"),void 0===this.model.padding&&(this.model.padding="0px 0px 0px 0px")},e.$watch("$ctrl.model",function(){t.reset()})}],template:'<div class="dragifywp-ui__spacing"><dragifywp-ed-spacing-layer parent="$ctrl.model" model="$ctrl.model.margin" identity="Margin" link="$ctrl.link" config="$ctrl.config.margin" drag-config="{min:-300, max:300, step:1}"></dragifywp-ed-spacing-layer><dragifywp-ed-spacing-layer parent="$ctrl.model" model="$ctrl.model.border" identity="Border" link="$ctrl.link" config="$ctrl.config.border" drag-config="{min:0, max:50, step:1}"></dragifywp-ed-spacing-layer><dragifywp-ed-spacing-layer parent="$ctrl.model" model="$ctrl.model.padding" identity="Padding" link="$ctrl.link" config="$ctrl.config.padding" drag-config="{min:0, max:500, step:1}"></dragifywp-ed-spacing-layer><div class="dragifywp-ui__spacing__link" ng-click="$ctrl.toggleLink()"><i class="fa fa-{{$ctrl.link?\'link\':\'chain-broken\'}}" aria-hidden="true"></i></div></div>',bindings:{config:"<",model:"="}}),angular.module("dragifywp.builder.app").component("dragifywpEdSpacingLayer",{controller:["$timeout","$scope",function(e,t){var i=this;i.keyPress={isMeta:!1,isShift:!1},this.$onInit=function(){this.reset()},this.reset=function(){e(function(){if(i.model){var e=i.model.split(" ");i.top=e[0],i.right=e[1],i.bottom=e[2],i.left=e[3]}})},t.$watchGroup(["$ctrl.parent","$ctrl.model"],function(){i.reset()}),this.updateKeyPress=function(e,t){this.keyPress.isMeta=e,this.keyPress.isShift=t},this.formModel=function(t){e(function(){if(i.link){var e=i.bottom;i.config[3]&&(i.left=e),i.config[0]&&(i.top=e),i.config[1]&&(i.right=e)}if(i.keyPress.isMeta&&i.keyPress.isShift)i.config[0]&&(i.top=i[t]),i.config[1]&&(i.right=i[t]),i.config[2]&&(i.bottom=i[t]),i.config[3]&&(i.left=i[t]);else if(i.keyPress.isMeta)switch(t){case"top":i.bottom=i.top;break;case"bottom":i.top=i.bottom;break;case"left":i.right=i.left;break;case"right":i.left=i.right}i.model=[i.top,i.right,i.bottom,i.left].join(" ")})}}],template:'<div class="dragifywp-ui__spacing__layer dragifywp-ui__spacing__layer--{{$ctrl.identity}}"><h6 class="dragifywp-ui__spacing__identity" ng-bind="$ctrl.identity"></h6><dragifywp-sp-spacing-input ng-if="$ctrl.config[0]" on-update-keypress="$ctrl.updateKeyPress(meta,shift)" ng-show="!$ctrl.link" model="$ctrl.top" change="$ctrl.formModel(\'top\')" position="top" config="$ctrl.dragConfig"></dragifywp-sp-spacing-input><dragifywp-sp-spacing-input ng-if="$ctrl.config[1]" on-update-keypress="$ctrl.updateKeyPress(meta,shift)" ng-show="!$ctrl.link" model="$ctrl.right" change="$ctrl.formModel(\'right\')" position="right" config="$ctrl.dragConfig"></dragifywp-sp-spacing-input><dragifywp-sp-spacing-input ng-if="$ctrl.config[2]" on-update-keypress="$ctrl.updateKeyPress(meta,shift)" model="$ctrl.bottom" change="$ctrl.formModel(\'bottom\')" position="bottom" config="$ctrl.dragConfig"></dragifywp-sp-spacing-input><dragifywp-sp-spacing-input ng-if="$ctrl.config[3]" on-update-keypress="$ctrl.updateKeyPress(meta,shift)" ng-show="!$ctrl.link" model="$ctrl.left" change="$ctrl.formModel(\'left\')" position="left" config="$ctrl.dragConfig"></dragifywp-sp-spacing-input></div>',bindings:{model:"=",parent:"=",link:"<",identity:"@",config:"<",dragConfig:"<"}}),angular.module("dragifywp.builder.app").component("dragifywpSpSpacingInput",{controller:function(){this.updateKeyPress=function(e,t){this.onUpdateKeypress({meta:e,shift:t})}},template:'<div class="dragifywp-ui__spacing__field dragifywp-ui__spacing__field--{{::$ctrl.position}}"><input app-undo-redo dragifywp-drag-unit on-update-keypress="$ctrl.updateKeyPress(meta, shift)" class="dragifywp-ui__spacing__field__input" type="text" ng-model="$ctrl.model" ng-change="$ctrl.change()" config="$ctrl.config"><span class="dragifywp-ui__spacing__field__model" ng-bind="$ctrl.model"></span></div>',bindings:{model:"=",change:"&",position:"@",config:"<",onUpdateKeypress:"&"}})},function(e,exports){"use strict";var t=0;angular.module("dragifywp.builder.app").component("dragifywpEdSwitch",{controller:function(){this.id="lbswid-"+ ++t},template:'<div class="dragifywp-ui__switch"><input class="dragifywp-ui__switch__checkbox" type="checkbox" ng-model="$ctrl.model" id="{{::$ctrl.id}}"/><label class="dragifywp-ui__switch__btn" for="{{::$ctrl.id}}"><span class="dragifywp-ui__switch__btn__toggle"></span></label></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdIdSearcher",{controller:["$DragifyWPService","$DragifyWPHotKeys",function(e,t){var i=this;this.service=e,i.IDs={};this.shown=!1,this.show=!1;!function e(t){if(t.hasOwnProperty("attrs")&&t.attrs.hasOwnProperty("id")){var n=t.attrs.id.trim();n&&(i.IDs[n]=!1)}if(Array.isArray(t.content))for(var r=0,o=t.content.length;r<o;r++)e(t.content[r])}(this.service),this.openPanel=function(){this.ids=angular.merge({},this.IDs);var n=!0,r=!1,o=void 0;try{for(var a,s=this.model.content[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;this.IDs.hasOwnProperty(l.attrs.point_to)&&delete this.ids[l.attrs.point_to]}}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}if(angular.equals(this.ids,{})){var c=0==this.model.content.length?"<p>None of your components is assigned an ID. Add IDs for your items to start creating tabs.</p>":"<p>All existing IDs have been selected.</p>";e.showDialog({template:c,cancelButton:{text:"OK"}})}else this.popupShown=!0,t.escKeyPressManager.add(function(){return i.popupShown=!1,!0})},this.removeAll=function(){e.removeAllChildNodes(this.model),this.show=!1},this.select=function(t){e.child=t,e.showChild=!0},this.close=function(){t.escKeyPressManager.execute()},this.addItem=function(){var t=[];for(var n in i.ids)if(i.ids[n]){var r=e.getChildModel(this.model.tag);r.attrs.point_to=n,t.push(r)}e.addNodes(this.model,t),this.close()},this.dropCallback=function(t,i,n){return e.moveNode(n,t,i),i},this.$onDestroy=function(){this.popupShown&&t.escKeyPressManager.pop()}}],template:'<div class="dragifywp-ui__itemGroup"><div class="dragifywp-ui__itemGroup__empty" ng-show="!$ctrl.model.content.length" ng-click="$ctrl.openPanel()"><div class="dragifywp-ui__itemGroup__empty__icon"><i class="lmr lmr-plus" aria-hidden="true"></i><span>Add Item</span></div></div><div ng-if="$ctrl.model.content.length"><div class="dragifywp-ui__itemGroup__items"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.model, index)"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.model)"dnd-list="$ctrl.model.content" dnd-allowed-types="[\'itm\']"><div class="dragifywp-ui__itemGroup__item"ng-repeat="itm in $ctrl.model.content"dnd-disable-if="$ctrl.model.content.length < 2"dnd-moved="$ctrl.service.removeNodeFromParent($ctrl.model, $index)"dnd-draggable="itm"dnd-type="\'itm\'"dnd-effect-allowed="move"><h6 class="dragifywp-ui__itemGroup__item__title" ng-click="$ctrl.select(itm)" ng-bind="(itm.attrs.name|shorten:18) || (\'Tab \'+$index)"></h6><span class="dragifywp-ui__itemGroup__item__remove" ng-click="$ctrl.service.removeNode(itm)"><i class="lmr lmr-trash2"></i></span></div></div><div class="dragifywp-ui__itemGroup__action"><div ng-if="$ctrl.show" class="dragifywp-ui__itemGroup__action__confirm"><span class="dragifywp-ui__btn dragifywp-ui__btn--primary dragifywp-ui--marginRight5" ng-click="$ctrl.show=false">No, Never</span><span class="dragifywp-ui__btn dragifywp-ui__btn--plain dragifywp-ui__btn--remove-hover" ng-click="$ctrl.removeAll()">Yes</span></div><div ng-if="!$ctrl.show"><span ng-if="!$ctrl.show && $ctrl.model.content.length > 1" class="dragifywp-ui__btn dragifywp-ui__btn--plain dragifywp-ui__btn--remove-hover dragifywp-ui--marginRight5" ng-click="$ctrl.show=true">Remove All</span><span class="dragifywp-ui__btn dragifywp-ui__btn--primary" ng-click="$ctrl.openPanel()">Add Item</span></div></div></div></div><div class="dragifywp-ui__popup" ng-class="{\'dragifywp-ui__popup--show\':$ctrl.popupShown}"><h6 class="dragifywp-ui__popup__title">Select IDs</h6><span class="dragifywp-ui__popup__close lmr lmr-cross" ng-click="$ctrl.close()"></span><div class="dragifywp-ui__popup__container"><ul class="dragifywp-ui__idSearcher__list"><li ng-repeat="(id, checked) in $ctrl.ids"><label><span ng-bind="::id"></span> <input type="checkbox" ng-model="$ctrl.ids[id]"/></label></li></ul><div class="dragifywp-ui__idSearcher__btnContainer"><button class="dragifywp-ui__idSearcher__selectBtn dragifywp-ui__btn dragifywp-ui__btn--primary" ng-click="$ctrl.addItem()">Select</button></div></div></div><div class="dragifywp-ui__popup__backdrop" ng-click="$ctrl.close()"></div>',bindings:{model:"="}}),angular.module("dragifywp.builder.app").component("dragifywpEdActiveTab",{controller:["$DragifyWPService",function(e){var t=this,i=angular.element(e.getIframeDoc());this.tabs=e.edited.content,this.switchTab=function(){for(var e=0,n=t.tabs.length;e<n;e++){var r=t.tabs[e],o=r.attrs.point_to;i.find("#"+o).removeClass("active");var a=i.find("[data-tab-name="+o+"]");a.hasClass("dragifywp-tab--active")&&a.removeClass("dragifywp-tab--active").append(angular.element("<style type='text/css'>#"+o+"{display:none}</style>"))}t.model&&(i.find("#"+t.model).addClass("active"),i.find("[data-tab-name="+t.model+"]").addClass("dragifywp-tab--active").find("style").remove())}}],template:'<select class="dragifywp-ui__select" ng-model="$ctrl.model" ng-change="$ctrl.switchTab()"><option value="">Select a tab</option><option ng-repeat="tab in $ctrl.tabs" value="{{::tab.attrs.point_to}}" ng-bind="::tab.attrs.point_to"></option></select>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdTag",{controller:function(){},template:'<div class="dragifywp-ui__buttonGroup"><button class="dragifywp-ui__buttonGroup__btn dragifywp-ui__buttonGroup__btn--tag" ng-click="$ctrl.model=tag" ng-repeat="tag in ::$ctrl.config" ng-bind="::tag" ng-class="{\'dragifywp-ui__buttonGroup__btn--active\': $ctrl.model == tag}"></button></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdText",{controller:function(){},template:'<div class="dragifywp-ui__text"><input app-undo-redo class="dragifywp-ui__text__input dragifywp-ui__input-text" ng-trim="true" ng-model="$ctrl.model" type="text" ng-model-options="{debounce:250}"/><span class="dragifywp-ui__text__clear-btn" ng-show="$ctrl.model" ng-click="$ctrl.model=\'\'"><i class="lmr lmr-cross"></i></span></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdTextAlign",{controller:function(){this.aligns=["left","center","right","justify"],this.active="active",this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="dragifywp-ui__buttonGroup"><button type="button" class="dragifywp-ui__buttonGroup__btn dragifywp-ui__buttonGroup__btn--smallIcon"ng-repeat="align in ::$ctrl.aligns"ng-click="$ctrl.setModel(align)"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model === align}"><i class="lmr lmr-text-align-{{::align}}" ></i></button></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdTextButtons",{controller:function(){this.config.hasOwnProperty("class")?this.class="dragifywp-ui__buttonGroup__btn--"+this.config.class:this.class="dragifywp-ui__buttonGroup__btn--smallText"},template:'<div class="dragifywp-ui__buttonGroup"><button type="button" class="dragifywp-ui__buttonGroup__btn {{::$ctrl.class}}"ng-repeat="(k, v) in ::$ctrl.config.options"ng-click="$ctrl.model=k"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model == k}" ng-bind-html="::v"></button></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdTextIcon",{controller:function(){},template:'<div class="dragifywp-ui__text dragifywp-ui__text--hasIcon"><span class="dragifywp-ui__text__icon"><i class="{{::$ctrl.config.icon}}"></i></span><input app-undo-redo class="dragifywp-ui__text__input dragifywp-ui__input-text" ng-trim="true" ng-model="$ctrl.model" type="text" ng-model-options="{debounce:500}"/></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdTextTransform",{controller:function(){void 0===this.model&&(this.model=""),this.sample={AA:"uppercase",Aa:"capitalize",aa:"lowercase"},this.setModel=function(e){this.model=this.model==e?"":e}},template:'<div class="dragifywp-ui__textTransform"><div class="dragifywp-ui__buttonGroup"><button class="dragifywp-ui__buttonGroup__btn"ng-repeat="(k, v) in $ctrl.sample"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model == v}"ng-click="$ctrl.setModel(v)"><span class="dragifywp-ui__textTransform__value" ng-bind="::k"></span></button></div></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdTextarea",{controller:function(){},template:'<textarea app-undo-redo class="dragifywp-ui__textarea" ng-trim="true" ng-model="$ctrl.model" rows="5" cols="20"  ng-model-options="{ debounce: 250 }"></textarea>',bindings:{model:"="}})},function(e,exports){"use strict";var t=0;angular.module("dragifywp.builder.app").component("dragifywpEdTinySwitch",{controller:function(){this.id="lbtswid-"+ ++t},template:'<div class="dragifywp-ui__tinySwitch"><input class="dragifywp-ui__tinySwitch__checkbox" type="checkbox" ng-model="$ctrl.model" id="{{::$ctrl.id}}"/><label class="dragifywp-ui__tinySwitch__btn" for="{{::$ctrl.id}}"><span class="dragifywp-ui__tinySwitch__btn__toggle"></span></label></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdUiSelect",{controller:function(){},template:'<ui-select ng-model="$ctrl.model" theme="selectize" style="width: 100%;" title="{{::$ctrl.config.title}}"><ui-select-match placeholder="{{::$ctrl.config.placeholder}}">{{$select.selected.key}}</ui-select-match><ui-select-choices repeat="item.value as item in $ctrl.config.options|filter: $select.search"><span ng-bind="item.key"></span></ui-select-choices></ui-select>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdUnit",{controller:["$scope",function(e){var t=this;void 0===this.config&&(this.config={}),this.config.hasOwnProperty("setting")||(this.config.setting={min:0,max:1e3,step:1}),this.config.hasOwnProperty("units")||(this.config.units=["px","em","%"]);var i=function(){var e=void 0,i=void 0,n=!0,r=!1,o=void 0;try{for(var a,s=t.config.units[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(-1!=(e=t.model.lastIndexOf(l))){i=l;break}}}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}if(-1!=e){var c=t.model.substring(0,e);isNaN(c)||(t.number=+c,t.unit=i)}else t.model="0"+t.config.units[0],t.number=0,t.unit=t.config.units[0]};"string"!=typeof this.model?(this.model="0"+this.config.units[0],this.number=0,this.unit=this.config.units[0]):i(),this.formModel=function(e){this.unit=e,this.model=this.number+this.unit},e.$watch("$ctrl.model",function(){i()}),this.updateNumber=function(e){this.number=e,this.model=this.number+this.unit}}],template:'<div class="dragifywp-ui__unit"><input dragnumber class="dragifywp-ui__unit__input"config="$ctrl.config.setting" type="number"app-undo-redo ng-model-options="{debounce: 250}"ng-model="$ctrl.number"on-update-number="$ctrl.updateNumber(number)"ng-change="$ctrl.model=$ctrl.number+$ctrl.unit"/><div class="dragifywp-ui__unit__selector"><span class="dragifywp-ui__unit__selector__btn"ng-repeat="unit in ::$ctrl.config.units"ng-class="{\'dragifywp-ui__unit__selector__btn--active\': $ctrl.unit == unit}"ng-click="$ctrl.formModel(unit)" ng-bind="::unit"></span></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("dragifywp.builder.app").component("dragifywpEdUploadImage",{controller:["$scope","$http",function(e,i){var n,r,o=this;"object"!==t(this.model)&&(this.model={url:""}),this.upload=function(){n=wp.media({title:"Upload or Choose from Media Library",button:{text:"Select Image"},multiple:!1}),n.on("select",function(){r=n.state().get("selection").first().toJSON(),void 0!==o.config&&void 0!==o.config.full&&o.config.full?i({method:"GET",cache:!0,url:angular.module("dragifywp.builder.app").__config.global_api+"/image-sizes",params:{id:r.id,url:r.url}}).then(function(e){o.model.url=r.url,o.model.id=r.id,o.model.padding=100*r.sizes.full.height/r.sizes.full.width,o.model.width=r.sizes.full.width,o.model.height=r.sizes.full.height,-1!=e.data?o.model.sizes=e.data:delete o.model.sizes},function(e){o.model.url=r.url,o.model.id=r.id,o.model.padding=100*r.sizes.full.height/r.sizes.full.width,o.model.width=r.sizes.full.width,o.model.height=r.sizes.full.height,delete o.model.sizes}):e.$apply(function(){o.model.url=r.url})}),n.open()},this.remove=function(){this.model.url=""}}],template:'<div class="dragifywp-ui__upload-image"><div class="dragifywp-ui__upload-image__empty" ng-show="!$ctrl.model.url" ng-click="$ctrl.upload()"><div class="dragifywp-ui__upload-image__empty__icon"><i class="lmr lmr-upload2"></i><span>Upload</span></div></div><div class="dragifywp-ui__upload-image__image" ng-class="::{\'dragifywp-ui__upload-image__image--contain\':$ctrl.config.contain}" ng-show="$ctrl.model.url" ng-style="{\'background-image\':\'url(\'+$ctrl.model.url+ \')\'}"><span title="Remove the Image" class="dragifywp-ui__upload-image__image__remove" ng-click="$ctrl.remove()"><i class="lmr lmr-trash2"></i></span><span title="Re-Upload Image" class="dragifywp-ui__upload-image__image__reupload" ng-click="$ctrl.upload()"><i class="lmr lmr-upload2"></i></span></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdUploadImageV2",{controller:["$scope",function(e){var t,i,n=this;this.upload=function(){t=wp.media({title:"Upload or Choose from Media Library",button:{text:"Select Image"},multiple:!1}),t.on("select",function(){i=t.state().get("selection").first().toJSON(),void 0!==n.config&&void 0!==n.config.full&&n.config.full?$http({method:"GET",cache:!0,url:angular.module("dragifywp.builder.app").__config.global_api+"/image-sizes",params:{id:i.id,url:i.url}}).then(function(e){n.model.url=i.url,n.model.id=i.id,n.model.padding=100*i.sizes.full.height/i.sizes.full.width,-1!=e.data?n.model.sizes=e.data:delete n.model.sizes},function(e){n.model.url=i.url,n.model.id=i.id,n.model.padding=100*i.sizes.full.height/i.sizes.full.width,delete n.model.sizes}):e.$apply(function(){n.model.url=i.url})}),t.open()},this.remove=function(){this.model.url=""},this.updatePosition=function(e){this.model.position=e}}],template:'<div class="dragifywp-ui__upload-image-v2" ng-class="{\'dragifywp-ui__upload-image-v2--empty\': !$ctrl.model.url}"><div class="dragifywp-ui__upload-image-v2__container"><div class="dragifywp-ui__upload-image-v2__empty" ng-click="$ctrl.upload()"><div class="dragifywp-ui__upload-image-v2__empty__icon"><span class="lmr lmr-upload2"></span>Upload Image </div></div><div class="dragifywp-ui__upload-image-v2__image"ng-style="{\'background-image\':\'url(\'+$ctrl.model.url+ \')\', \'background-position\':$ctrl.model.position}"drag-position model="$ctrl.model.position" on-update="$ctrl.updatePosition(position)"></div></div><div class="dragifywp-ui__upload-image-v2__btns"><span title="Re-upload" class="dragifywp-ui__upload-image-v2__btn-upload" ng-click="$ctrl.upload()"><i class="lmr lmr-upload2"></i> Upload</span><span title="Remove" class="dragifywp-ui__upload-image-v2__btn-remove" ng-click="$ctrl.remove()"><i class="lmr lmr-trash2"></i> Remove</span></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdVAlign",{controller:function(){this.aligns={"align-left":"left","align-center-vertical":"center","align-right":"right"},this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="dragifywp-ui__buttonGroup"><button type="button" class="dragifywp-ui__buttonGroup__btn"ng-repeat="(icon, value) in ::$ctrl.aligns"ng-click="$ctrl.setModel(value)"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model === value}"><i class="lmr lmr-{{::icon}}" ></i></button></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("appUndoRedo",["$DragifyWPService","$DragifyWPHotKeys",function(e,t){return{restrict:"A",link:function(i,n){Mousetrap(n[0]).bind(["mod+z"],function(n){return n.preventDefault(),t.active&&i.$apply(function(){e.commandManager.undo()}),!1}).bind(["mod+shift+z"],function(n){return n.preventDefault(),t.active&&i.$apply(function(){e.commandManager.redo()}),!1})}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragifywpAutoFocus",function(){return{restrict:"A",link:function(e,t,i){t.focus()}}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragifywpBsTabHandler",["$DragifyWPService",function(e){return{scope:{dragifywpBsTabHandler:"@"},restrict:"A",link:function(t,i,n){if("editor"==t.dragifywpBsTabHandler){var r=void 0;i.on("mouseenter",function(){void 0!==e.edited&&void 0!==(r=angular.element(e.getIframeElement(".lvh__"+e.getID(e.edited))))&&(r.addClass("dragifywp-dnd__visual--show"),i.on("mouseleave",function(){r.removeClass("dragifywp-dnd__visual--show"),r=void 0,i.unbind("mouseleave")}))}),i.on("click",function(){e.scrollToElement(e.edited)})}}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragifywpDetectHoverNode",["$DragifyWPService",function(e){return{scope:{dragifywpDetectHoverNode:"<"},restrict:"A",link:function(t,i,n){i.on("mouseenter",function(){e.hoveredNode=t.dragifywpDetectHoverNode}),i.on("mouseleave",function(){e.hoveredNode=void 0})}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragnumber",["$document","$timeout",function(e,t){return{require:"ngModel",scope:{onUpdateNumber:"&",ngModel:"<",config:"<"},link:function(i,n,r){function o(e){t.cancel(s),s=t(function(){u=e.pageY-c,d=e.pageX-l;var t=u<0?Math.floor(-u/f):-Math.floor(u/f);t=Math.abs(t)>Math.abs(u)?-u:t;var n=parseInt(p)+t*i.config.step;n>i.config.max&&(n=i.config.max),n<i.config.min&&(n=i.config.min),i.onUpdateNumber({number:n})},10)}function a(){e.off("mousemove",o),e.off("mouseup",a),g.remove()}void 0==i.ngModel&&(i.ngModel=0);var s,l=0,c=0,d=0,u=0,p=0,f=300/((i.config.max-i.config.min)/i.config.step);n.css({cursor:"ns-resize"});var g=angular.element("<div></div>");g.css({zIndex:"9999999",position:"fixed",backgroundColor:"transparent",top:0,left:0,bottom:0,right:0,cursor:"ns-resize"}),n.on("mousedown",function(t){p=i.ngModel,l=t.pageX,c=t.pageY,e.on("mousemove",o),e.on("mouseup",a),angular.element("body").append(g)})}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragPosition",["$document","$timeout",function(e,t){return{restrict:"A",scope:{model:"<",onUpdate:"&"},link:function(i,n,r){function o(e){t.cancel(c),f=e.pageY-u,p=e.pageX-d,l=f<0?0:f>g?100:100*f/g,s=p<0?0:p>m?100:100*p/m,c=t(function(){i.onUpdate({position:s.toFixed(2)+"% "+l.toFixed(2)+"%"})},10)}function a(){e.off("mousemove",o),e.off("mouseup",a)}var s,l,c=void 0,d=0,u=0,p=0,f=0,g=n.height(),m=n.width();i.model||i.onUpdate({position:"50% 50%"});var _=angular.element('<span class="drag-point"></span>');n.append(_),i.$watch("model",function(){var e=i.model.split(" ");p=e[0],f=e[1],f=parseFloat(f.substring(0,f.length-1))*g/100,p=parseFloat(p.substring(0,p.length-1))*m/100,_.css({top:f+"px",left:p+"px"})}),_.on("mousedown",function(t){t.preventDefault(),d=t.pageX-p,u=t.pageY-f,e.on("mousemove",o),e.on("mouseup",a)})}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragifywpDragUnit",["$document","$timeout",function(e,t){return{require:"ngModel",scope:{ngChange:"&",ngModel:"=",config:"<",onUpdateKeypress:"&"},link:function(i,n,r){function o(e){t.cancel(s),s=t(function(){u=e.pageY-c,d=e.pageX-l;var n=u<0?Math.floor(-u/g):-Math.floor(u/g);n=Math.abs(n)>Math.abs(u)?-u:n,i.ngModel=parseInt(p)+n*i.config.step,i.ngModel>i.config.max&&(i.ngModel=i.config.max),i.ngModel<i.config.min&&(i.ngModel=i.config.min),i.ngModel+=f,i.onUpdateKeypress({meta:e.metaKey,shift:e.shiftKey}),void 0!==i.ngChange&&t(i.ngChange,0)},10)}function a(){e.off("mousemove",o),e.off("mouseup",a),m.remove(),i.onUpdateKeypress({meta:!1,shift:!1})}void 0===i.ngModel&&(i.ngModel="0px");var s=void 0,l=0,c=0,d=0,u=0,p=0,f="px",g=300/((i.config.max-i.config.min)/i.config.step);n.css({cursor:"ns-resize"}),n.on({keydown:function(e){if(32===e.which)return!1},change:function(){this.value=this.value.replace(/\s/g,"")}});var m=angular.element("<div></div>");m.css({zIndex:"9999999",position:"fixed",backgroundColor:"transparent",top:0,left:0,bottom:0,right:0,cursor:"ns-resize"}),n.on("mousedown",function(t){/^((\+?|-?)(\d+|\d+\.\d+))(px|em|\%|vh|vw)$/g.test(i.ngModel)||(i.ngModel="0px");var n=/^((\+?|-?)(\d+|\d+\.\d+))(px|em|\%|vh|vw)$/g.exec(i.ngModel);f=n[n.length-1],p=n[1],l=t.pageX,c=t.pageY,e.on("mousemove",o),e.on("mouseup",a),angular.element("body").append(m)})}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("embedFontSource",function(){return{restrict:"E",scope:{directiveModel:"<",selector:"@"},link:function(e,t,i){e.$watch("directiveModel",function(){if("google"==e.directiveModel.source){t.html("");var i=jQuery("<link rel='stylesheet'/>"),n=jQuery("<style type='text/css'></style>");if(t.append(i),t.append(n),e.directiveModel.google){var r=e.directiveModel.google.variant.match(/[0-9]+/g),o=e.directiveModel.google.variant.match(/[a-z]+/g),a=null!=r?r:"normal",s="normal";"regular"==o?(a="normal",s="normal"):"italic"==o&&(s="italic"),i.attr("href","https://fonts.googleapis.com/css?family="+e.directiveModel.google.family+":"+e.directiveModel.google.variant+"&subset="+e.directiveModel.google.subset),n.html(e.selector+"{font-family:"+e.directiveModel.google.family+";font-style:"+s+";font-weight:"+a+";}")}}else if("uploaded"==e.directiveModel.source){var l="";if(angular.module("dragifywp.builder.app").__config.uploaded_fonts.hasOwnProperty(e.directiveModel.uploaded)){var c=angular.module("dragifywp.builder.app").__config.uploaded_fonts[e.directiveModel.uploaded];if(c.enable){var d=c.family,u="";c.fallback&&(u=", "+c.fallback),d||(d="font_uploaded_"+e.directiveModel.uploaded),l='<style type="text/css">'+e.selector+" {font-family: '"+d+"'"+u+";}</style>"}}t.html(l)}else if("typekit"==e.directiveModel.source){var n="";e:for(var p in angular.module("dragifywp.builder.app").__config.typekit_fonts)if(angular.module("dragifywp.builder.app").__config.typekit_fonts[p].active){var f=!0,g=!1,m=void 0;try{for(var _,v=angular.module("dragifywp.builder.app").__config.typekit_fonts[p].fonts[Symbol.iterator]();!(f=(_=v.next()).done);f=!0){var h=_.value;if(h.id==e.directiveModel.typekit){var y="";h.fallback&&(y=", "+h.fallback),n='<style type="text/css">'+e.selector+" {font-family: '"+h.family+"'"+y+";}</style>";break e}}}catch(e){g=!0,m=e}finally{try{!f&&v.return&&v.return()}finally{if(g)throw m}}}t.html(n)}else t.html("")},!0)}}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragifywpExpandWatcher",function(){return{restrict:"A",scope:{dragifywpExpandWatcher:"<"},link:function(e,t,i){var n=0;e.$watch("dragifywpExpandWatcher",function(){e.dragifywpExpandWatcher?(n=t.scrollTop(),t.scrollTop(0),t.addClass("dragifywp-bs__editor__body--hidden")):(t.removeClass("dragifywp-bs__editor__body--hidden"),t.scrollTop(n))})}}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,i,n){var r=e(n.fileModel),o=r.assign;i.bind("change",function(){t.$apply(function(){o(t,i[0].files[0])})})}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("frontendCompile",["$DragifyWPService",function(e){return{restrict:"EA",scope:{model:"<",attrs:"<",watchContent:"<",callback:"@",delay:"@",destroyCallback:"@"},link:function(t,i,n){var r=e.getIframeJQuery(),o=r(i);if(Array.isArray(t.attrs)){var a,s=t.attrs.map(function(e){return"model.attrs."+e}),l={},c=t.delay?parseInt(t.delay):500;t.watchContent&&s.push("model.content"),t.$watchGroup(s,function(){clearTimeout(a),a=setTimeout(function(){t.attrs.forEach(function(e){l[e]=t.model.attrs[e]}),t.watchContent&&(l.content=t.model.content),o[t.callback](l)},c)})}else t.callback&&o[t.callback]();i.on("$destroy",function(){a&&clearTimeout(a),t.destroyCallback&&"function"==typeof o[0][t.destroyCallback]&&o[0][t.destroyCallback]()})}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("googleFonts",["$http",function(e){return{restrict:"A",scope:{ngModel:"="},link:function(t,i,n){i.append('<div class="dragifywp-ui__loader__preload"><span></span><span></span><span></span></div>'),e.get("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBgzCr9pt5xS09me72S91tTaCmLtAzWkOE",{cache:!0}).then(function(e){var n=!1;t.$watch("ngModel",function(){function r(e,t){a&&a.empty(),g="";for(var n in e){var r=e[n]==t?" selected = 'selected' ":"";g+='<option value="'+e[n]+'"'+r+">"+e[n]+"</option>"}s?(s.select2("destroy"),s.append(g),s.select2()):(a.append(g),i.append(jQuery("<p class='dragifywp-ui-gf-label dragifywp-ui-gf-variants'>Variants</p>").append(a)),s=jQuery(a).select2())}function o(e,t){l&&l.empty(),m="";for(var n in e){var r=e[n]==t?" selected = 'selected' ":"";m+='<option value="'+e[n]+'"'+r+">"+e[n]+"</option>"}c?(c.select2("destroy"),c.append(m),c.select2()):(l.append(m),i.append(jQuery("<p class='dragifywp-ui-gf-label dragifywp-ui-gf-subsets'>Subsets</p>").append(l)),c=jQuery(l).select2())}if(n)return void(n=!1);var a,s,l,c,d,u=new Date,p=angular.element('<select id="dragifywp-google-fonts-'+u.getTime()+'" style="width: 100%"></select>'),f="",g="",m="";t.ngModel||(t.ngModel={family:"Open Sans",variant:"regular",subset:"latin"});for(var _ in e.data.items){var v=e.data.items[_],h="";v.family==t.ngModel.family&&(h=" selected='selected'",d=v),f+='<option value="'+_+'"'+h+">"+v.family+"</option>"}i.html(""),i.append(p.append(f)),p.select2(),a=angular.element('<select id="google-fonts-variants-'+u.getTime()+'"></select>'),r(d.variants,t.ngModel.variant),l=angular.element('<select id="google-fonts-subsets-'+u.getTime()+'"></select>'),o(d.subsets,t.ngModel.subset),p.on("change",function(){n=!0;var i=e.data.items[jQuery(this).val()];t.$apply(function(){t.ngModel.family=i.family,t.ngModel.category=i.category,t.ngModel.variant=i.variants[0],t.ngModel.subset=i.subsets[0],r(i.variants,i.variants[0]),o(i.subsets,i.subsets[0])})}),s.on("change",function(){n=!0;var e=jQuery(this);t.$apply(function(){t.ngModel.variant=e.val()})}),c.on("change",function(){n=!0;var e=jQuery(this);t.$apply(function(){t.ngModel.subset=e.val()})})},!0)},function(e){i.addClass("dragifywp-ui__loader--fail"),i.html('<div class="dragifywp-ui__loader__failer">Error! Cannot get data.</div>')})}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragifywpIconList",function(){return{scope:{model:"<",onUpdate:"&",icons:"<",expand:"<",config:"<"},link:function(e,t,i){var n=!0,r=void 0,o=angular.element("<div id='dragifywp-ui-icon-list' class='dragifywp-ui__icons__container'></div>"),a=angular.element("<input class='dragifywp-ui__icons__search__input dragifywp-ui__input-text search' type='text' class='search' placeholder='Search for icons...'/>"),s=angular.element("<span class='dragifywp-ui__icons__search__clear-btn'><i class='lmr lmr-cross'></i></span>"),l=angular.element("<div class='dragifywp-ui__icons__search'></div>").append(a).append(s),c=angular.element("<ul class='dragifywp-ui__icons__list list'></ul>");e.config.requireValue&&c.addClass("dragifywp-ui__icons__list--requireValue"),o.append(l);var d=!0,u=!1,p=void 0;try{for(var f,g=e.icons[Symbol.iterator]();!(d=(f=g.next()).done);d=!0){var m=f.value,_=angular.element('<li class="dragifywp-ui__icons__item" data-value="'+m+'"><i title="'+m+'" class="'+e.config.source+" "+e.config.source+"-"+m+'"></i></li>');e.model==m&&(_.addClass("active"),r=_),_.on("click",function(){var t=angular.element(this);t.hasClass("active")?t.hasClass("active")&&!e.config.requireValue&&(t.removeClass("active"),r=void 0,e.$apply(function(){e.onUpdate({icon:""})})):(void 0!==r&&r.removeClass("active"),t.addClass("active"),r=t,e.$apply(function(){e.onUpdate({icon:t.attr("data-value")})}))}),c.append(_)}}catch(e){u=!0,p=e}finally{try{!d&&g.return&&g.return()}finally{if(u)throw p}}e.$watch("model",function(){if(n)return void(n=!1);r.removeClass("active");var t=c.children('[data-value="'+e.model+'"]');t.length&&(r=t,r.addClass("active"))}),o.append(c),t.append(o),void 0!==r&&(t.closest(".dragifywp-ui__icons__wrap")[0].scrollTop=r[0].offsetTop);var v=new List("dragifywp-ui-icon-list",{valueNames:[{attr:"title",name:e.config.source}]});s.on("click",function(){a.attr("value",""),v.search()}),e.$watch("expand",function(){e.expand?void 0!==r&&setTimeout(function(){c[0].scrollTop=r[0].offsetTop}):(a.attr("value",""),v.search(),void 0!==r&&setTimeout(function(){t.closest(".dragifywp-ui__icons__wrap")[0].scrollTop=r[0].offsetTop}))}),v.on("searchStart",function(){a.attr("value")?s.addClass("dragifywp-ui__icons__search__clear-btn--active"):s.removeClass("dragifywp-ui__icons__search__clear-btn--active")})}}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragifywpInputSectionName",["$DragifyWPService","$rootScope",function(e,t){return{restrict:"A",link:function(i,n,r){var o=!0,a=e.getIframeElement("."+e.getID(e.mapped)),s=[a.querySelector(".dragifywp-dnd__visual--lv1 .dragifywp-dnd__visual__label__name span"),a.querySelector(".dragifywp-dnd__empty--lv2 span")];n.on("change keydown paste input",function(){o&&(o=!1,t.$emit("forceEnableSave"));var i=n.val().trim();s.forEach(function(t){t.innerHTML=e.mapped.name=i||"Section"})})}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragifywpKeepVisualLabel",["$timeout",function(e){return{restrict:"A",link:function(e,t,i){var n=t.closest(".dragifywp-dnd__visual");t.on("mouseenter",function(){n.addClass("dragifywp-dnd__visual--keep")}),t.on("mouseleave",function(){n.removeClass("dragifywp-dnd__visual--keep")})}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragifywpSelection",function(){return{restrict:"E",scope:{list:"<",name:"<",model:"="},link:function(e,t,i){var n=new Date,r=angular.element('<select id="dragifywp-selection-'+n.getTime()+'" style="width: 100%;"></select>');t.html(r),r.select2();var o=!1;r.on("change",function(){if(o)return void(o=!1);e.$apply(function(){e.model=jQuery(r).val()})}),e.$watch("list",function(){if(Array.isArray(e.list)){r.html(""),r.append('<option value="">Select a '+e.name+"</option>");var t=!0,i=!1,n=void 0;try{for(var o,a=e.list[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value,l=e.model==s.id?' selected="selected"':"";r.append('<option value="'+s.id+'"'+l+">"+s.name+"</option>")}}catch(e){i=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(i)throw n}}}}),e.$watch("model",function(){var t=!1,i=!0,n=!1,a=void 0;try{for(var s,l=e.list[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){if(s.value.id==e.model){t=!0;break}}}catch(e){n=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(n)throw a}}t||(e.model=""),o=!0,r.val(e.model).trigger("change")})}}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragifywpShortcode",["$DragifyWPService","$http",function(e,t){return{restrict:"E",scope:{tag:"@",addition:"@",model:"<",watchContent:"<",attrs:"<",callback:"<"},link:function(i,n,r){var o=void 0,a=e.getIframeJQuery(),s=angular.element('<div class="dragifywp-dnd__errorMessage"><p>Error in getting data</p></div>'),l=angular.element('<div class="dragifywp-dnd__loader"><div class="dragifywp-dnd__loader__wrap"><span></span><span></span><span></span></div></div>');if(Array.isArray(i.attrs)){var c=i.attrs.map(function(e){return"model.attrs."+e});i.watchContent&&c.push("model.content");var d=function(e){if(n.html(e),void 0!==i.callback&&Array.isArray(i.callback)){var t=!0,r=!1,o=void 0;try{for(var s,l=i.callback[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){var c=s.value,d=a(n).find(c.selector);void 0!==c.args?d[c.function](c.args):d[c.function]()}}catch(e){r=!0,o=e}finally{try{!t&&l.return&&l.return()}finally{if(r)throw o}}}};i.$watchGroup(c,function(){clearTimeout(o);var r="["+i.tag,a=!0,c=!1,u=void 0;try{for(var p,f=i.attrs[Symbol.iterator]();!(a=(p=f.next()).done);a=!0){var g=p.value;i.model.attrs.hasOwnProperty(g)&&(r+=" "+g+'="'+i.model.attrs[g]+'"')}}catch(e){c=!0,u=e}finally{try{!a&&f.return&&f.return()}finally{if(c)throw u}}i.addition&&(r+=" "+i.addition+" "),r+="]",i.watchContent&&"string"==typeof i.model.content&&(r+=i.model.content+"[/"+i.tag+"]");var m=e.getSessionData(r);if(m)return void d(m);n.html(l),o=setTimeout(function(){t({method:"POST",url:angular.module("dragifywp.builder.app").__config.global_api+"/shortcodes",data:{shortcodes:r}}).then(function(t){m=t.data,e.setSessionData(r,m),d(t.data)},function(e){n.html(s)})},1e3)},!0)}}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragifywpPostShortcode",["$http","$DragifyWPService",function(e,t){return{restrict:"E",scope:{model:"=",format:"@",nodeId:"@"},link:function(i,n,r){var o=void 0,a=angular.element('<div class="dragifywp-dnd__errorMessage"><p>Error in getting data</p></div>'),s=angular.element('<div class="dragifywp-dnd__loader"><div class="dragifywp-dnd__loader__wrap"><span></span><span></span><span></span></div></div>'),l=!1;i.$watch("model",function(){if(l)return void(l=!1);var r=i.format.replace("@model",i.model);if(clearTimeout(o),r){var c=t.getSessionData(r);if(c)return void n.html(c);n.html(s),o=setTimeout(function(){i.model?e({method:"GET",url:angular.module("dragifywp.builder.app").__config.api+"/post-shortcode",params:{id:i.model,shortcode:r}}).then(function(e){-1!=e.data?(n.html(e.data),t.setSessionData(r,e.data)):(l=!0,i.model=0,n.html(""),"undefined"!=i.nodeId&&i.$emit("blink-watchers-"+i.nodeId))},function(e){n.html(a)}):n.html("")},1e3)}else n.html("")})}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("lbShortcodeVs",["$http","$timeout","$DragifyWPService",function(e,t,i){return{restrict:"E",scope:{ngModel:"<",format:"@"},link:function(n,r,o){var a=void 0,s=angular.element('<div class="dragifywp-dnd__errorMessage"><p>Error in getting data</p></div>'),l=angular.element('<div class="dragifywp-dnd__loader"><div class="dragifywp-dnd__loader__wrap"><span></span><span></span><span></span></div></div>');n.$watch("ngModel",function(){if(t.cancel(a),n.ngModel){var o=n.ngModel;void 0!==n.format&&(o=n.format.replace(/@model/g,n.ngModel));var c=i.getSessionData(o);if(c)return void r.html(c);r.html(l),a=t(function(){e({method:"POST",url:angular.module("dragifywp.builder.app").__config.global_api+"/shortcodes",data:{shortcodes:o}}).then(function(e){c=e.data,i.setSessionData(o,c),r.html(e.data)},function(e){r.html(s)})},1e3)}},!0)}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragifywpSlider",function(){return{restrict:"AE",scope:{model:"<",onUpdate:"&",config:"<"},link:function(e,t,i){var n=void 0,r=!1,o=t.find(".dragifywp-ui__slider");o.slider({orientation:"horizontal",range:"max",min:e.config.min,max:e.config.max,step:e.config.step,values:[e.model],slide:function(t,i){e.$apply(function(){e.onUpdate({v:i.value}),r=!0;var t=(i.value-e.config.min)*o.width()/(e.config.max-e.config.min);n.width(t)})},change:function(t,i){var r=(i.value-e.config.min)*o.width()/(e.config.max-e.config.min);n.width(r)},create:function(e,i){n=t.find(".ui-slider-range")}}),e.$watch("model",function(){if(r)return void(r=!1);void 0!==e.model&&o.slider("values",0,e.model)})},template:'<div class="dragifywp-ui__slider"></div>'}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("uploadedFonts",function(){return{restrict:"A",scope:{ngModel:"="},link:function(e,t,i){var n=new Date,r=angular.element('<select id="dragifywp-uploaded-fonts-'+n.getTime()+'" style="width:100%"></select>');if(r.append('<option value="">Select a font</option>'),angular.module("dragifywp.builder.app").__config.uploaded_fonts)for(var o in angular.module("dragifywp.builder.app").__config.uploaded_fonts){var a=angular.module("dragifywp.builder.app").__config.uploaded_fonts[o];if(a.enable){var s="";o==e.ngModel&&(s=" selected"),r.append('<option value="'+o+'"'+s+">"+a.name+"</option>")}}t.html(r),r.select2();var l=!1;r.on("change",function(){if(l)return void(l=!1);var t=jQuery(this).val();e.$apply(function(){e.ngModel=t})}),e.$watch("ngModel",function(){l=!0,r.val(e.ngModel).trigger("change")})}}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragifywpVisualHover",["$DragifyWPService",function(e){return{scope:{dragifywpVisualHover:"<"},restrict:"A",link:function(t,i,n){i.on("mouseenter",function(){e.keepVisualNode(t.dragifywpVisualHover)}),i.on("mouseleave",function(){e.removeVisualNode()})}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragifywpWidgetSearchFocus",["$rootScope",function(e){return{restrict:"A",link:function(t,i,n){e.$on("widget-search-focus",function(){setTimeout(function(){i.focus()},1e3)})}}}])},function(e,exports){"use strict";!function(e){var t=e.module("dragifywp.builder.app");t.filter("canberepeated",function(){return function(t,i){if(!t)return t;if(!i)return t;var n=(""+i).toLowerCase(),r={};return e.forEach(t,function(e,t){-1!==(""+e).toLowerCase().indexOf(n)&&(r[t]=e)}),r}}),t.filter("dropcap",["$sce",function(e){return function(t){var i="";return t.length&&(t=t.split(""),t[0]="<span class='dragifywp-dropcap__letter'>"+t[0]+"</span>",i=t.join("")),e.trustAsHtml(i)}}]),t.filter("trustashtml",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),t.filter("trustAsResourceUrl",["$sce",function(e){return function(t){return e.trustAsResourceUrl(t)}}]),t.filter("shorten",[function(){return function(e,t){return e.length>=t?e.substring(0,t-3)+"...":e}}]),t.filter("slash",function(){return function(e){return e?e.replace("-","/"):""}}),t.filter("plus",function(){return function(e){return e?e.replace(" ","+"):""}})}(window.angular)},function(module,exports){"use strict";!function(angular){var app=angular.module("dragifywp.builder.app");angular.module("dragifywpOutputGenerator",["dragifywpService"]).factory("$DragifyWPOutputGenerator",["$timeout","$rootScope","$DragifyWPService",function($timeout,$rootScope,$DragifyWPService){return{prefix:app.__config.class_prefix+"-",template_generated:!1,shortcode_templates:{},style_templates:{},responsive_style_templates:{},directive_templates:{},shortcode_count:1,style_object:{},tablet_style_object:{},mobile_style_object:{},style_link_array:[],uploaded_fonts:[],google_fonts:{},minify_box_value:function(e){for(var t=/(-?[0-9]+px -?[0-9]+px -?[0-9]+?px -?[0-9]+px)/g,i=e.split(t),n=[],r=0,o=i.length;r<o;r++)-1!==i[r].search(t)&&(n=i[r].split(" "),n[0]!==n[1]?n[0]===n[2]&&n[1]===n[3]&&(i[r]=i[r].replace(t,n[0]+" "+n[1])):n[0]===n[2]&&n[0]===n[3]&&(i[r]=i[r].replace(t,n[0])));return i.join("")},generate_css:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=[],n=0,r={};for(var o in e){var a=[];for(var s in e[o]){var l=e[o][s];""!=l&&a.push([s,":",l].join(""))}var c=a.join(";");r.hasOwnProperty(c)?r[c].push(o):c&&(r[c]=[o])}for(var d in r)i[n++]=r[d].join(",").replace(/\s?(>|,)\s?/g,"$1"),i[n++]="{",i[n++]=this.minify_box_value(d),i[n++]="}";return t&&i.length?[t,"{",i.join(""),"}"].join(""):i.join("")},generate_font_css:function(e){var t=[],i=0,n=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(app.__config.uploaded_fonts.hasOwnProperty(l)){var c=app.__config.uploaded_fonts[l];if(c.enable){var d=c.family;d||(d="font_uploaded_"+l);c.fallback&&", "+c.fallback;var u="",p="",f=[];c.eot_link&&(u="src:url('"+c.eot_link+"');",f.push("url('"+c.eot_link+"?#iefix') format('embedded-opentype')")),c.woff_link&&f.push("url('"+c.woff_link+"') format('woff')"),c.woff2_link&&f.push("url('"+c.woff2_link+"') format('woff2')"),c.ttf_link&&f.push("url('"+c.ttf_link+"') format('truetype')"),c.svg_link&&f.push("url('"+c.svg_link+"#"+d+"') format('svg')"),f.length&&(p="src:"+f.join(",")+";"),t[i++]="@font-face{font-family:'"+d+"';"+u+p+"}"}}}}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return t.join("")},generate_save_data:function(e){this.template_generated||(this.shortcode_templates=angular.merge(this.shortcode_templates,window.dragifywp_widget_manager.get_shortcode_templates()),this.style_templates=angular.merge(this.style_templates,window.dragifywp_widget_manager.get_style_templates()),this.responsive_style_templates=angular.merge(this.responsive_style_templates,window.dragifywp_widget_manager.get_responsive_style_templates()),this.directive_templates=angular.merge(this.directive_templates,window.dragifywp_widget_manager.get_directive_templates()),this.template_generated=!0),this.shortcode_count=1,this.style_object={},this.tablet_style_object={},this.mobile_style_object={},this.style_link_array=[],this.google_fonts={};var t=this.generate_models(e),i=[this.generate_font_css(this.uploaded_fonts),this.generate_css(this.style_object),this.generate_css(this.tablet_style_object,"@media screen and (max-width: 768px)"),this.generate_css(this.mobile_style_object,"@media screen and (max-width: 512px)")];for(var n in this.google_fonts)this.style_link_array.push("https://fonts.googleapis.com/css?family="+n+":"+this.google_fonts[n].variants.join(",")+"&subset="+this.google_fonts[n].subsets.join(","));return{shortcodes:t,styles:{style:i.join(""),link:this.style_link_array}}},generate_models:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:app.__config.shortcode_prefix,i="",n="";if(angular.isArray(e)){var r=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;n=""+this.prefix+this.shortcode_count,this.shortcode_count++,this.generate_tag_style(n,c.tag,c.attrs),this.generate_tag_responsive_style(n,c.tag,c.attrs),this.generate_tag_directive(n,c.tag,c.attrs),i+=this.generate_tag_shortcode(n,c,t)}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}}else n=""+this.prefix+this.shortcode_count,this.shortcode_count++,this.generate_tag_style(n,e.tag,e.attrs),this.generate_tag_responsive_style(n,e.tag,e.attrs),this.generate_tag_directive(n,e.tag,e.attrs),i+=this.generate_tag_shortcode(n,e,t);return i},generate_tag_style:function generate_tag_style(id,tag,attrs){if(this.style_templates.hasOwnProperty(tag)){var template=this.style_templates[tag];for(var attr in template){var attr_styles=template[attr],_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _iterator3=attr_styles[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var attr_style=_step3.value;if((!attr_style.hasOwnProperty("condition")||eval(attr_style.condition))&&(!attr_style.hasOwnProperty("when")||eval(attr_style.when)))for(var selector in attr_style.styles){var real_selector=selector.replace(/@id/g,"."+id);this.style_object.hasOwnProperty(real_selector)||(this.style_object[real_selector]={});for(var prop in attr_style.styles[selector]){var val=attr_style.styles[selector][prop],expressions=val.match(/{{[^{}]+}}/g);if(null!=expressions){val=val.replace(/{{[^{}]+}}/g,"%expression");var _iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _iterator4=expressions[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var expression=_step4.value;expression=expression.replace(/[{} ]/g,"");var expression_models=expression.match(/(\d*[\/\*\+\-])*attrs(\.[a-zA-Z0-9_]+)*([\/\*\+\-]\d*)*/g);if(expression=expression.replace(/(\d*[\/\*\+\-])*attrs(\.[a-zA-Z0-9_]+)*([\/\*\+\-]\d*)*/g,"%model"),expression_models&&expression_models.length){var _iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _iterator5=expression_models[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var expression_model=_step5.value;expression=expression.replace("%model",eval(expression_model))}}catch(e){_didIteratorError5=!0,_iteratorError5=e}finally{try{!_iteratorNormalCompletion5&&_iterator5.return&&_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}}val=val.replace("%expression",expression)}}catch(e){_didIteratorError4=!0,_iteratorError4=e}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}}prop=prop.replace(/[A-Z][^A-Z]/g,function(e){return"-"+e.toLowerCase()}),this.style_object[real_selector][prop]=val}}}}catch(e){_didIteratorError3=!0,_iteratorError3=e}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}}},generate_tag_responsive_style:function generate_tag_responsive_style(id,tag,attrs){if(this.responsive_style_templates.hasOwnProperty(tag)){var template=this.responsive_style_templates[tag];for(var attr in template){var attr_styles=template[attr],_iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _iterator6=attr_styles[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0){var attr_style=_step6.value,condition="";if((!attr_style.hasOwnProperty("condition")||eval(attr_style.condition))&&(!attr_style.hasOwnProperty("when")||eval(attr_style.when)))for(var selector in attr_style.styles){var real_selector=selector.replace(/@id/g,"."+id);this.style_object.hasOwnProperty(real_selector)||(this.style_object[real_selector]={}),attrs[attr].hasOwnProperty("tablet")&&!this.tablet_style_object.hasOwnProperty(real_selector)&&(this.tablet_style_object[real_selector]={}),attrs[attr].hasOwnProperty("mobile")&&!this.mobile_style_object.hasOwnProperty(real_selector)&&(this.mobile_style_object[real_selector]={});for(var prop in attr_style.styles[selector]){var val=attr_style.styles[selector][prop],tablet_val=attr_style.styles[selector][prop],mobile_val=attr_style.styles[selector][prop],expressions=val.match(/{{[^{}]+}}/g);if(null!=expressions){val=val.replace(/{{[^{}]+}}/g,"%expression"),tablet_val=val.replace(/{{[^{}]+}}/g,"%expression"),mobile_val=val.replace(/{{[^{}]+}}/g,"%expression");var _iteratorNormalCompletion7=!0,_didIteratorError7=!1,_iteratorError7=void 0;try{for(var _iterator7=expressions[Symbol.iterator](),_step7;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=!0){var expression=_step7.value;expression=expression.replace(/[{} ]/g,"");var expression_models=expression.match(/(\d*[\/\*\+\-])*attrs(\.[a-z0-9_@]+)*([\/\*\+\-]\d*)*/g);expression=expression.replace(/(\d*[\/\*\+\-])*attrs(\.[a-z0-9_@]+)*([\/\*\+\-]\d*)*/g,"%model");var tablet_expression="",mobile_expression="";if(expression_models&&expression_models.length){var _iteratorNormalCompletion8=!0,_didIteratorError8=!1,_iteratorError8=void 0;try{for(var _iterator8=expression_models[Symbol.iterator](),_step8;!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=!0){var expression_model=_step8.value;attrs[attr].hasOwnProperty("tablet")&&(tablet_expression=expression.replace("%model",eval(expression_model.replace(/@device/g,"tablet")))),attrs[attr].hasOwnProperty("mobile")&&(mobile_expression=expression.replace("%model",eval(expression_model.replace(/@device/g,"mobile")))),expression=expression.replace("%model",eval(expression_model.replace(/@device/g,"desktop")))}}catch(e){_didIteratorError8=!0,_iteratorError8=e}finally{try{!_iteratorNormalCompletion8&&_iterator8.return&&_iterator8.return()}finally{if(_didIteratorError8)throw _iteratorError8}}}val=val.replace("%expression",expression),tablet_val=tablet_val.replace("%expression",tablet_expression),mobile_val=mobile_val.replace("%expression",mobile_expression)}}catch(e){_didIteratorError7=!0,_iteratorError7=e}finally{try{!_iteratorNormalCompletion7&&_iterator7.return&&_iterator7.return()}finally{if(_didIteratorError7)throw _iteratorError7}}}prop=prop.replace(/[A-Z][^A-Z]/g,function(e){return"-"+e.toLowerCase()}),this.style_object[real_selector][prop]=val,attrs[attr].hasOwnProperty("tablet")&&(this.tablet_style_object[real_selector][prop]=tablet_val),attrs[attr].hasOwnProperty("mobile")&&(this.mobile_style_object[real_selector][prop]=mobile_val)}}}}catch(e){_didIteratorError6=!0,_iteratorError6=e}finally{try{!_iteratorNormalCompletion6&&_iterator6.return&&_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}}}},generate_tag_directive:function generate_tag_directive(id,tag,attrs){if(this.directive_templates.hasOwnProperty(tag)){var template=this.directive_templates[tag];for(var attr in template){var attr_directive=template[attr];if(!attr_directive.hasOwnProperty("condition")||eval(attr_directive.condition)){var _iteratorNormalCompletion9=!0,_didIteratorError9=!1,_iteratorError9=void 0;try{for(var _iterator9=attr_directive.directives[Symbol.iterator](),_step9;!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=!0){var directive=_step9.value,func_name=directive.tag.replace(/-/g,"_"),args=angular.merge({model:attrs[attr],id:id},directive.attrs);this[func_name](args)}}catch(e){_didIteratorError9=!0,_iteratorError9=e}finally{try{!_iteratorNormalCompletion9&&_iterator9.return&&_iterator9.return()}finally{if(_didIteratorError9)throw _iteratorError9}}}}}},generate_tag_shortcode:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:app.__config.shortcode_prefix;if(angular.isObject(t)&&this.shortcode_templates.hasOwnProperty(t.tag)){var n="",r="",o=this.shortcode_templates[t.tag],a=i;if(o.hasOwnProperty("native")&&o.native||(a=""),"string"==typeof t.tag){if(""!==a&&(r="_"),n+="["+a+r+t.tag+' class_id="'+e+'"',angular.isObject(t.attrs)){var s=!0,l=!1,c=void 0;try{for(var d,u=o.attrs[Symbol.iterator]();!(s=(d=u.next()).done);s=!0){var p=d.value;if(t.attrs.hasOwnProperty(p)){var f=t.attrs[p];angular.isObject(f)&&(f.hasOwnProperty("$$hashKey")&&delete f.$$hashKey,f=JSON.stringify(f)),"string"!=typeof f&&(f=f.toString()),n+=" "+p+"='"+f.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\[/g,"_dragifywp_bracket_open_").replace(/\]/g,"_dragifywp_bracket_close_")+"'"}}}catch(e){l=!0,c=e}finally{try{!s&&u.return&&u.return()}finally{if(l)throw c}}}n+="]","string"==typeof t.content?n+=t.content:angular.isArray(t.content)&&(n+=this.generate_models(t.content,i)),n+="[/"+a+r+t.tag+"]"}return n}return""},add_style:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";for(var n in t){var r=t[n];n=n.replace(/@id/g,"."+i),e.hasOwnProperty(n)||(e[n]={}),e[n]=angular.merge(e[n],r)}},embed_font_source:function(e){if("google"==e.model.source){var t=angular.isObject(e.model.google)?e.model.google:{family:"Open Sans",variant:"regular",subset:"latin"},i=t.variant.match(/[0-9]+/g),n=t.variant.match(/[a-z]+/g),r=null!=i?i:"normal",o="normal";"regular"==n?(r="normal",o="normal"):"italic"==n&&(o="italic");var a=t.family.replace(/\s/g,"+");this.google_fonts.hasOwnProperty(a)||(this.google_fonts[a]={variants:[],subsets:[]}),-1==this.google_fonts[a].variants.indexOf(t.variant)&&this.google_fonts[a].variants.push(t.variant),-1==this.google_fonts[a].subsets.indexOf(t.subset)&&this.google_fonts[a].subsets.push(t.subset);var s={};s[e.selector]={"font-family":t.family,"font-weight":r,"font-style":o},this.add_style(this.style_object,s,e.id)}else if("uploaded"==e.model.source){if(app.__config.uploaded_fonts.hasOwnProperty(e.model.uploaded)){-1==this.uploaded_fonts.indexOf(e.model.uploaded)&&this.uploaded_fonts.push(e.model.uploaded);var l=app.__config.uploaded_fonts[e.model.uploaded];if(l.enable){var c=l.family,d="";l.fallback&&(d=", "+l.fallback),c||(c="font_uploaded_"+e.model.uploaded);var u={};u[e.selector]={"font-family":"'"+c+"'"+d},this.add_style(this.style_object,u,e.id)}}}else if("typekit"==e.model.source)e:for(var p in app.__config.typekit_fonts)if(app.__config.typekit_fonts[p].active){var f=!0,g=!1,m=void 0;try{for(var _,v=app.__config.typekit_fonts[p].fonts[Symbol.iterator]();!(f=(_=v.next()).done);f=!0){var h=_.value;if(h.id==e.model.typekit){var y="";h.fallback&&(y=", "+h.fallback);var w={};w[e.selector]={"font-family":"'"+h.family+"'"+y},this.add_style(this.style_object,w,e.id);break e}}}catch(e){g=!0,m=e}finally{try{!f&&v.return&&v.return()}finally{if(g)throw m}}}}}}])}(window.angular)},function(e,exports){"use strict";!function(e){e.module("dragifywpPopup",["dragifywpService","dragifywpHotKeys"]).factory("$DragifyWPPopup",["$timeout","$rootScope","$DragifyWPService","$DragifyWPHotKeys",function(t,i,n,r){return{showFsPopup:function(t){if(!document.querySelector(".dragifywp-bs__fsPopup")){var i=e.element('<div class="dragifywp-bs__fsPopup"><h6 class="dragifywp-bs__fsPopup__title">'+t.title+'</h6><div class="dragifywp-bs__fsPopup__body">'+t.message+'</div><div class="dragifywp-bs__fsPopup__footer"></div></div><div class="dragifywp-bs__fsPopup__backdrop"></div>'),n=i.find(".dragifywp-bs__fsPopup__footer");e.element("body").append(i);var o=function(){i.remove(),"function"==typeof t.onClose&&t.onClose(i)},a=void 0;if(void 0===t.esc&&(t.esc=!0),t.esc?(a=function(){r.escKeyPressManager.execute()},r.escKeyPressManager.add(function(){return o(),!0})):a=function(){o()},Array.isArray(t.buttons))t.buttons.forEach(function(t){var i=e.element('<button class="dragifywp-ui__btn"></button>');t.hasOwnProperty("text")?i.html(t.text):i.html("Dismiss"),t.hasOwnProperty("class")?i.addClass(t.class):i.addClass("dragifywp-ui__btn--primary"),i.on("click",function(e){e.preventDefault(),"function"==typeof t.callback&&t.callback(),a()}),n.append(i)});else{var s=e.element('<button class="dragifywp-ui__btn dragifywp-ui__btn--primary">Dismiss</button>');n.append(s),s.on("click",function(e){e.preventDefault(),a()})}"function"==typeof t.onInit&&t.onInit(i)}}}}])}(window.angular)},function(e,exports){"use strict";!function(e){var t=e.module("dragifywp.builder.app");t.__editableStack=[];var i={name:"bold",action:"bold",aria:"bold",tagNames:["strong","b"],useQueryState:!0,contentDefault:"<strong>B</strong>",contentFA:'<i class="fa fa-bold"></i>'},n={name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],useQueryState:!1,contentDefault:"<i>I</i>",contentFA:'<i class="fa fa-italic"></i>'};t.__config.editorSetting={0:{buttonLabels:"fontawesome",spellcheck:!1,toolbar:{allowMultiParagraphSelection:!0,buttons:[i,n,"underline","anchor","strikethrough","justifyLeft","justifyCenter","justifyRight"]}},2:{buttonLabels:"fontawesome",spellcheck:!1,disableReturn:!1,disableDoubleReturn:!0,toolbar:{allowMultiParagraphSelection:!0,buttons:[i,n,"underline","anchor","strikethrough","justifyLeft","justifyCenter","justifyRight"]}},1:{buttonLabels:"fontawesome",spellcheck:!1,disableReturn:!0,disableDoubleReturn:!0,toolbar:{allowMultiParagraphSelection:!0,buttons:[i,n,"underline","strikethrough"]}},3:{buttonLabels:"fontawesome",spellcheck:!1,disableReturn:!0,disableDoubleReturn:!0,toolbar:{allowMultiParagraphSelection:!0,buttons:[i,n,"anchor","underline","strikethrough"]}},4:{buttonLabels:"fontawesome",spellcheck:!1,toolbar:{allowMultiParagraphSelection:!0,buttons:["h1","h2","h3","h4","h5","h6",i,n,"underline","anchor","strikethrough","justifyLeft","justifyCenter","justifyRight","orderedlist","unorderedlist","subscript","superscript","quote","pre","indent","outdent"]}}},t.directive("dragifywpEditable",["$DragifyWPService","$sce","$rootScope",function(e,i,n){return{restrict:"A",scope:{model:"<",config:"<"},link:function(r,o,a){var s=void 0;n.$on("setEditableMode",function(){var n=function n(){if(o[0].removeEventListener("click",n),void 0===s){var a=e.getIframeWindow();s=a.setMediumEditor(o,t.__config.editorSetting[r.config.editorType]),"content"==r.config.target?s.setContent(i.trustAsHtml(r.model.content)):"-1"!=r.config.target.indexOf("attrs")&&s.setContent(i.trustAsHtml(r.model.attrs[r.config.target.split(".")[1]])),o.focus(),t.__editableStack.push(function(){"content"==r.config.target?r.model.content=s.getContent(0):"-1"!=r.config.target.indexOf("attrs")&&(r.model.attrs[r.config.target.split(".")[1]]=s.getContent(0)),s.destroy(),s=void 0})}};o[0].addEventListener("click",n),t.__editableStack.push(function(){o[0].removeEventListener("click",n)})}),r.$on("$destroy",function(){void 0!==s&&s.destroy()})}}}]),t.directive("dragifywpTagWrap",["$DragifyWPService","$sce","$rootScope",function(i,n,r){return{restrict:"AE",scope:{tagName:"<",tagClass:"<",model:"<",prefix:"@"},link:function(o,a,s){var l=s.selector,c=document.createElement(o.tagName);o.$watch("tagName",function(){c=document.createElement(o.tagName),c.className=o.prefix?"dragifywp-"+o.tagName+" "+l:l,c.innerHTML=o.model.content,a.empty().append(e.element(c))}),o.$watch("model.content",function(){c&&(c.innerHTML=o.model.content)}),o.$watch("tagClass",function(){c&&(c.className=o.prefix?"dragifywp-"+o.tagName+" "+o.tagClass+" "+l:o.tagClass+" "+l)});var d=void 0;r.$on("setEditableMode",function(){var e=function e(){if(a[0].removeEventListener("click",e),void 0===d){var r=i.getIframeWindow();d=r.setMediumEditor(c,t.__config.editorSetting[3]),d.setContent(n.trustAsHtml(o.model.content)),a.focus(),t.__editableStack.push(function(){o.model.content=d.getContent(0),d.destroy(),d=void 0})}};a[0].addEventListener("click",e),t.__editableStack.push(function(){a[0].removeEventListener("click",e)})}),o.$on("$destroy",function(){void 0!==d&&d.destroy()})}}}]),t.component("editorMode",{controller:["$DragifyWPService","$rootScope","$timeout","$DragifyWPHotKeys",function(e,i,n,r){var o=this;this.service=e,i.$on("openEditableMode",function(){o.open()}),this.open=function(){e.editableMode||(e.editableMode=!0,r.pause(),setTimeout(function(){i.$emit("setEditableMode"),e.deactivateDraggable(),r.escKeyPressManager.add(function(){return Array.isArray(t.__editableStack)&&(t.__editableStack.forEach(function(e){"function"==typeof e&&e()}),t.__editableStack.length=0),r.resume(),e.editableMode=!1,setTimeout(function(){e.reactivateDraggable()}),!0})},1e3))},this.close=function(){r.escKeyPressManager.execute()}}],template:'<div class="dragifywp-bs__editorMode"><button class="dragifywp-bs__editorMode__openBtn" ng-click="$ctrl.open()"><span class="lmr lmr-pencil"></span></button><button class="dragifywp-bs__editorMode__closeBtn" ng-click="$ctrl.close()"><span class="lmr lmr-cross"></span></button></div>'})}(window.angular)}]);