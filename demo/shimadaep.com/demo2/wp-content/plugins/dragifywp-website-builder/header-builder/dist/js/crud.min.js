!function(e){function t(a){if(i[a])return i[a].exports;var n=i[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};t.m=e,t.c=i,t.p="",t(0)}({0:function(e,exports,t){"use strict";t(348),t(432),function(e){var t=dragifywp_app_data.label,i=t.charAt(0).toUpperCase()+t.substr(1),a=e.module("dragifywp.app.manager",["dragifywpPopup"]);a.__config=dragifywp_app_data,a.controller("dragifywp_app_manager_controller",function(){}),a.config(["$provide","$httpProvider",function(e,t){e.factory("lbHttpInterceptor",["$q","$rootScope",function(e,t){return{request:function(t){return t.headers["X-WP-Nonce"]=a.__config.nonce,t||e.when(t)},responseError:function(i){return void 0!==i.data&&"rest_cookie_invalid_nonce"==i.data.code&&t.$emit("expired_session"),e.reject(i)}}}]),t.interceptors.push("lbHttpInterceptor")}]).config(["$compileProvider",function(e){e.debugInfoEnabled(a.__config.enable_debug)}]),a.component("appAdmin",{controller:["$http","$DragifyWPPopup","$rootScope",function(i,n,r){var s=this;Modernizr.flexbox&&Modernizr.flexwrap&&(this.model={list:[],trash:[],page:"0",show_trash:!1,loaded:!1},i({method:"GET",url:a.__config.api+"/"+t+"s"}).then(function(t){s.model.loaded=!0,e.isArray(t.data)&&(s.model.list=t.data)},function(){n.show({title:"Try it Later",message:"Error! cannot get data."})}),i({method:"GET",url:a.__config.api+"/trash-"+t+"s"}).then(function(t){e.isArray(t.data)&&(s.model.trash=t.data)})),r.$on("expired_session",function(){document.location.replace(a.__config.login_url)})}],template:function(){return Modernizr.flexbox&&Modernizr.flexwrap?'<div class="dragifywp-ba__panel"><list-panel model="$ctrl.model"></list-panel><setting-panel list="$ctrl.model.list"></setting-panel><trash-panel model="$ctrl.model"></trash-panel></div>':'<div class="dragifywp-ba__notSupportMessage"><p>Opp! We currently do not support This Browser. Please switch to <strong>modern</strong> Browsers such as the last-versions of <strong>Chrome</strong> or <strong>Firefox</strong> for a better experience.</p></div>'}}),a.component("listPanel",{controller:["$timeout","$http","$scope","$DragifyWPPopup",function(e,i,n,r){var s=this;s.page_link="",this.action={remove:function(e){e.deleting=!0,i({method:"POST",url:a.__config.api+"/"+t+"s/status",data:{id:e.id,status:"trash"}}).then(function(t){t.data&&s.model.trash.unshift(s.model.list.splice(s.model.list.indexOf(e),1)[0])},function(t){e.deleting=!1,r.show({title:"Try it Later",message:"Error! cannot remove item."})})},edit:function(e){window.open(a.__config.edit_url+"&post_id="+s.model.page+"&"+t+"_id="+e.id)},preview:function(e){window.open(s.page_link+"?preview-"+t+"="+e.id)},rename:function(e,t,n){e.restoring=!0,i({method:"POST",url:a.__config.api+"/rename",data:{id:e.id,name:t}}).then(function(i){e.name=t,e.restoring=!1,n()},function(t){e.restoring=!1})}},n.$watch("$ctrl.model.page",function(e){i({method:"GET",url:a.__config.api+"/page-link",params:{page_id:e},cache:!0}).then(function(e){s.page_link=e.data},function(e){})})}],template:'<div class="dragifywp-ba__listPanel"><header-panel model="$ctrl.model"></header-panel><div class="dragifywp-ba__list"><div class="dragifywp-ba__list__header"><div class="dragifywp-ba__list__name">'+i+' Name</div><div class="dragifywp-ba__list__action"><span>Action</div></div><div class="dragifywp-ba__list__body" ng-if="$ctrl.model.loaded"><list-item ng-repeat="item in $ctrl.model.list" model="item" action="$ctrl.action"></list-item></div><div class="dragifywp-ba__list__empty" ng-show="$ctrl.model.loaded && $ctrl.model.list.length == 0">Empty</div><div class="dragifywp-ba__list__preloader" ng-class="{\'dragifywp-ba__list__preloader--hide\':$ctrl.model.loaded}"><span></span></div></div><footer-panel model="$ctrl.model"></footer-panel></div>',bindings:{model:"="}}),a.component("listItem",{controller:function(){var e=this;this.updateName=!1,this.tempName="",this.openUpdateName=function(){this.tempName=this.model.name,this.updateName=!0},this.rename=function(){this.valid()&&this.action.rename(e.model,e.tempName,function(){e.updateName=!1})},this.edit=function(){this.action.edit(this.model)},this.preview=function(){this.action.preview(this.model)},this.remove=function(){this.action.remove(this.model)},this.valid=function(){var e=this.tempName.trim();return e&&e!=this.model.name&&!this.model.restoring},this.enterToRename=function(e){13==e.keyCode&&(this.rename(),e.target.blur())}},template:'<div class="dragifywp-ba__list__item"><div class="dragifywp-ba__list__item__backdrop" ng-class="{\'dragifywp-ba__list__item__backdrop--deleting\':$ctrl.model.deleting, \'dragifywp-ba__list__item__backdrop--restoring\':$ctrl.model.restoring}" ></div><div class="dragifywp-ba__list__item__wrap" ng-if="!$ctrl.updateName"><div class="dragifywp-ba__list__item__name"><span ng-click="$ctrl.openUpdateName()" ng-bind="::$ctrl.model.name"></span></div><div class="dragifywp-ba__list__item__action"><span ng-click="$ctrl.edit()">Edit</span><span ng-click="$ctrl.preview()">Preview</span><span ng-click="$ctrl.remove()">Trash</span></div></div><div class="dragifywp-ba__list__item__wrap" ng-if="$ctrl.updateName"><input class="dragifywp-ba__list__item__input" type="text" ng-keypress="$ctrl.enterToRename($event)" ng-model="$ctrl.tempName"  ng-trim="true" maxlength="35"/><div class="dragifywp-ba__list__item__action"><span ng-click="$ctrl.rename()" ng-disabled="!$ctrl.valid()">Update</span><span ng-click="$ctrl.updateName=false">Cancel</span></div></div></div>',bindings:{model:"<",action:"<"}}),a.component("headerPanel",{controller:["$timeout","$http","$DragifyWPPopup",function(e,n,r){var s=this;s.item_name="",this.isValid=function(){return s.item_name.trim()&&!s.creating},this.createItem=function(){this.isValid()&&(s.creating=!0,n({method:"POST",url:a.__config.api+"/"+t+"s",data:{name:s.item_name}}).then(function(t){t.data&&(s.creating=!1,s.model.list.unshift({id:t.data,name:s.item_name.trim(),restoring:!0}),s.item_name="",e(function(){s.model.list[0].restoring=!1},400))},function(e){s.creating=!1,r.show({title:"Try it Later",message:"Error! cannot create new "+i+"."})}))},this.enterToCreate=function(e){13==e.keyCode&&(this.createItem(),e.target.blur())}}],template:'<div class="dragifywp-ba__header dragifywp-bs__header--aside"><div class="dragifywp-ba__header__title"><h6>'+i+" Manager <span>v"+a.__config.version+'</span></h6></div><div class="dragifywp-ba__creator" ng-class="{\'dragifywp-ba__creator--creating\':$ctrl.creating}"><div class="dragifywp-ba__creator__container"><div class="dragifywp-ba__creator__input"><input type="text" ng-keypress="$ctrl.enterToCreate($event)" ng-trim="true" maxlength="35" placeholder="Enter '+i+' Name..." ng-model="$ctrl.item_name"/><span class="dragifywp-ba__creator__loader"></span></div><span class="dragifywp-ba__creator__createBtn dragifywp-ui__btn dragifywp-ui__btn--primary" ng-click="$ctrl.createItem()" ng-disabled="!$ctrl.isValid()">Create</span></div></div></div>',bindings:{model:"="}}),a.component("footerPanel",{controller:["$http","$DragifyWPPopup",function(t,n){var r=this;r.pages=[],r.defaultOption={id:0,name:"Home page"},t({method:"GET",url:a.__config.api+"/pages"}).then(function(t){e.isArray(t.data)&&(r.pages=t.data)}),r.openTrash=function(){r.model.show_trash=!r.model.show_trash},r.showHelp=function(){n.show({title:"What is this?",message:"Select a page, then when you click on <strong>Edit</strong> or <strong>Preview</strong> a "+i+", it will be displayed on that selected page."})}}],template:'<div class="dragifywp-ba__footer"><div class="dragifywp-ba__footer__startPage"><span class="dragifywp-ba__footer__startPage__from">Edit from</span><div class="dragifywp-ba__footer__startPage__list" list-selection ng-default="$ctrl.defaultOption" ng-model="$ctrl.model.page" ng-list="$ctrl.pages"></div><small class="dragifywp-ba__footer__startPage__help" ng-click="$ctrl.showHelp()">What is this?</small></div><span class="dragifywp-ba__footer__openTrash" ng-click="$ctrl.openTrash()">Trash (<small ng-bind="$ctrl.model.trash.length"></small>)</span></div>',bindings:{model:"="}}),a.component("settingPanel",{controller:["$http","$timeout","$DragifyWPPopup",function(i,n,r){var s=this;a.__config.options?s.options=a.__config.options:s.options={primary:{enable:1,value:""},post:{enable:0,value:""}},s.previous=e.merge({},s.options),this.state="saved",s.getState=function(){return"saved"==s.state&&JSON.stringify(s.options)!==JSON.stringify(s.previous)&&(s.state="ready"),s.state},s.save=function(){"ready"==s.state&&(s.state="saving",i({method:"POST",url:a.__config.api+"/"+t+"-options",data:{options:s.options}}).then(function(t){s.state="success",t.data&&(s.previous=e.merge({},s.options)),n(function(){s.state="saved"},400)},function(e){s.state="ready",r.show({title:"Try it Later",message:"Error! cannot save data."})}))},s.labels=a.__config.labels}],template:'<div class="dragifywp-ba__settingPanel dragifywp-ba__aside"><div class="dragifywp-ba__aside__header"><h6 class="dragifywp-ba__aside__header__name">Settings</h6><span class="dragifywp-ba__aside__header__saveBtn dragifywp-ui__btn dragifywp-ui__btn--primary"data-state="{{$ctrl.getState()}}" ng-click="$ctrl.save();"><span>Saved</span><span>Save</span><span class="dragifywp-ba__aside__header__saveBtn__loader"></span><span><i class="fa fa-check" aria-hidden="true"></i></span></span></div><div class="dragifywp-ba__aside__container"><item-selector ng-repeat="(key, label) in $ctrl.labels track by $index" name="{{::label}}" model="$ctrl.options[key]" list="$ctrl.list"></item-selector></div></div>',bindings:{list:"<"}}),a.component("itemSelector",{controller:function(){this.defaultOption={id:"",name:"Select a "+t},this.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},template:'<div class="dragifywp-ba__selector"><label><h6 class="dragifywp-ba__selector__title" ng-bind="::$ctrl.name"></h6><input ng-if="!$ctrl.model.always_enable" class="dragifywp-ba__selector__enable" type="checkbox" ng-model="$ctrl.model.enable" /></label><div class="dragifywp-ba__selector__list" ng-if="$ctrl.model.enable || $ctrl.model.always_enable"><div ng-if="!$ctrl.model.hasOwnProperty(\'post_type\') || !$ctrl.model.post_type" list-selection ng-default="$ctrl.defaultOption" ng-model="$ctrl.model.value" ng-list="$ctrl.list"></div><div ng-if="$ctrl.model.hasOwnProperty(\'post_type\') && $ctrl.model.post_type" ng-repeat="(key, value) in $ctrl.model.value track by $index"><p>{{::$ctrl.capitalizeFirstLetter(key)}}</p><div list-selection ng-default="$ctrl.defaultOption" ng-model="$ctrl.model.value[key]" ng-list="$ctrl.list"></div></div></div></div>',bindings:{name:"@",model:"=",list:"<"}}),a.component("trashPanel",{controller:["$timeout","$http","$DragifyWPPopup",function(e,i,n){var r=this;r.show_confirm=!1,this.isActive=function(){return this.model.show_trash},this.restore=function(s){var o=this.model.trash[s];o.deleting=!1,o.restoring=!0,i({method:"POST",url:a.__config.api+"/"+t+"s/status",data:{id:o.id,status:"publish"}}).then(function(t){t.data&&(r.model.list.unshift(r.model.trash.splice(s,1)[0]),e(function(){r.model.list[0].restoring=!1},400))},function(e){o.restoring=!1,n.show({title:"Try it Later",message:"Error! cannot restore data."})})},this.remove=function(e){var s=this.model.trash[e];s.removing=!0,i({method:"DELETE",url:a.__config.api+"/"+t+"s/"+s.id}).then(function(t){-1!=t.data&&r.model.trash.splice(e,1)},function(e){s.removing=!1,n.show({title:"Try it Later",message:"Error! cannot remove data."})})}}],template:'<div class="dragifywp-ba__trashPanel dragifywp-ba__aside" ng-class="{\'dragifywp-ba__trashPanel--active\': $ctrl.isActive()}"><div class="dragifywp-ba__aside__header"><h6 class="dragifywp-ba__aside__header__name">Trash</h6><span ng-click="$ctrl.model.show_trash=false" class="dragifywp-ba__aside__header__closeBtn lmr lmr-cross"></span></div><div class="dragifywp-ba__aside__container"><div class="dragifywp-ba__trash__list"><p class="dragifywp-ba__trash__list__empty" ng-show="$ctrl.model.trash.length == 0">The Trash is empty.</p><div class="dragifywp-ba__trash__item"ng-class="{\'dragifywp-ba__trash__item--removing\':item.removing, \'dragifywp-ba__trash__item--restoring\':item.restoring}"ng-repeat="item in $ctrl.model.trash"><span class="dragifywp-ba__trash__item__title" ng-bind="::item.name"></span><div class="dragifywp-ba__trash__item__action" ng-show="!item.show_confirm"><span ng-click="$ctrl.restore($index)"><i class="lmr lmr-undo2"></i> Restore</span><span ng-click="item.show_confirm=true" class="lmr lmr-trash2"></span></div><div class="dragifywp-ba__trash__item__removeConfirm" ng-show="item.show_confirm">Are your sure? <span ng-click="$ctrl.remove($index)">Yes</span> <span ng-click="item.show_confirm=false">No</span></div></div></div></div></div>',bindings:{model:"="}}),a.directive("listSelection",function(){return{restrict:"A",scope:{ngModel:"=",ngList:"<",ngDefault:"<"},link:function(t,i,a){var n=Date.now(),r=jQuery('<select id="uq-'+n+'" style="width: 100%"></select>');i.append(r),r.select2(),t.$watch("ngList",function(){var i="";e.isObject(t.ngDefault)&&(i+='<option value="'+t.ngDefault.id+'">'+t.ngDefault.name+"</option>");for(var a=0,n=t.ngList.length;a<n;a++){var s=t.ngList[a];if(s){var o=t.ngModel==s.id?'selected="selected"':"";i+='<option value="'+s.id+'" '+o+">"+s.name+"</option>"}}r.html(i),r.on("change",function(){t.$apply(function(){t.ngModel=r.val()})})},!0)}}})}(window.angular)},348:function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,i,a){function n(e,i){return(void 0===e?"undefined":t(e))===i}function r(e,t){return!!~(""+e).indexOf(t)}function s(){return"function"!=typeof i.createElement?i.createElement(arguments[0]):P?i.createElementNS.call(i,"http://www.w3.org/2000/svg",arguments[0]):i.createElement.apply(i,arguments)}function o(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,i){return t+i.toUpperCase()}).replace(/^-/,"")}function l(e,t){return function(){return e.apply(t,arguments)}}function d(e,t,i){var a;for(var r in e)if(e[r]in t)return!1===i?e[r]:(a=t[e[r]],n(a,"function")?l(a,i||t):a);return!1}function c(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function p(){var e=i.body;return e||(e=s(P?"svg":"body"),e.fake=!0),e}function _(e,t,a,n){var r,o,l,d,c="modernizr",_=s("div"),f=p();if(parseInt(a,10))for(;a--;)l=s("div"),l.id=n?n[a]:c+(a+1),_.appendChild(l);return r=s("style"),r.type="text/css",r.id="s"+c,(f.fake?f:_).appendChild(r),f.appendChild(_),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(i.createTextNode(e)),_.id=c,f.fake&&(f.style.background="",f.style.overflow="hidden",d=b.style.overflow,b.style.overflow="hidden",b.appendChild(f)),o=t(_,e),f.fake?(f.parentNode.removeChild(f),b.style.overflow=d,b.offsetHeight):_.parentNode.removeChild(_),!!o}function f(t,i){var n=t.length;if("CSS"in e&&"supports"in e.CSS){for(;n--;)if(e.CSS.supports(c(t[n]),i))return!0;return!1}if("CSSSupportsRule"in e){for(var r=[];n--;)r.push("("+c(t[n])+":"+i+")");return r=r.join(" or "),_("@supports ("+r+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return a}function m(e,t,i,l){function d(){p&&(delete T.style,delete T.modElem)}if(l=!n(l,"undefined")&&l,!n(i,"undefined")){var c=f(e,i);if(!n(c,"undefined"))return c}for(var p,_,m,u,g,h=["modernizr","tspan","samp"];!T.style&&h.length;)p=!0,T.modElem=s(h.shift()),T.style=T.modElem.style;for(m=e.length,_=0;m>_;_++)if(u=e[_],g=T.style[u],r(u,"-")&&(u=o(u)),T.style[u]!==a){if(l||n(i,"undefined"))return d(),"pfx"!=t||u;try{T.style[u]=i}catch(e){}if(T.style[u]!=g)return d(),"pfx"!=t||u}return d(),!1}function u(e,t,i,a,r){var s=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+x.join(s+" ")+s).split(" ");return n(t,"string")||n(t,"undefined")?m(o,t,a,r):(o=(e+" "+S.join(s+" ")+s).split(" "),d(o,t,i))}function g(e,t,i){return u(e,a,a,t,i)}var h=[],v=[],y={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var i=this;setTimeout(function(){t(i[e])},0)},addTest:function(e,t,i){v.push({name:e,fn:t,options:i})},addAsyncTest:function(e){v.push({name:null,fn:e})}},w=function(){};w.prototype=y,w=new w;var b=i.documentElement,P="svg"===b.nodeName.toLowerCase(),k="Moz O ms Webkit",x=y._config.usePrefixes?k.split(" "):[];y._cssomPrefixes=x;var S=y._config.usePrefixes?k.toLowerCase().split(" "):[];y._domPrefixes=S;var C={elem:s("modernizr")};w._q.push(function(){delete C.elem});var T={style:C.elem.style};w._q.unshift(function(){delete T.style}),y.testAllProps=u,y.testAllProps=g,w.addTest("flexbox",g("flexBasis","1px",!0)),w.addTest("flexwrap",g("flexWrap","wrap",!0)),function(){var e,t,i,a,r,s,o;for(var l in v)if(v.hasOwnProperty(l)){if(e=[],t=v[l],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(i=0;i<t.options.aliases.length;i++)e.push(t.options.aliases[i].toLowerCase());for(a=n(t.fn,"function")?t.fn():t.fn,r=0;r<e.length;r++)s=e[r],o=s.split("."),1===o.length?w[o[0]]=a:(!w[o[0]]||w[o[0]]instanceof Boolean||(w[o[0]]=new Boolean(w[o[0]])),w[o[0]][o[1]]=a),h.push((a?"":"no-")+o.join("-"))}}(),function(e){var t=b.className,i=w._config.classPrefix||"";if(P&&(t=t.baseVal),w._config.enableJSClass){var a=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");t=t.replace(a,"$1"+i+"js$2")}w._config.enableClasses&&(t+=" "+i+e.join(" "+i),P?b.className.baseVal=t:b.className=t)}(h),delete y.addTest,delete y.addAsyncTest;for(var E=0;E<w._q.length;E++)w._q[E]();e.Modernizr=w}(window,document)},432:function(e,exports){"use strict";!function(e){e.module("dragifywpPopup",[]).factory("$DragifyWPPopup",function(){return{show:function(t){var i=e.element('<div class="dragifywp-bs__fsPopup"><h6 class="dragifywp-bs__fsPopup__title">'+t.title+'</h6><div class="dragifywp-bs__fsPopup__body">'+t.message+'</div><div class="dragifywp-bs__fsPopup__footer"></div></div><div class="dragifywp-bs__fsPopup__backdrop"></div>'),a=i.find(".dragifywp-bs__fsPopup__footer");if(Array.isArray(t.buttons))t.buttons.forEach(function(t){var i=e.element('<button class="dragifywp-ui__btn"></button>');t.hasOwnProperty("text")?i.html(t.text):i.html("Dismiss"),t.hasOwnProperty("class")?i.addClass(t.class):i.addClass("dragifywp-ui__btn--primary"),i.on("click",function(e){e.preventDefault(),"function"==typeof t.callback&&t.callback(),r()}),a.append(i)});else{var n=e.element('<button class="dragifywp-ui__btn dragifywp-ui__btn--primary">Dismiss</button>');a.append(n),n.on("click",function(e){e.preventDefault(),r()})}e.element("body").append(i),"function"==typeof t.onInit&&t.onInit(i);var r=function(){return i.remove(),document.removeEventListener("keydown",s),"function"==typeof t.onClose&&t.onClose(i),!0},s=function(e){27==e.keyCode&&r()};document.addEventListener("keydown",s)}}})}(window.angular)}});