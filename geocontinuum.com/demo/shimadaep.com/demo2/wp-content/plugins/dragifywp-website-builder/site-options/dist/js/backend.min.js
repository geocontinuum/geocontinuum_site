!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};t.m=e,t.c=i,t.p="",t(0)}([function(e,exports,t){"use strict";t(1),t(2),t(5),t(12)},function(e,exports){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();!function(){var e=function(){function e(){t(this,e),this.panels=JSON.parse(window.dragifywp_app_data.panels),this.config={}}return i(e,[{key:"get_config_object",value:function(e){return this.config.hasOwnProperty(e)?this.config[e]:{}}},{key:"generate_panel",value:function(e,t){return this.config[t]={},this.generate_tag(e,this.config[t])}},{key:"generate_tag",value:function(e,t){for(var i="",n=0;n<e.length;n++){var o=e[n];if(o.hasOwnProperty("tag")||(o.tag="div"),"watch"!=o.tag){var r="",a="";o.hasOwnProperty("if")&&o.if?(r=o.if,r=r.replace(/@options/g,"$ctrl.service.options"),o.hasOwnProperty("attrs")&&o.attrs.hasOwnProperty("ng-if")&&delete o.attrs["ng-if"]):o.hasOwnProperty("show")&&o.show&&(a=o.show,a=a.replace(/@options/g,"$ctrl.service.options"),o.hasOwnProperty("attrs")&&o.attrs.hasOwnProperty("ng-show")&&delete o.attrs["ng-show"]),i+="<"+o.tag,r&&(i+=' ng-if="'+r+'"'),a&&(i+=' ng-show="'+a+'"'),o.bind_to&&(i+=' model="$ctrl.service.options.'+o.bind_to+'"',i+=' bind_to="'+o.bind_to+'"'),o.attrs&&angular.forEach(o.attrs,function(e,n){"config"==n?(i+=' config="$ctrl.config.'+o.bind_to+'"',t[o.bind_to]=o.attrs.config):("ng-if"!=n&&"ng-show"!=n||(e=e.replace(/@options/g,"$ctrl.service.options")),i+=" "+n+'="'+e+'"')}),i+=">",o.content&&(i+=this.generate_tag(o.content,t)),i+="</"+o.tag+">"}}return i}},{key:"get_models",value:function(){return this.panels}}]),e}();window.dragifywp_theme_option=new e}()},function(e,exports,t){"use strict";t(3),t(4)},function(e,exports){"use strict";!function(e){var t=e.module("dragifywp.builder.app",["ngSanitize","dragifywpService","dragifywpHotKeys","ui.ace","colorpicker.module","ui.router","dragifywpPopup"]);t.__config=window.dragifywp_app_data,t.controller("dragifywp_builder_app_controller",function(){}),t.config(["$stateProvider",function(e){var t=window.dragifywp_theme_option.get_models();for(var i in t)if(e.state({name:i,url:"/"+i,template:"<option-panel-wrap></option-panel-wrap>"}),t[i].hasOwnProperty("childs")&&Object.keys(t[i].childs).length)for(var n in t[i].childs)e.state({name:n,url:"/"+n,template:"<option-panel-wrap></option-panel-wrap>"})}]),t.component("optionBoard",{controller:["$http","$DragifyWPService","$DragifyWPHotKeys",function(i,n,o){if(Modernizr.flexbox&&Modernizr.flexwrap)this.$onInit=function(){var i=this;i.service=n,i.service.lv1_active="",i.service.lv2_active="",i.showCodeEditor=!1,o.init(),n.commandManager.init(),i.service.initData("backend"),t.__config.data.options&&(i.service.options=e.merge(i.service.options,t.__config.data.options)),i.service.filterOptions(),e.forEach(i.service.panels,function(t,n){t.hasOwnProperty("childs")?e.forEach(t.childs,function(e,t){i.service.getModelsOfSection(e,t)}):i.service.getModelsOfSection(t,n)}),i.defaultOptions=e.merge({},i.service.options)};else{var r=document.querySelector(".dragifywp-bs__preloader");r.className=r.className+" dragifywp-bs__preloader--hide"}}],template:function(){return Modernizr.flexbox&&Modernizr.flexwrap?'<div class="dragifywp-customizer"><div class="dragifywp-customizer__wrap"><option-header></option-header><option-sidebar></option-sidebar><option-panel></option-panel>\x3c!--<option-footer></option-footer>--\x3e<option-template-panel></option-template-panel>\x3c!--<reset-popup></reset-popup>--\x3e\x3c!--<option-code-editor-panel></option-code-editor-panel>--\x3e</div></div>':'<div class="dragifywp-bs__notSupportMessage"><p>Opp! We currently do not support This Browser. Please switch to <strong>modern</strong> Browsers such as last-versions of <strong>Chrome</strong> or <strong>Firefox</strong> for better experience.</p></div>'}}),t.component("optionHeader",{controller:["$http","$timeout","$DragifyWPService","$scope","$rootScope","$DragifyWPPopup",function(i,n,o,r,a,l){var s=this;s.service=o,s.state="disabled",s.is_saving=!1;var d=void 0;"undefined"!=typeof Storage&&void 0!==sessionStorage.dragifywp_to_data?(o.options=e.merge({},JSON.parse(sessionStorage.dragifywp_to_data)),delete sessionStorage.dragifywp_to_data,s.state="ready"):d=JSON.stringify(s.service.options),s.getState=function(){return"disabled"==s.state&&JSON.stringify(s.service.options)!==d&&(s.state="ready"),s.state},a.$on("expired_session",function(){"disabled"!=s.state&&"undefined"!=typeof Storage&&(sessionStorage.dragifywp_to_data=JSON.stringify(s.service.options)),document.location.replace(t.__config.login_url)}),a.$on("promptSave",function(){s.save()}),s.save=function(){if("ready"==s.state){s.is_saving=!0,s.state="saving";var e=s.service.options;i({method:"POST",url:t.__config.api+"/backend-options",data:{options:JSON.stringify(e)}}).then(function(t){s.state="saved",n(function(){s.state="disabled",s.is_saving=!1,d=JSON.stringify(e)},500)},function(e){s.state="ready",l.show({title:"Try it Later",message:"Cannot save data!"})})}}}],template:'<div class="dragifywp-customizer__header"><button class="dragifywp-customizer__undoBtn" blink-click ng-click="$ctrl.service.commandManager.undo()" ng-disabled="!$ctrl.service.commandManager.canUndo()"><i class="lmr lmr-undo2"></i></button><button class="dragifywp-customizer__redoBtn" blink-click ng-click="$ctrl.service.commandManager.redo()" ng-disabled="!$ctrl.service.commandManager.canRedo()"><i class="lmr lmr-undo2"></i></button><button class="dragifywp-customizer__saveBtn dragifywp-ui__btn dragifywp-ui__btn--primary" ng-class="[\'dragifywp-customizer__saveBtn--\'+$ctrl.getState()]" ng-click="$ctrl.save()"><span>Saved</span><span>Save</span><span></span><span><i class="fa fa-check" aria-hidden="true"></i></span></button></div>'}),t.component("optionFooter",{require:{parent:"^optionBoard"},controller:["$DragifyWPService","$DragifyWPHotKeys",function(e,t){var i=this;this.service=e,this.openCodeEditor=function(){i.parent.showCodeEditor=!0,t.escKeyPressManager.add(function(){return i.parent.showCodeEditor=!1,!0})}}],template:'<div class="dragifywp-customizer__footer"><button class="dragifywp-ui__btn dragifywp-ui__btn--primary" ng-click="$ctrl.openCodeEditor()">Code Editor</button>\x3c!--<button class="dragifywp-ui__btn dragifywp-ui__btn&#45;&#45;secondary" ng-click="$ctrl.service.showTemplate=true">Templates</button>--\x3e</div>'}),t.component("optBox",{controller:function(){},template:'<div class="dragifywp-option-overlay" ng-class="{\'shown\':$ctrl.onShown}"><div class="dragifywp-option-opt-box"><p ng-bind="::$ctrl.message"></p><div class="dragifywp-option-opt-decision"><a ng-bind="::$ctrl.yesLabel" ng-click="$ctrl.onYes()"></a><a ng-bind="::$ctrl.noLabel" ng-click="$ctrl.onNo()"></a></div></div></div>',bindings:{yesLabel:"@",noLabel:"@",message:"@",onYes:"&",onNo:"&",onShown:"<"}}),t.component("optionSidebar",{require:{parent:"^optionBoard"},controller:["$DragifyWPService","$rootScope","$timeout","$state",function(e,t,i,n){var o=this;this.service=e,this.directPanel=!1,this.currentPanel="",this.selectPanel=function(e){o.service.panels.hasOwnProperty(e)&&o.service.panels[e].hasOwnProperty("childs")&&o.service.panels[e].childs.length&&(e=Object.keys(o.service.panels[e].childs)[0]),e!=o.currentPanel&&(this.service.showOptionPanel=!1,n.go(e),i(function(){o.service.showOptionPanel=!0},100))},t.$on("$stateChangeStart",function(e,t,i,n,r){o.service.lv1_active="",o.service.lv2_active="";for(var a in o.service.panels){if(a==t.name){o.directPanel=!0,o.service.lv1_active=a,o.service.panels[a].hasOwnProperty("childs")&&Object.keys(o.service.panels[a].childs).length?(o.service.lv2_active=Object.keys(o.service.panels[a].childs)[0],o.currentPanel=Object.keys(o.service.panels[a].childs)[0]):(o.service.lv2_active=a,o.currentPanel=a);break}if(o.service.panels[a].hasOwnProperty("childs")&&Object.keys(o.service.panels[a].childs).length)for(var l in o.service.panels[a].childs)if(l==t.name){o.directPanel=!0,o.service.lv1_active=a,o.service.lv2_active=l,o.currentPanel=l;break}}}),i(function(){o.directPanel||o.selectPanel(Object.keys(o.service.panels)[0])},1),this.reset=function(e){t.$emit("show-reset-popup",e)},this.resetAll=function(){t.$emit("show-reset-popup","transfered-data")}}],template:'<div class="dragifywp-customizer__sidebar"><div class="dragifywp-customizer__sidebar__header"><h3 class="dragifywp-customizer__title">Site Options</h3>\x3c!--<button class="dragifywp-customizer__resetAllBtn" ng-click="$ctrl.resetAll()">--\x3e\x3c!--<i class="fa fa-undo"></i>--\x3e\x3c!--</button>--\x3e</div><div class="dragifywp-customizer__menu"><div ng-repeat="(name, panel) in ::$ctrl.service.panels" class="dragifywp-customizer__menu__item"><div class="dragifywp-customizer__menu__item__parent"ng-class="{\'dragifywp-customizer__menu__item__parent--active\':$ctrl.service.lv1_active == name, \'dragifywp-customizer__menu__item__parent--hasChild\':panel.childs}" ng-click="$ctrl.selectPanel(name)"><span class="dragifywp-customizer__menu__item__icon"><i class="fa fa-{{::panel.icon}}"></i></span><span ng-bind="::panel.name"></span>\x3c!--<button ng-if="::!panel.childs" class="dragifywp-customizer__sectionResetBtn" ng-click="$ctrl.reset(name)">--\x3e\x3c!--<span class="fa fa-undo"></span>--\x3e\x3c!--</button>--\x3e</div><div ng-if="::panel.childs" class="dragifywp-customizer__menu__item__child__container"><div class="dragifywp-customizer__menu__item__child"ng-repeat="(child_name, child_panel) in ::panel.childs"ng-class="{\'dragifywp-customizer__menu__item__child--active\': $ctrl.service.lv2_active == child_name}"ng-click="$ctrl.selectPanel(child_name)">{{::child_panel.name}}\x3c!--<button class="dragifywp-customizer__sectionResetBtn" ng-click="$ctrl.reset(child_name)">--\x3e\x3c!--<span class="fa fa-undo"></span>--\x3e\x3c!--</button>--\x3e</div></div></div></div></div>',bindings:{}}),t.component("optionPanel",{controller:["$DragifyWPService",function(e){this.service=e}],template:'<div class="dragifywp-customizer__panel"><ui-view></ui-view></div>',bindings:{}}),t.component("optionPanelWrap",{controller:["$DragifyWPService","$timeout",function(e,t){var i=this;this.service=e,t(function(){i.show=!0},800)}],template:'<div class="dragifywp-customizer__editorList" ng-if="$ctrl.show"><edit-list panel="$ctrl.service.lv2_active"></edit-list></div><span class="dragifywp-customizer__preloader"></span>'})}(window.angular)},function(e,exports){"use strict";!function(e){e.module("dragifywpHotKeys",["dragifywpService"]).factory("$DragifyWPHotKeys",["$timeout","$rootScope","$DragifyWPService",function(e,t,i){return{active:!0,activeQueue:0,pause:function(){this.active?this.active=!1:this.activeQueue++},resume:function(){this.activeQueue>0?this.activeQueue--:this.active=!0},init:function(){var e=this;this.escKeyPressManager.init(),Mousetrap.bindGlobal("mod+s",function(i){if(e.active)return i.preventDefault?i.preventDefault():i.returnValue=!1,t.$emit("promptSave"),!1}),Mousetrap.bind("mod+z",function(t){if(e.active)return t.preventDefault?t.preventDefault():t.returnValue=!1,i.commandManager.undo(),!1}),Mousetrap.bind("mod+shift+z",function(t){if(e.active)return t.preventDefault?t.preventDefault():t.returnValue=!1,i.commandManager.redo(),!1})},escKeyPressManager:{init:function(){for(var e=this,t=[document],i=0;i<t.length;i++){t[i].addEventListener("keydown",function(t){t=t||window.event,27==t.keyCode&&e.execute()})}},stack:[],add:function(e){"function"==typeof e&&this.stack.push(e)},execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=this;i.stack.length>0&&i.stack[i.stack.length-1]()&&e(function(){i.stack.pop(),"function"==typeof t&&t()})},pop:function(){this.stack.length>0&&this.stack.pop()}}}}])}(window.angular)},function(e,exports,t){"use strict";t(6),t(7),t(8),t(9),t(10),t(11)},function(e,exports){"use strict";!function(e){var t=e.module("dragifywp.builder.app");t.config(["$provide","$httpProvider",function(e,i){e.factory("lbHttpInterceptor",["$q","$rootScope",function(e,i){return{request:function(i){return i.headers["X-WP-Nonce"]=t.__config.nonce,i||e.when(i)},responseError:function(t){return void 0!==t.data&&"rest_cookie_invalid_nonce"==t.data.code&&i.$emit("expired_session"),e.reject(t)}}}]),i.interceptors.push("lbHttpInterceptor")}]).config(["$compileProvider",function(e){e.debugInfoEnabled(t.__config.enable_debug)}])}(window.angular)},function(e,exports){"use strict";!function(e){e.module("dragifywp.builder.app").directive("editList",["$DragifyWPService","$compile",function(t,i){return{restrict:"E",scope:{panel:"<"},link:function(t,n,o){var r=t.panel.replace("_","-"),a=e.element("<to-panel-"+r+"></to-panel-"+r+">");n.append(a),i(a)(t)}}}])}(window.angular)},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var i=e.module("dragifywp.builder.app");i.component("editorContainer",{transclude:!0,controller:function(){void 0===this.collapsed&&(this.collapsed=!1)},template:i.__config.is_front_end?'<div class="dragifywp-ui__container" data-name="{{::$ctrl.label.toLowerCase()}}" ng-class="{\'dragifywp-ui__container--collapsed\':$ctrl.collapsed}"><h4 class="dragifywp-ui__container__title">{{::$ctrl.label}}<span class="dragifywp-ui__container__collapseBtn" ng-click="$ctrl.collapsed=!$ctrl.collapsed"></span></h4><div class="dragifywp-ui__container__content" ng-transclude></div></div>':'<div class="dragifywp-ui__longContainer"><h4 class="dragifywp-ui__longContainer__title" ng-bind="::$ctrl.label"></h4><div class="dragifywp-ui__longContainer__content" ng-transclude></div></div>',bindings:{label:"@",collapsed:"<"}}),i.component("editorField",{controller:["$DragifyWPService","$scope","$timeout","$attrs","$state",function(i,n,o,r,a){var l=this;if("rich-editor"!=r.type&&"code-editor"!=r.type){var s,d=Date.now(),c=!0,p=null,f={};f.field=l.bindTo,f.panel=a.current.name,n.$watch("$ctrl.model",function(r,a){if(c)return void(c=!1);i.commandManager.free&&(i.reloadModels.hasOwnProperty(l.bindTo)&&n.$emit("reload",[{field:l.bindTo,value:a}]),Date.now()-d<500&&s&&o.cancel(s),null==p&&(p=a),d=Date.now(),s=o(function(){if(r!=p){var n=e.merge({},f);Array.isArray(r)?(n.newVal=e.merge([],r),n.oldVal=e.merge([],p)):"object"==(void 0===r?"undefined":t(r))?(n.newVal=e.merge({},r),n.oldVal=e.merge({},p)):(n.newVal=r,n.oldVal=p),i.reloadModels.hasOwnProperty(l.bindTo)?i.setChangeAttrReload(n):i.setChangeAttr(n),p=null,i.commandManager.free=!0}},500))},!0)}}],template:["$element","$attrs",function(e,t){return i.__config.is_front_end?'<div class="dragifywp-ui__field" ng-class="::{\'dragifywp-ui__field--fullwidth\':$ctrl.fullwidth}"><span class="dragifywp-ui__field__label" ng-bind="::$ctrl.label"></span><div class="dragifywp-ui__field__input"><dragifywp-ed-'+t.type+' model="$ctrl.model" config="$ctrl.config"></dragifywp-ed-'+t.type+'><small class="dragifywp-ui__field__desc" ng-if="::$ctrl.desc" ng-bind-html="::$ctrl.desc"></small></div></div>':'<div class="dragifywp-ui__longField" ng-class="::{\'dragifywp-ui__longField--fullWidth\':$ctrl.fullwidth}"><h6 class="dragifywp-ui__longField__label" ng-if="::$ctrl.label" ng-bind="::$ctrl.label"></h6><div class="dragifywp-ui__longField__container"><div class="dragifywp-ui__longField__input"><dragifywp-ed-'+t.type+' model="$ctrl.model" config="$ctrl.config"></dragifywp-ed-'+t.type+'></div><div class="dragifywp-ui__longField__desc"><p ng-if="::$ctrl.desc" ng-bind-html="::$ctrl.desc"></p></div></div></div>'}],bindings:{type:"@",desc:"@",label:"@",config:"<",model:"=",bindTo:"@",fullwidth:"<",panel:"@"}}),i.component("dragifywpEdLayoutSelection",{controller:function(){this.layouts=["fullwidth","sidebar-left","sidebar-left-left","sidebar-left-right","sidebar-right","sidebar-right-right","blank"]},template:'<div class="dragifywp-ui-image-selection"><div class="dragifywp-ui-is-item"ng-click="$ctrl.model=item"ng-class="{\'__active\':$ctrl.model == item}"ng-repeat="item in ::$ctrl.layouts"><img ng-src="'+i.__config.img_url+'/{{::item}}.png"/></div></div>',bindings:{model:"=",config:"<"}}),i.component("dragifywpEdMediaQueryUnit",{controller:["$scope",function(e){this.screen_width=1200,this.currentIndex=-1,this.model||(this.model=[]),this.create=function(){if(this.isValid()){var e={};e.screen_width=this.screen_width,e.value="100%",this.model.push(e)}},this.pressToCreate=function(e){13==e.keyCode&&(this.create(),e.target.blur())},this.isValid=function(){return this.screen_width>199}}],template:'<div class="dragifywp-ui__mediaQueryWidth"><div class="dragifywp-ui__mediaQueryWidth__header"><div class="dragifywp-ui__mediaQueryWidth__screen"><input class="dragifywp-ui__mediaQueryWidth__input dragifywp-ui__input-number" type="number" max="2000" min="200" ng-keypress="$ctrl.pressToCreate($event)" ng-model="$ctrl.screen_width"/> <span>px</span></div><button class="dragifywp-ui__btn dragifywp-ui__btn--primary dragifywp-ui__btn--small" ng-disabled="!$ctrl.isValid()" ng-click="$ctrl.create()">Create</button></div><ul class="dragifywp-ui__mediaQueryWidth__list"><li class="dragifywp-ui__mediaQueryWidth__item" ng-repeat="query in $ctrl.model"><button class="dragifywp-ui__mediaQueryWidth__removeBtn" ng-click="$ctrl.model.splice($index, 1)"><span class="lmr lmr-trash2"></span></button><div class="dragifywp-ui__mediaQueryWidth__query"><input type="number" max="2000" min="200" ng-model="query.screen_width"/></div><div class="dragifywp-ui__mediaQueryWidth__edit"><dragifywp-ed-unit model="query.value" config="{setting:{min:0, max:2000, step:1}, units:[\'px\',\'%\']}"></dragifywp-ed-unit></div></li></ul></div>',bindings:{model:"=",config:"<"}}),i.component("dragifywpEdSidebarSelection",{controller:function(){this.sidebars=void 0!==i.__config.sidebars?i.__config.sidebars:{}},template:'<div><div list-selection ng-model="$ctrl.model" ng-list="$ctrl.sidebars" ng-default="{id:0, name:\'Select a Sidebar\'}"></div></div>',bindings:{model:"=",config:"<"}}),i.component("dragifywpEdClassSelection",{controller:["$scope","$DragifyWPService",function(t,i){var n=this;t.$watch("$ctrl.model",function(t,o){e.element(i.getIframeElement(n.config.selector)).removeClass(o).addClass(t)})}],template:'<select class="dragifywp-ui__select" ng-model="$ctrl.model"><option ng-repeat="(key, value) in ::$ctrl.config.classes" value="{{::key}}" ng-bind="::value"></option></select>',bindings:{model:"=",config:"<"}}),i.component("dragifywpEdClassTextButtons",{controller:["$scope","$DragifyWPService",function(t,i){var n=this;this.config.hasOwnProperty("class")?this.class="dragifywp-ui__buttonGroup__btn--"+this.config.class:this.class="dragifywp-ui__buttonGroup__btn--smallText",t.$watch("$ctrl.model",function(t,o){e.element(i.getIframeElement(n.config.selector)).removeClass(o).addClass(t)})}],template:'<div class="dragifywp-ui__buttonGroup"><button type="button" class="dragifywp-ui__buttonGroup__btn {{::$ctrl.class}}"ng-repeat="(k, v) in ::$ctrl.config.options"ng-click="$ctrl.model=k"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model == k}" ng-bind="::v"></button></div>',bindings:{model:"=",config:"<"}});var n=0;i.component("dragifywpEdToggleClass",{controller:["$scope","$DragifyWPService",function(t,i){var o=this;this.id="lbswid-"+ ++n,void 0!==this.config.selector&&t.$watch("$ctrl.model",function(t,n){var r=e.element(i.getIframeElement(o.config.selector));t?r.addClass(o.config.class):r.removeClass(o.config.class)})}],template:'<div class="dragifywp-ui__switch"><input class="dragifywp-ui__switch__checkbox" type="checkbox" ng-model-options="{debounce: 250}" ng-model="$ctrl.model" id="{{::$ctrl.id}}"/><label class="dragifywp-ui__switch__btn" for="{{::$ctrl.id}}"><span class="dragifywp-ui__switch__btn__toggle"></span></label></div>',bindings:{model:"=",config:"<"}}),i.component("dragifywpEdNumberWatchAttr",{controller:["$scope","$DragifyWPService",function(t,n){var o=this,r=null;isNaN(this.model)&&(this.model=0),i.__config.is_front_end&&t.$watch("$ctrl.model",function(){(r=e.element(n.getIframeDoc()).find(o.config.selector))&&r.attr(o.config.attr,o.model)}),this.updateNumber=function(e){this.model=e}}],template:'<div class="dragifywp-ui__number"><input  class="dragifywp-ui__number__input dragifywp-ui__input-number" dragnumber on-update-number="$ctrl.updateNumber(number)" config="$ctrl.config.setting" type="number" ng-model="$ctrl.model"/><span ng-bind="::$ctrl.config.unit"></span></div>',bindings:{model:"=",config:"<"}}),i.component("dragifywpEdGoogleFontMultiVariants",{controller:function(){},template:['<div class="dragifywp-ui-gfont-multi-variants" google-fonts-v2 ng-model="$ctrl.model"></div>'].join(""),bindings:{model:"=",config:"<"}}),i.component("dragifywpEdUploadedFonts",{controller:["$DragifyWPHotKeys","$timeout",function(e,t){var i=this;this.edited=void 0,"[object Object]"!==Object.prototype.toString.call(this.model)&&(this.model={}),this.fontCount=function(){var e=Object.keys(this.model).length;return e+" Font"+(e>1?"s":"")},this.add=function(){var e=new Date,n=e.getTime();this.model[n]={name:"Unnamed Font",family:"",fallback:"sans-serif",enable:!1,ttf_link:"",woff_link:"",woff2_link:"",svg_link:"",eot_link:"",id:e.getTime()},t(function(){i.edit(n)})},this.remove=function(e){delete this.model[e]},this.edit=function(t){this.edited=this.model[t],this.active=!0,e.pause(),e.escKeyPressManager.add(function(){return e.resume(),i.active=!1,!0})},this.close=function(){e.escKeyPressManager.execute()}}],template:'<div class="dragifywp-ui__itemList"><div class="dragifywp-ui__itemList__header"><span class="dragifywp-ui__itemList__count" ng-bind="$ctrl.fontCount()"></span> <span class="dragifywp-ui__btn dragifywp-ui__btn--primary dragifywp-ui__btn--small" ng-click="$ctrl.add()">Add New</span></div><div class="dragifywp-ui__itemList__list"><dragifywp-ed-upload-font model="font" on-remove="$ctrl.remove(id)" on-edit="$ctrl.edit(id)" ng-repeat="(id, font) in $ctrl.model"></dragifywp-ed-upload-font></div><dragifywp-ed-edit-font model="$ctrl.edited" active="$ctrl.active" on-close="$ctrl.close()"></dragifywp-ed-edit-font></div>',bindings:{model:"="}}),i.component("dragifywpEdUploadFont",{controller:function(){},template:'<div class="dragifywp-ui__itemList__item"><div class="dragifywp-ui__itemList__name"><h6 ng-bind="$ctrl.model.name"></h6><dragifywp-ed-tiny-switch model="$ctrl.model.enable"></dragifywp-ed-tiny-switch></div><div class="dragifywp-ui__itemList__action"><div ng-if="$ctrl.askToRemove" class="dragifywp-ui__itemList__removeConfirm"><span class="dragifywp-ui__itemList__message">Are your sure?</span> <span class="dragifywp-ui__hardAction" ng-click="$ctrl.onRemove()">Yes</span><span class="dragifywp-ui__separator">|</span><span class="dragifywp-ui__softAction" ng-click="$ctrl.askToRemove=false">No</span></div><div><span class="dragifywp-ui__softAction" ng-click="$ctrl.onEdit()">Edit</span><span class="dragifywp-ui__separator">|</span><span class="dragifywp-ui__hardAction" ng-click="$ctrl.askToRemove=true">Remove</span></div></div></div>',bindings:{model:"=",onRemove:"&",onEdit:"&"}}),i.component("dragifywpEdEditFont",{controller:function(){this.$onDestroy=function(){this.active&&this.onClose()}},template:'<div class="dragifywp-ui__popup" ng-class="{\'dragifywp-ui__popup--show\':$ctrl.active}"><h6 class="dragifywp-ui__popup__title">Upload Font</h6><span class="dragifywp-ui__popup__close lmr lmr-cross" ng-click="$ctrl.onClose()"></span><div class="dragifywp-ui__popup__container"><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Name</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text model="$ctrl.model.name"></dragifywp-ed-text></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Family</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text model="$ctrl.model.family"></dragifywp-ed-text><p>The value is used for the CSS font-family property.</p></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Fallback</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text model="$ctrl.model.fallback"></dragifywp-ed-text><p>The font fallback(s) in the case this font is unable to load.</p></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">TTF</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-upload-field extension="ttf" model="$ctrl.model.ttf_link"></dragifywp-ed-upload-field></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">WOFF</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-upload-field extension="woff" model="$ctrl.model.woff_link"></dragifywp-ed-upload-field></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">WOFF2</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-upload-field extension="woff2" model="$ctrl.model.woff2_link"></dragifywp-ed-upload-field></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">SVG</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-upload-field extension="svg" model="$ctrl.model.svg_link"></dragifywp-ed-upload-field></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">EOT</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-upload-field extension="eot" model="$ctrl.model.eot_link"></dragifywp-ed-upload-field></div></div></div></div><div class="dragifywp-ui__popup__backdrop" ng-click="$ctrl.onClose()"></div>',bindings:{model:"=",active:"<",onClose:"&"}}),i.component("dragifywpEdUploadField",{controller:["$scope",function(e){var t,i,n=this;this.upload=function(){t=wp.media({title:"Upload or Choose from Media Library",button:{text:"Select"},multiple:!1}),t.on("select",function(){i=t.state().get("selection").first().toJSON(),e.$apply(function(){n.model=i.url})}),t.open()}}],template:'<div class="dragifywp-ui__uploadField"><input class="dragifywp-ui__input-text dragifywp-ui__uploadField" type="text" ng-model="$ctrl.model" ng-model-options="{ debounce: 500 }"/><span class="dragifywp-ui__uploadField__uploadBtn" ng-click="$ctrl.upload()"><i class="lmr lmr-upload2"></i></span><div class="dragifywp-ui__uploadField__remove" ng-show="$ctrl.model" ng-if="::$ctrl.config.text_clear"><small class="dragifywp-ui__uploadField__remove__btn" ng-click="$ctrl.model=\'\'"><i class="lmr lmr-cross"></i> Remove</small></div></div>',bindings:{model:"=",config:"<"}}),i.component("dragifywpEdFontSearcher",{controller:["$DragifyWPService",function(e){this.fonts=e.options.uploaded_fonts,this.model||(this.model="0")}],template:'<div class="dragifywp-ui-font-searcher" list-selection ng-model="$ctrl.model" ng-list="$ctrl.fonts" ng-default="{id:\'0\', name: \'Select a Font\'}"></div>',bindings:{model:"="}}),i.component("dragifywpEdFieldGenerator",{controller:function(){this.sidebarName="",this.currentIndex=-1,"[object Object]"!==Object.prototype.toString.call(this.model)&&(this.model={}),this.create=function(){if(this.isValid()){var e=new Date;this.model[e.getTime()]={id:e.getTime(),name:this.sidebarName},this.sidebarName=""}},this.pressToCreate=function(e){13==e.keyCode&&(this.create(),e.target.blur())},this.isValid=function(){return this.sidebarName.trim()},this.remove=function(e){delete this.model[e]}},template:'<div class="dragifywp-ui__fieldGenerator"><div class="dragifywp-ui__fieldGenerator__header"><input class="dragifywp-ui__input-text" type="text" maxlength="{{::$ctrl.config.maxlength}}" ng-trim="true" placeholder="{{::$ctrl.config.placeholder}}" ng-keypress="$ctrl.pressToCreate($event)" ng-model="$ctrl.sidebarName"/><button class="dragifywp-ui__btn dragifywp-ui__btn--primary dragifywp-ui__btn--small" ng-disabled="!$ctrl.isValid()" ng-click="$ctrl.create()">Create</button></div><ul class="dragifywp-ui__fieldGenerator__list"><li class="dragifywp-ui__fieldGenerator__item" ng-trim="true" ng-repeat="(id, sidebar) in $ctrl.model"><span class="dragifywp-ui__fieldGenerator__index" ng-bind="$index+1"></span><input type="text" class="dragifywp-ui__fieldGenerator__input" maxlength="{{::$ctrl.config.maxlength}}" ng-model="sidebar.name" ng-model-options="{debounce:500}"/><span class="dragifywp-ui__fieldGenerator__removeBtn lmr lmr-trash2" ng-click="$ctrl.remove(id)"></span></li></ul></div>',bindings:{model:"=",config:"<"}}),i.component("dragifywpEdTypographyFont",{controller:["$DragifyWPService",function(e){this.uploaded_fonts=e.options.uploaded_fonts}],template:'<select ng-model="$ctrl.model.source" class="dragifywp-ui__select" style="margin-bottom:10px"><option ng-repeat="(key, value) in ::$ctrl.config" value="{{::value}}" ng-bind="::key"></option></select><div ng-if="$ctrl.model.source == \'google\'" google-fonts ng-model="$ctrl.model.google"></div><div ng-if="$ctrl.model.source == \'uploaded\'" class="dragifywp-ui-font-searcher" list-selection ng-model="$ctrl.model.uploaded" ng-list="$ctrl.uploaded_fonts" ng-default="{id:\'0\', name: \'Select a Font\'}"></div>',bindings:{model:"=",config:"<"}}),i.component("dragifywpEdGeneralFont",{controller:function(){this.sample={inherit:"Inherit",google:"Google Fonts",uploaded:"Uploaded Fonts",typekit:"Typekit Fonts"},void 0!==this.config&&this.config.hasOwnProperty("has_inherit")&&this.config.has_inherit||delete this.sample.inherit},template:'<div class="dragifywp-ui__buttonGroup dragifywp-ui--marginBottom10"><button type="button" class="dragifywp-ui__buttonGroup__btn dragifywp-ui__buttonGroup__btn--image"ng-repeat="(k, v) in ::$ctrl.sample"title="{{::v}}"ng-click="$ctrl.model.source=k"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model.source === k}"><span ng-style="::{\'background-image\':\'url('+i.__config.img_url+'/icons/\'+k+\'.svg)\'}"></span></button></div><div ng-if="$ctrl.model.source == \'google\'" class="dragifywp-ui-gfont-multi-variants" google-fonts-v2 ng-model="$ctrl.model.google"></div><dragifywp-ed-selection-loader ng-if="$ctrl.model.source == \'uploaded\'" model="$ctrl.model.uploaded" config="{url: \''+i.__config.global_api+"/uploaded-fonts', name: 'font'}\"></dragifywp-ed-selection-loader><dragifywp-ed-selection-loader ng-if=\"$ctrl.model.source == 'typekit'\" model=\"$ctrl.model.typekit\" config=\"{url: '"+i.__config.global_api+"/typekit-fonts', name: 'font'}\"></dragifywp-ed-selection-loader>",bindings:{model:"=",config:"<"}}),i.component("dragifywpEdTextWatch",{controller:["$scope",function(e){var t=this;i.__config.is_front_end&&e.$watch("$ctrl.model",function(){jQuery("#dragifywp-bs-iframe").contents().find(t.config.selector).html(t.model)})}],template:'<div class="dragifywp-ui__text"><input app-undo-redo class="dragifywp-ui__text__input dragifywp-ui__input-text" ng-trim="true" ng-model="$ctrl.model" type="text" ng-model-options="{debounce:250}"/><span class="dragifywp-ui__text__clear-btn" ng-show="$ctrl.model" ng-click="$ctrl.model=\'\'"><i class="lmr lmr-cross"></i></span></div>',bindings:{model:"=",config:"<"}}),i.component("dragifywpEdModuleList",{controller:["$DragifyWPService","$scope",function(t,n){var o=this;o.panels=i.__config.frontend_modules,n.$watch("$ctrl.model",function(){for(var e in o.panels)if(o.panels[e].hasOwnProperty("childs")){var t=!1;for(var i in o.panels[e].childs)-1==o.model.indexOf(i)?(o.panels[e].childs[i].checked=!0,t=!0):o.panels[e].childs[i].checked=!1;o.panels[e].checked=t}else o.panels[e].checked=-1==o.model.indexOf(e)},!0),o.changeLv1=function(t){if(o.panels[t].hasOwnProperty("childs")){var i=e.merge([],o.model);for(var n in o.panels[t].childs)o.panels[t].checked?-1!=i.indexOf(n)&&i.splice(i.indexOf(n),1):-1==i.indexOf(n)&&i.push(n);o.model=e.merge([],i)}else o.panels[t].checked?o.model.splice(o.model.indexOf(t),1):o.model.push(t)},o.changeLv2=function(e,t){o.panels[e].childs[t].checked?o.model.splice(o.model.indexOf(t),1):o.model.push(t)}}],template:'<ul class="dragifywp-ui__moduleList"><li ng-repeat="(panelName, panel) in ::$ctrl.panels"><label class="dragifywp-ui__moduleList__name"><span ng-bind="::panel.name"></span><input type="checkbox" ng-model="panel.checked" ng-change="$ctrl.changeLv1(panelName)" /></label><ul ng-if="::panel.childs"><li ng-repeat="(childPanelName, childPanel) in ::panel.childs"><label  class="dragifywp-ui__moduleList__childName"><span ng-bind="::childPanel.name"></span><input type="checkbox" ng-model="childPanel.checked" ng-change="$ctrl.changeLv2(panelName, childPanelName)" /></label></li></ul></li></ul>',bindings:{model:"="}}),i.component("dragifywpEdEnqueueScripts",{controller:["$DragifyWPHotKeys","$timeout",function(e,t){var i=this;this.edited=void 0,"[object Object]"!==Object.prototype.toString.call(this.model)&&(this.model={}),this.itemCount=function(){var e=Object.keys(this.model).length;return e+" Item"+(e>1?"s":"")},this.add=function(){var e=new Date,n=e.getTime();this.model[n]={handle:"Unnamed Script",src:"",deps:"",ver:"",in_footer:!1,id:e.getTime()},t(function(){i.edit(n)})},this.remove=function(e){delete this.model[e]},this.edit=function(t){this.edited=this.model[t],this.active=!0,e.pause(),e.escKeyPressManager.add(function(){return i.active=!1,e.resume(),!0})},this.close=function(){e.escKeyPressManager.execute()}}],template:'<div class="dragifywp-ui__itemList"><div class="dragifywp-ui__itemList__header"><span class="dragifywp-ui__itemList__count" ng-bind="$ctrl.itemCount()"></span> <span class="dragifywp-ui__btn dragifywp-ui__btn--primary dragifywp-ui__btn--small" ng-click="$ctrl.add()">Add New</span></div><div class="dragifywp-ui__itemList__list"><dragifywp-ed-enqueue-script model="font" on-remove="$ctrl.remove(id)" on-edit="$ctrl.edit(id)" ng-repeat="(id, font) in $ctrl.model"></dragifywp-ed-enqueue-script></div><dragifywp-ed-edit-script model="$ctrl.edited" on-close="$ctrl.close()" active="$ctrl.active"></dragifywp-ed-edit-script></div>',bindings:{model:"="}}),i.component("dragifywpEdEnqueueScript",{controller:function(){},template:'<div class="dragifywp-ui__itemList__item"><div class="dragifywp-ui__itemList__name"><h6 ng-bind="$ctrl.model.handle"></h6><dragifywp-ed-tiny-switch model="$ctrl.model.enable"></dragifywp-ed-tiny-switch></div><div class="dragifywp-ui__itemList__action"><div ng-if="$ctrl.askToRemove" class="dragifywp-ui__itemList__removeConfirm"><span class="dragifywp-ui__itemList__message">Are your sure?</span> <span class="dragifywp-ui__hardAction" ng-click="$ctrl.onRemove()">Yes</span><span class="dragifywp-ui__separator">|</span><span class="dragifywp-ui__softAction" ng-click="$ctrl.askToRemove=false">No</span></div><div><span class="dragifywp-ui__softAction" ng-click="$ctrl.onEdit()">Edit</span><span class="dragifywp-ui__separator">|</span><span class="dragifywp-ui__hardAction" ng-click="$ctrl.askToRemove=true">Remove</span></div></div></div>',bindings:{model:"=",onRemove:"&",onEdit:"&"}}),i.component("dragifywpEdEditScript",{controller:function(){var e=this;this.$onDestroy=function(){e.active&&e.onClose()}},template:'<div class="dragifywp-ui__popup" ng-class="{\'dragifywp-ui__popup--show\':$ctrl.active}"><h6 class="dragifywp-ui__popup__title">Script</h6><span class="dragifywp-ui__popup__close lmr lmr-cross" ng-click="$ctrl.onClose()"></span><div class="dragifywp-ui__popup__container"><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Name</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text model="$ctrl.model.handle"></dragifywp-ed-text></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Src</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-upload-field extension="js" model="$ctrl.model.ttf_link"></dragifywp-ed-upload-field></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Deps</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text model="$ctrl.model.deps"></dragifywp-ed-text><p>Separate each dependent script by a comma.</p></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Version</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text model="$ctrl.model.ver"></dragifywp-ed-text></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">In Footer</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-switch model="$ctrl.model.in_footer"></dragifywp-ed-switch></div></div></div></div><div class="dragifywp-ui__popup__backdrop" ng-click="$ctrl.onClose()"></div>',bindings:{model:"=",active:"<",onClose:"&"}}),i.component("dragifywpEdEnqueueStyles",{controller:["$DragifyWPHotKeys","$timeout",function(e,t){var i=this;this.edited=void 0,"[object Object]"!==Object.prototype.toString.call(this.model)&&(this.model={}),this.itemCount=function(){var e=Object.keys(this.model).length;return e+" Item"+(e>1?"s":"")},this.add=function(){var e=new Date,n=e.getTime();this.model[n]={handle:"Unnamed Style",src:"",deps:"",ver:"",media:"all",id:e.getTime()},t(function(){i.edit(n)})},this.remove=function(e){delete this.model[e]},this.edit=function(t){this.edited=this.model[t],this.active=!0,e.pause(),e.escKeyPressManager.add(function(){return i.active=!1,e.resume(),!0})},this.close=function(){e.escKeyPressManager.execute()}}],template:'<div class="dragifywp-ui__itemList"><div class="dragifywp-ui__itemList__header"><span class="dragifywp-ui__itemList__count" ng-bind="$ctrl.itemCount()"></span> <span class="dragifywp-ui__btn dragifywp-ui__btn--primary dragifywp-ui__btn--small" ng-click="$ctrl.add()">Add New</span></div><div class="dragifywp-ui__itemList__list"><dragifywp-ed-enqueue-style model="font" on-remove="$ctrl.remove(id)" on-edit="$ctrl.edit(id)" ng-repeat="(id, font) in $ctrl.model"></dragifywp-ed-enqueue-style></div><dragifywp-ed-edit-style model="$ctrl.edited" on-close="$ctrl.close()" active="$ctrl.active"></dragifywp-ed-edit-style></div>',bindings:{model:"="}}),i.component("dragifywpEdEnqueueStyle",{controller:function(){},template:'<div class="dragifywp-ui__itemList__item"><div class="dragifywp-ui__itemList__name"><h6 ng-bind="$ctrl.model.handle"></h6><dragifywp-ed-tiny-switch model="$ctrl.model.enable"></dragifywp-ed-tiny-switch></div><div class="dragifywp-ui__itemList__action"><div ng-if="$ctrl.askToRemove" class="dragifywp-ui__itemList__removeConfirm"><span class="dragifywp-ui__itemList__message">Are your sure?</span> <span class="dragifywp-ui__hardAction" ng-click="$ctrl.onRemove()">Yes</span><span class="dragifywp-ui__separator">|</span><span class="dragifywp-ui__softAction" ng-click="$ctrl.askToRemove=false">No</span></div><div><span class="dragifywp-ui__softAction" ng-click="$ctrl.onEdit()">Edit</span><span class="dragifywp-ui__separator">|</span><span class="dragifywp-ui__hardAction" ng-click="$ctrl.askToRemove=true">Remove</span></div></div></div>',bindings:{model:"=",onRemove:"&",onEdit:"&"}}),i.component("dragifywpEdEditStyle",{controller:["$DragifyWPHotKeys",function(e){var t=this;this.$onDestroy=function(){t.active&&t.onClose()}}],template:'<div class="dragifywp-ui__popup" ng-class="{\'dragifywp-ui__popup--show\':$ctrl.active}"><h6 class="dragifywp-ui__popup__title">Stylesheet</h6><span class="dragifywp-ui__popup__close lmr lmr-cross" ng-click="$ctrl.onClose()"></span><div class="dragifywp-ui__popup__container"><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Name</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text model="$ctrl.model.handle"></dragifywp-ed-text></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Src</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-upload-field extension="css" model="$ctrl.model.ttf_link"></dragifywp-ed-upload-field></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Deps</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text model="$ctrl.model.deps"></dragifywp-ed-text><p>Separate each dependent style by a comma.</p></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Version</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text model="$ctrl.model.ver"></dragifywp-ed-text></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Media</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text model="$ctrl.model.media"></dragifywp-ed-text></div></div></div></div><div class="dragifywp-ui__popup__backdrop" ng-click="$ctrl.onClose()"></div>',bindings:{model:"=",active:"<",onClose:"&"}}),i.component("dragifywpEdResImage",{controller:function(){"[object Object]"!==Object.prototype.toString.call(this.model)&&(this.model={desktop:"100vw",tablet:"100vw",mobile:"100vw"})},template:'<div class="dragifywp-ui__resImage"><div class="dragifywp-ui--marginTop10"><div class="dragifywp-ui__sub-container"><dragifywp-ed-text-icon model="$ctrl.model.desktop" config="{icon:\'lmr lmr-desktop\'}"></dragifywp-ed-text-icon></div><div class="dragifywp-ui__sub-container"><dragifywp-ed-text-icon model="$ctrl.model.tablet" config="{icon:\'lmr lmr-tablet\'}"></dragifywp-ed-text-icon></div><div class="dragifywp-ui__sub-container"><dragifywp-ed-text-icon model="$ctrl.model.mobile" config="{icon:\'lmr lmr-mobile\'}"></dragifywp-ed-text-icon></div></div></div>',bindings:{model:"="}}),i.component("dragifywpEdTypekit",{controller:["$DragifyWPPopup","$DragifyWPHotKeys",function(e,i){"[object Object]"!==Object.prototype.toString.call(this.model)&&(this.model={});var n=this;this.edited=void 0,this.active=!1,this.id="",this.create=function(){this.isValid()?(this.model[this.id]={active:!0,fonts:[]},this.id=""):e.show({title:"Invalid Input",message:"Your Typekit ID seems to be incorrect or existing."})},this.isValid=function(){return this.id&&7==this.id.length&&!this.model.hasOwnProperty(this.id)},this.pressToCreate=function(e){13==e.keyCode&&(this.create(),e.target.blur())},this.remove=function(e){this.model.hasOwnProperty(e)&&delete this.model[e]},this.edit=function(e,o){this.model.hasOwnProperty(e)&&"object"===t(this.model[e].fonts[o])&&(this.edited=this.model[e].fonts[o],this.active=!0,i.pause(),i.escKeyPressManager.add(function(){return n.active=!1,i.resume(),!0}))},this.close=function(){i.escKeyPressManager.execute()}}],template:'<div class="dragifywp-ui__typekit"><div class="dragifywp-ui__typekit__header"><input class="dragifywp-ui__input-text" type="text" maxlength="7" ng-trim="true" placeholder="Your Kit ID" ng-keypress="$ctrl.pressToCreate($event)" ng-model="$ctrl.id"/><button class="dragifywp-ui__btn dragifywp-ui__btn--primary dragifywp-ui__btn--small" ng-disabled="!$ctrl.isValid()" ng-click="$ctrl.create()">Create</button></div><div class="dragifywp-ui__typekit__list"><ed-typekit-item kit-id="id" model="kit" ng-repeat="(id, kit) in $ctrl.model" on-remove="$ctrl.remove(id)" on-edit="$ctrl.edit(id, index)"></ed-typekit-item></div><ed-edit-typekit-font model="$ctrl.edited" active="$ctrl.active" on-close="$ctrl.close()"></ed-edit-typekit-font></div>',bindings:{model:"="}}),i.component("edTypekitItem",{controller:function(){this.remove=function(){this.onRemove({id:this.kitId})},this.add=function(){var e=this.model.fonts.length,t=new Date;this.model.fonts[e]={id:t.getTime(),name:"unnamed",family:"",fallback:"sans-serif"},this.onEdit({id:this.kitId,index:e})},this.edit=function(e){this.onEdit({id:this.kitId,index:e})},this.removeFont=function(e){this.model.fonts.splice(e,1)}},template:'<div class="dragifywp-ui__typekit__item" ng-class="{\'dragifywp-ui__typekit__item--active\':$ctrl.model.active}"><div class="dragifywp-ui__typekit__item__header"><label class="dragifywp-ui__typekit__item__id"><input type="checkbox" ng-model="$ctrl.model.active"/> #<span ng-bind="::$ctrl.kitId"></span></label><div class="dragifywp-ui__typekit__item__action"><span class="dragifywp-ui__typekit__item__add" ng-click="$ctrl.add()" title="Add Font"><i class="lmr lmr-plus"></i></span><span class="dragifywp-ui__typekit__item__remove dragifywp-ui__hardAction-hover" ng-click="$ctrl.remove()" title="Remove Kit"><i class="lmr lmr-trash2"></i></span></div></div><div class="dragifywp-ui__typekit__fonts"><div class="dragifywp-ui__typekit__font" ng-repeat="font in $ctrl.model.fonts"><span class="dragifywp-ui__typekit__font__name" ng-click="$ctrl.edit($index)" ng-bind="font.name"></span><div  class="dragifywp-ui__typekit__font__action"><span ng-click="$ctrl.edit($index)" class="lmr lmr-pencil3" title="Edit"></span><span ng-click="$ctrl.removeFont($index)" class=" dragifywp-ui__hardAction-hover lmr lmr-trash2" title="Remove"></span></div></div></div></div>',bindings:{model:"<",kitId:"<",onEdit:"&",onRemove:"&"}}),i.component("edEditTypekitFont",{controller:function(){this.$onDestroy=function(){this.active&&this.onClose()}},template:'<div class="dragifywp-ui__popup" ng-class="{\'dragifywp-ui__popup--show\':$ctrl.active}"><h6 class="dragifywp-ui__popup__title">Font Setting</h6><span class="dragifywp-ui__popup__close lmr lmr-cross" ng-click="$ctrl.onClose()"></span><div class="dragifywp-ui__popup__container"><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Name</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text model="$ctrl.model.name"></dragifywp-ed-text></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Family</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text model="$ctrl.model.family"></dragifywp-ed-text><p>The value is used for the CSS font-family property.</p></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Fallback</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text model="$ctrl.model.fallback"></dragifywp-ed-text></div></div></div></div><div class="dragifywp-ui__popup__backdrop" ng-click="$ctrl.onClose()"></div>',bindings:{model:"=",active:"<",onClose:"&"}}),i.component("dragifywpEdTextButtons",{controller:["$scope","$DragifyWPService",function(t,n){var o=this;this.config.hasOwnProperty("class")?this.class="dragifywp-ui__buttonGroup__btn--"+this.config.class:this.class="dragifywp-ui__buttonGroup__btn--smallText","attr"==this.config.watch&&i.__config.is_front_end&&t.$watch("$ctrl.model",function(t,i){e.element(n.getIframeElement(o.config.selector)).attr(o.config.attr,t)})}],template:'<div class="dragifywp-ui__buttonGroup"><button type="button" class="dragifywp-ui__buttonGroup__btn {{::$ctrl.class}}"ng-repeat="(k, v) in ::$ctrl.config.options"ng-click="$ctrl.model=k"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model == k}" ng-bind="::v"></button></div>',bindings:{model:"=",config:"<"}}),i.component("dragifywpEdIconButtons",{controller:["$DragifyWPService","$scope",function(t,i){var n=this;this.setModel=function(e){this.model=this.model===e?"":e},void 0!==n.config.selector&&i.$watch("$ctrl.model",function(i,o){e.element(t.getIframeElement(n.config.selector)).removeClass(o).addClass(i)})}],template:'<div class="dragifywp-ui__buttonGroup"><button type="button" class="dragifywp-ui__buttonGroup__btn dragifywp-ui__buttonGroup__btn--smallIcon"ng-repeat="(k, v) in ::$ctrl.config.options"ng-click="$ctrl.setModel(k)"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model === k}"><i ng-class="::v" ></i></button></div>',bindings:{model:"=",config:"<"}})}(window.angular)},function(e,exports){"use strict";!function(e){function t(t,n){if(n){var o=t.split("_");e.forEach(o,function(e,t){o[t]=e.charAt(0).toUpperCase()+e.slice(1)}),o=o.join(""),i.component("toPanel"+o,{controller:["$DragifyWPService",function(e){this.$onInit=function(){this.config=window.dragifywp_theme_option.get_config_object(t)},this.service=e}],template:window.dragifywp_theme_option.generate_panel(n,t)})}}var i=e.module("dragifywp.builder.app");e.forEach(window.dragifywp_theme_option.get_models(),function(i,n){i.hasOwnProperty("childs")?e.forEach(i.childs,function(e,i){t(i,e.models)}):t(n,i.models)})}(window.angular)},function(module,exports){"use strict";!function(angular){angular.module("dragifywpService",[]).service("$DragifyWPService",["$timeout","$rootScope",function($timeout,$rootScope){var self=this;self.model={},self.lv2Model=null,self.editModel=null,self.options={},self.previewDevice="desktop",self.sidebar_collapse=!1,self.showCustomCodePanel=!1,self.noWatch=!1,self.templates=[],self.origin={},self.changeTemplate=!1,self.defaultModels={},self.sectionModels={},self.undoGroup=!1,self.timeReset=0,self.histories=[],self.historyIndex=-1,self.preview={},self.direct_links={},self.panels={},self.reloadModels=[],self.private_options=[],self.reload_model_histories={},self.panels=window.dragifywp_theme_option.get_models(),self.initData=function(e){for(var t in self.panels)if("frontend"==e&&(self.getDirectLinks(t,self.panels[t]),self.getPreview(t,self.panels[t])),self.panels[t].hasOwnProperty("childs"))for(var i in self.panels[t].childs)"frontend"==e&&(self.getDirectLinks(i,self.panels[t].childs[i]),self.getPreview(i,self.panels[t].childs[i])),self.panels[t].childs[i].hasOwnProperty("models")&&self.getPrivateOptions(self.panels[t].childs[i].models);else self.panels[t].hasOwnProperty("models")&&self.getPrivateOptions(self.panels[t].models);self.generateDefaultModels()},self.getPrivateOptions=function(e){if(Array.isArray(e)){var t=!0,i=!1,n=void 0;try{for(var o,r=e[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var a=o.value;a.hasOwnProperty("content")?self.getPrivateOptions(a.content):a.hasOwnProperty("bind_to")&&self.private_options.push(a.bind_to)}}catch(e){i=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw n}}}},self.getDirectLinks=function(e,t){t.hasOwnProperty("direct_links")&&(self.direct_links[e]=t.direct_links)},self.getPreview=function(e,t){t.hasOwnProperty("models")&&(self.preview.hasOwnProperty(e)||(self.preview[e]={}),self.preview[e].hasOwnProperty("directives")||(self.preview[e].directives=[]),self.preview[e].hasOwnProperty("styles")||(self.preview[e].styles=[]),self.preview[e].hasOwnProperty("condition_styles")||(self.preview[e].condition_styles=[]),self.preview[e].hasOwnProperty("responsive_styles")||(self.preview[e].responsive_styles=[]),self.generatePreview(e,t.models))},self.generatePreview=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=!0,o=!1,r=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var s=a.value,d=i;if(s.hasOwnProperty("if")&&s.if?(d=s.if,d=d.replace(/@options/g,"$ctrl.service.options")):s.hasOwnProperty("show")&&s.show?(d=s.show,d=d.replace(/@options/g,"$ctrl.service.options")):s.hasOwnProperty("attrs")&&s.attrs.hasOwnProperty("ng-if")&&s.attrs["ng-if"]?(d=s.attrs["ng-if"],d=d.replace(/@options/g,"$ctrl.service.options")):s.hasOwnProperty("attrs")&&s.attrs.hasOwnProperty("ng-show")&&s.attrs["ng-show"]&&(d=s.attrs["ng-show"],d=d.replace(/@options/g,"$ctrl.service.options")),s.hasOwnProperty("content"))self.generatePreview(e,s.content,d);else if(s.hasOwnProperty("bind_to")){if(s.hasOwnProperty("directives")&&(self.preview[e].directives[s.bind_to]={},self.preview[e].directives[s.bind_to].directives=s.directives,d&&(self.preview[e].directives[s.bind_to].condition=d)),s.hasOwnProperty("styles")){if(d){var c={};c.condition=d,c.styles={};for(var p in s.styles){c.styles.hasOwnProperty(p)||(c.styles[p]={});for(var f in s.styles[p])c.styles[p][f]=s.styles[p][f].replace(/@model/g,"$ctrl.service.options."+s.bind_to)}self.preview[e].condition_styles.push(c)}else for(var u in s.styles){self.preview[e].styles.hasOwnProperty(u)||(self.preview[e].styles[u]={});for(var g in s.styles[u])self.preview[e].styles[u][g]=s.styles[u][g].replace(/@model/g,"$ctrl.service.options."+s.bind_to)}}if(s.hasOwnProperty("responsive_styles")){var _={};d&&(_.condition=d),_.bind_to=s.bind_to,_.styles={};for(var m in s.responsive_styles){var y=s.responsive_styles[m];_.styles.hasOwnProperty(m)||(_.styles[m]={});for(var v in y)_.styles[m][v]=y[v].replace(/@model/g,"$ctrl.service.options."+s.bind_to+".@device");self.preview[e].responsive_styles.push(_)}}}}}catch(e){o=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw r}}},self.generateDefaultModels=function(){angular.forEach(self.panels,function(e,t){e.hasOwnProperty("childs")?angular.forEach(e.childs,function(e,t){self.getDefaultModels(e.models,t)}):self.getDefaultModels(e.models,t)}),self.options=angular.merge({},self.defaultModels)},self.getDefaultModels=function(e,t){angular.forEach(e,function(e){e.hasOwnProperty("content")?self.getDefaultModels(e.content,t):e.hasOwnProperty("bind_to")&&(self.defaultModels[e.bind_to]=e.default_value,e.hasOwnProperty("reload")&&e.reload&&(self.reloadModels[e.bind_to]=t))})},self.removeProperty=function(e,t){e.hasOwnProperty(t)&&delete e[t]},self.deeplyRemoveProperties=function(e,t){for(var i=0,n=t.length;i<n;i++)self.removeProperty(e,t[i]);if(angular.isArray(e.content))for(var o=0,r=e.content.length;o<r;o++)self.deeplyRemoveProperties(e.content[o],t)},self.simplifyModelToSave=function(e){var t=angular.merge({},e);return self.deeplyRemoveProperties(t,["$$hashKey"]),JSON.stringify(t).replace(/\\/g,"\\\\\\")},self.push_template=function(e,t){var i={name:e,id:t};self.templates.unshift(i)},self.loop_through_template=function(e){angular.forEach(self.templates,function(t,i){angular.isFunction(e)&&e(t)})},self.reset=function(e,t){var i={};i.panels=t,i.fields=[],angular.forEach(e,function(e){var t={};t.field=e,angular.isArray(self.defaultModels[e])?(t.oldVal=angular.merge([],self.options[e]),t.newVal=angular.merge([],self.defaultModels[e])):angular.isObject(self.defaultModels[e])?(t.oldVal=angular.merge({},self.options[e]),t.newVal=angular.merge({},self.defaultModels[e])):(t.oldVal=self.options[e],t.newVal=self.defaultModels[e]),i.fields.push(t)}),self.setReset(i)},self.getModelsOfSection=function(e,t){e.hasOwnProperty("no_reset")||self.getModels(e.models,t)},self.getModels=function(e,t){angular.forEach(e,function(e){e.hasOwnProperty("content")?self.getModels(e.content,t):e.hasOwnProperty("bind_to")&&"watch"!=e.tag&&(self.sectionModels[t]||(self.sectionModels[t]=[]),self.sectionModels[t].push(e.bind_to))})},self.preview_typography_font_embed=function(e){var t=e.model||{},i=e.selector||"";if(t.source)switch(t.source){case"google":if(t.google){var n="https://fonts.googleapis.com/css?family="+t.google.family.replace(/ /g,"+")+":"+t.google.variant+"&amp;subset="+t.google.subset;self.link_array.push(n);var o=t.google.variant.match(/\d+/),r="normal";o&&(r=o[0]),o=t.google.variant.match(/\D+/);var a="normal";o&&(a=o[0]),"regular"==a&&(r="normal",a="normal"),self.style_array.hasOwnProperty(i)||(self.style_array[i]={}),self.style_array[i]=angular.merge(self.style_array[i],{"font-family":"'"+t.google.family+"'","font-weight":r,"font-style":a})}break;case"uploaded":if(dragifywp_app_data.uploaded_fonts.hasOwnProperty(t.uploaded)){var l=dragifywp_app_data.uploaded_fonts[t.uploaded];self.font_uploaded_array[t.uploaded]=l;var s=l.family,d=l.fallback?", "+l.fallback:"";s||(s="font_uploaded_"+t.uploaded),self.style_array.hasOwnProperty(i)||(self.style_array[i]={}),self.style_array[i]=angular.merge(self.style_array[i],{"font-family":"'"+s+"'"+d})}break;case"typekit":e:for(var c in dragifywp_app_data.typekit_fonts){var p=!0,f=!1,u=void 0;try{for(var g,_=dragifywp_app_data.typekit_fonts[c].fonts[Symbol.iterator]();!(p=(g=_.next()).done);p=!0){var m=g.value;if(m.id==t.typekit){self.style_array.hasOwnProperty(i)||(self.style_array[i]={});var y=m.fallback?", "+m.fallback:"";self.style_array[i]=angular.merge(self.style_array[i],{"font-family":"'"+m.family+"'"+y});break e}}}catch(e){f=!0,u=e}finally{try{!p&&_.return&&_.return()}finally{if(f)throw u}}}}},self.preview_responsive_embed=function(e){var t=e.model||{},i=e.selector||"",n=e.property||"",o=e.suffix||"",r=e.prefix||"";if(t){self.style_array.hasOwnProperty(i)||(self.style_array[i]={});var a={};if(a[n]=r+t.desktop+o,self.style_array[i]=angular.merge(self.style_array[i],a),t.tablet_enable){self.tablet_style_array.hasOwnProperty(i)||(self.tablet_style_array[i]={});var l={};l[n]=r+t.tablet+o,self.tablet_style_array[i]=angular.merge(self.tablet_style_array[i],l)}if(t.mobile_enable){self.mobile_style_array.hasOwnProperty(i)||(self.mobile_style_array[i]={});var s={};s[n]=r+t.mobile+o,self.mobile_style_array[i]=angular.merge(self.mobile_style_array[i],s)}}},self.preview_screen_queries=function(e){var t=e.model||{},i=e.selector||"",n=e.property||"";if(t)for(var o in t){var r=t[o],a="";r.screen_width>1366?a=1366:r.screen_width>768&&r.screen_width<=1366?a=769:r.screen_width>520&&r.screen_width<=768&&(a=521),self.media_query_array.push({"max-width":r.screen_width,"min-width":a,selector:i,prop:n,value:r.value})}},self.preview_general_font_embed=function(e){var t=e.model||{},i=e.selector||"";if(t.source&&i)switch(t.source){case"google":if(t.google){var n="https://fonts.googleapis.com/css?family="+t.google.family.replace(/ /g,"+");t.google.variants.length&&(n+=":"+t.google.variants.join(",")),t.google.subsets.length&&(n+="&amp;subset="+t.google.subsets.join(",")),self.style_array.hasOwnProperty(i)||(self.style_array[i]={}),self.style_array[i]=angular.merge(self.style_array[i],{"font-family":"'"+t.google.family+"'"}),self.link_array.push(n)}break;case"uploaded":if(dragifywp_app_data.uploaded_fonts.hasOwnProperty(t.uploaded)){var o=dragifywp_app_data.uploaded_fonts[t.uploaded];self.font_uploaded_array[t.uploaded]=o;var r=o.family;o.family||(r="font_uploaded_"+t.uploaded),self.style_array.hasOwnProperty(i)||(self.style_array[i]={});var a=o.fallback?", "+o.fallback:"";self.style_array[i]=angular.merge(self.style_array[i],{"font-family":"'"+r+"'"+a})}break;case"typekit":e:for(var l in dragifywp_app_data.typekit_fonts){var s=!0,d=!1,c=void 0;try{for(var p,f=dragifywp_app_data.typekit_fonts[l].fonts[Symbol.iterator]();!(s=(p=f.next()).done);s=!0){var u=p.value;if(u.id==t.typekit){self.style_array.hasOwnProperty(i)||(self.style_array[i]={});var g=u.fallback?", "+u.fallback:"";self.style_array[i]=angular.merge(self.style_array[i],{"font-family":"'"+u.family+"'"+g});break e}}}catch(e){d=!0,c=e}finally{try{!s&&f.return&&f.return()}finally{if(d)throw c}}}}},self.add_styles=function(){self.style_array={},self.mobile_style_array={},self.tablet_style_array={},self.media_query_array=[],self.link_array=[],self.font_uploaded_array=[];for(var e in self.panels){var t=self.panels[e];if(t.hasOwnProperty("childs"))for(var i in t.childs){var n=t.childs[i];n.hasOwnProperty("side")&&"frontend"!=n.side||!n.hasOwnProperty("models")||self.add_style(n.models)}else t.hasOwnProperty("side")&&"frontend"!=t.side||!t.hasOwnProperty("models")||self.add_style(t.models)}},self.add_style=function(models){var _iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _iterator5=models[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var model=_step5.value;if(model.hasOwnProperty("if")&&model.if){var condition=model.if;if(condition=condition.replace(/(\$ctrl\.service\.options)|(@options)/g,"self.options"),!eval(condition))continue}else if(model.hasOwnProperty("show")&&model.show){var condition=model.show;if(condition=condition.replace(/(\$ctrl\.service\.options)|(@options)/g,"self.options"),!eval(condition))continue}else if(model.hasOwnProperty("attrs")&&model.attrs.hasOwnProperty("ng-if")&&model.attrs["ng-if"]){var condition=model.attrs["ng-if"];if(condition=condition.replace(/(\$ctrl\.service\.options)|(@options)/g,"self.options"),!eval(condition))continue}else if(model.hasOwnProperty("attrs")&&model.attrs.hasOwnProperty("ng-show")&&model.attrs["ng-show"]){var condition=model.attrs["ng-show"];if(condition=condition.replace(/(\$ctrl\.service\.options)|(@options)/g,"self.options"),!eval(condition))continue}if(model.hasOwnProperty("content"))self.add_style(model.content);else if(self.options[model.bind_to]){if(model.hasOwnProperty("directives")){var _iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _iterator6=model.directives[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0){var directive=_step6.value,func_name=directive.tag.replace(/-/g,"_"),args={model:self.options[model.bind_to]};if(directive.hasOwnProperty("attrs")&&directive.attrs)for(var attr in directive.attrs)args[attr]=directive.attrs[attr];var func=self[func_name];void 0!==func&&func(args)}}catch(e){_didIteratorError6=!0,_iteratorError6=e}finally{try{!_iteratorNormalCompletion6&&_iterator6.return&&_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}}if(model.hasOwnProperty("styles"))for(var selector in model.styles){self.style_array.hasOwnProperty(selector)||(self.style_array[selector]={});for(var prop in model.styles[selector]){var val=model.styles[selector][prop],expressions=val.match(/{{[^{}]+}}/g);if(null!=expressions){val=val.replace(/{{[^{}]+}}/g,"%expression");var _iteratorNormalCompletion7=!0,_didIteratorError7=!1,_iteratorError7=void 0;try{for(var _iterator7=expressions[Symbol.iterator](),_step7;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=!0){var expression=_step7.value;expression=expression.replace(/[{} ]/g,"");var expression_models=expression.match(/(\d*[\/\*\+\-])*@model(\.[a-zA-Z0-9_]+)*([\/\*\+\-]\d*)*/g);if(expression=expression.replace(/(\d*[\/\*\+\-])*@model(\.[a-zA-Z0-9_]+)*([\/\*\+\-]\d*)*/g,"%model"),expression_models&&expression_models.length){var _iteratorNormalCompletion8=!0,_didIteratorError8=!1,_iteratorError8=void 0;try{for(var _iterator8=expression_models[Symbol.iterator](),_step8;!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=!0){var expression_model=_step8.value;expression_model=expression_model.replace("@model","self.options."+model.bind_to),expression=expression.replace("%model",eval(expression_model))}}catch(e){_didIteratorError8=!0,_iteratorError8=e}finally{try{!_iteratorNormalCompletion8&&_iterator8.return&&_iterator8.return()}finally{if(_didIteratorError8)throw _iteratorError8}}}val=val.replace("%expression",expression)}}catch(e){_didIteratorError7=!0,_iteratorError7=e}finally{try{!_iteratorNormalCompletion7&&_iterator7.return&&_iterator7.return()}finally{if(_didIteratorError7)throw _iteratorError7}}}prop=prop.replace(/[A-Z][^A-Z]/g,function(e){return"-"+e.toLowerCase()}),self.style_array[selector][prop]=val}}if(model.hasOwnProperty("responsive_styles"))for(var _selector3 in model.responsive_styles){self.style_array.hasOwnProperty(_selector3)||(self.style_array[_selector3]={}),self.tablet_style_array.hasOwnProperty(_selector3)||(self.tablet_style_array[_selector3]={}),self.mobile_style_array.hasOwnProperty(_selector3)||(self.mobile_style_array[_selector3]={});for(var _prop3 in model.responsive_styles[_selector3]){var _val=model.responsive_styles[_selector3][_prop3],tablet_val=model.responsive_styles[_selector3][_prop3],mobile_val=model.responsive_styles[_selector3][_prop3],_expressions=_val.match(/{{[^{}]+}}/g);if(null!=_expressions){_val=_val.replace(/{{[^{}]+}}/g,"%expression"),tablet_val=_val.replace(/{{[^{}]+}}/g,"%expression"),mobile_val=_val.replace(/{{[^{}]+}}/g,"%expression");var _iteratorNormalCompletion9=!0,_didIteratorError9=!1,_iteratorError9=void 0;try{for(var _iterator9=_expressions[Symbol.iterator](),_step9;!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=!0){var _expression=_step9.value;_expression=_expression.replace(/[{} ]/g,"");var expression_models=_expression.match(/(\d*[\/\*\+\-])*@model(\.[a-z0-9_]+)*([\/\*\+\-]\d*)*/g);_expression=_expression.replace(/(\d*[\/\*\+\-])*@model(\.[a-z0-9_]+)*([\/\*\+\-]\d*)*/g,"%model");var tablet_expression="",mobile_expression="";if(expression_models&&expression_models.length){var _iteratorNormalCompletion10=!0,_didIteratorError10=!1,_iteratorError10=void 0;try{for(var _iterator10=expression_models[Symbol.iterator](),_step10;!(_iteratorNormalCompletion10=(_step10=_iterator10.next()).done);_iteratorNormalCompletion10=!0){var _expression_model=_step10.value;_expression_model=_expression_model.replace("@model","self.options."+model.bind_to+".@device"),tablet_expression=_expression.replace("%model",eval(_expression_model.replace(/@device/g,"tablet"))),mobile_expression=_expression.replace("%model",eval(_expression_model.replace(/@device/g,"mobile"))),_expression=_expression.replace("%model",eval(_expression_model.replace(/@device/g,"desktop")))}}catch(e){_didIteratorError10=!0,_iteratorError10=e}finally{try{!_iteratorNormalCompletion10&&_iterator10.return&&_iterator10.return()}finally{if(_didIteratorError10)throw _iteratorError10}}}_val=_val.replace("%expression",_expression),tablet_val=tablet_val.replace("%expression",tablet_expression),mobile_val=mobile_val.replace("%expression",mobile_expression)}}catch(e){_didIteratorError9=!0,_iteratorError9=e}finally{try{!_iteratorNormalCompletion9&&_iterator9.return&&_iterator9.return()}finally{if(_didIteratorError9)throw _iteratorError9}}}_prop3=_prop3.replace(/[A-Z][^A-Z]/g,function(e){return"-"+e.toLowerCase()}),self.style_array[_selector3][_prop3]=_val,self.options[model.bind_to].hasOwnProperty("tablet")&&(self.tablet_style_array[_selector3][_prop3]=tablet_val),self.options[model.bind_to].hasOwnProperty("mobile")&&(self.mobile_style_array[_selector3][_prop3]=mobile_val)}}}}}catch(e){_didIteratorError5=!0,_iteratorError5=e}finally{try{!_iteratorNormalCompletion5&&_iterator5.return&&_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}},self.minify_box_value=function(e){var t=/(-?[0-9]+px -?[0-9]+px -?[0-9]+?px -?[0-9]+px)/g;if(!t.test(e))return e;for(var i=e.split(t),n=[],o=0,r=i.length;o<r;o++)-1!==i[o].search(t)&&(n=i[o].split(" "),n[0]!==n[1]?n[0]===n[2]&&n[1]===n[3]&&(i[o]=i[o].replace(t,n[0]+" "+n[1])):n[0]===n[2]&&n[0]===n[3]&&(i[o]=i[o].replace(t,n[0])));return i.join("")},self.generate_styles=function(){var e=[],t=[],i=0;if(self.style_array&&(e[i++]=self.generate_style(self.style_array)),self.tablet_style_array){var n=self.generate_style(self.tablet_style_array);n&&(e[i++]="@media screen and (max-width:768px){",e[i++]=n,e[i++]="}")}if(self.mobile_style_array){var o=self.generate_style(self.mobile_style_array);o&&(e[i++]="@media screen and (max-width:512px){",e[i++]=o,e[i++]="}")}if(self.media_query_array){var r=!0,a=!1,l=void 0;try{for(var s,d=self.media_query_array[Symbol.iterator]();!(r=(s=d.next()).done);r=!0){var c=s.value;e[i++]="@media only screen and (max-width:"+c["max-width"]+"px) and (min-width:"+c["min-width"]+"px){"+c.selector+"{"+c.prop+":"+c.value+"}}"}}catch(e){a=!0,l=e}finally{try{!r&&d.return&&d.return()}finally{if(a)throw l}}}if(self.link_array&&(t=self.link_array),self.font_uploaded_array)for(var p in self.font_uploaded_array){var f=self.font_uploaded_array[p],u=f.family;u||(u="font_uploaded_"+p);f.fallback&&", "+f.fallback;var g="",_="",m=[];f.eot_link&&(g="src:url('"+f.eot_link+"');",m.push("url('"+f.eot_link+"?#iefix') format('embedded-opentype')")),f.woff_link&&m.push("url('"+f.woff_link+"') format('woff')"),f.woff2_link&&m.push("url('"+f.woff2_link+"') format('woff2')"),f.ttf_link&&m.push("url('"+f.ttf_link+"') format('truetype')"),f.svg_link&&m.push("url('"+f.svg_link+"#"+u+"') format('svg')"),m.length&&(_="src:"+m.join(",")+";"),e[i++]="@font-face{font-family:'"+u+"';"+g+_+"}"}return{style:self.minify_output(e.join("")),links:t}},self.minify_output=function(e){return self.minify_box_value(e.replace(/\s?(,|>)\s?/g,"$1"))},self.generate_style=function(e){var t=[],i=0;for(var n in e){t[i++]=n,t[i++]="{";for(var o in e[n]){var r=e[n][o];""!=r&&(t[i++]=o,t[i++]=":",t[i++]=r,t[i++]=";")}i--,";"==t[i]?t[i++]="}":(t.splice(i--,1),t.splice(i,1))}return t.join("")},self.getIframeElement=function(e){return self.getIframeDoc().querySelector(e)},self.getIframeDoc=function(){var e=document.getElementById("dragifywp-bs-iframe");return e.contentDocument||e.contentWindow.document},self.jQuery=void 0,self.getIframeJQuery=function(){var e=document.getElementById("dragifywp-bs-iframe"),t=e.contentWindow||e;return self.jQuery=function(e){return t.jQuery(e,document)},self.jQuery},self.getIframeJQueryObject=function(){var e=document.getElementById("dragifywp-bs-iframe");return(e.contentWindow||e).jQuery},self.getIframeWindow=function(){var e=document.getElementById("dragifywp-bs-iframe");return e.contentWindow||e},self.highlightContainer=function(e){var t=jQuery(document.querySelector('.dragifywp-ui__container[data-name="'+e.toLowerCase()+'"]'));if(t){t.addClass("dragifywp-ui__container--highlighted");t.closest(".dragifywp-bs__editor__body")[0].scrollTop=t[0].offsetTop,setTimeout(function(){t.removeClass("dragifywp-ui__container--highlighted")},500)}},self.removeHashKey=function(e){if(angular.isObject(e)){e.hasOwnProperty("$$hashKey")&&delete e.$$hashKey;for(var t in e)self.removeHashKey(e[t])}else if(angular.isArray(e)){var i=!0,n=!1,o=void 0;try{for(var r,a=e[Symbol.iterator]();!(i=(r=a.next()).done);i=!0){var l=r.value;self.removeHashKey(l)}}catch(e){n=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}}},self.getDataForComparingToSave=function(e){return self.removeHashKey(e),JSON.stringify(e)},self.filterOptions=function(){for(var e in self.options)-1==self.private_options.indexOf(e)&&delete self.options[e]},self.scopeIterateSiblings=function(e,t,i){for(;e=e.$$nextSibling;)t(e,i),self.scopeIterateChildren(e,t,i)},self.scopeIterateChildren=function(e,t,i){for(;e=e.$$childHead;)t(e,i),self.scopeIterateSiblings(e,t,i)},self.scopeStoreWatchers=function(e,t){t.childs[e.$id]=e.$$watchers,e.$$watchers=[]},self.scopeReturnWatchers=function(e,t){void 0!==t.childs[e.$id]&&(e.$$watchers=t.childs[e.$id],delete t.childs[e.$id])},self.returnWatchers=function(e,t){t.self.length&&(e.$$watchers=angular.merge([],t.self)),t.childs.length&&self.scopeIterateChildren(e,self.scopeReturnWatchers,t),t.self=[]},self.storeWatchers=function(e,t){t.self=angular.merge([],e.$$watchers),e.$$watchers=[],self.scopeIterateChildren(e,self.scopeStoreWatchers,t)},self.commandManager={list:[],free:!0,currentIndex:0,limit:100,addCommand:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.list.length;i>this.currentIndex;)this.list.pop(),i--;if(this.list.length==this.limit?this.list.shift():this.currentIndex++,this.list.push(e),t){var n=this;n.free=!1,e.execute(),setTimeout(function(){n.free=!0},300),e.hasOwnProperty("panels")&&this.safeCheck(e.panels)}},undo:function(){var e=this;if(this.currentIndex>0&&this.free){this.free=!1,this.currentIndex--;var t=this.list[this.currentIndex];$timeout(function(){t.undo()}),t.hasOwnProperty("panels")&&this.safeCheck(t.panels),this.blinkUndo(),setTimeout(function(){e.free=!0},300)}},redo:function(){var e=this;if(this.currentIndex<this.list.length&&this.free){this.free=!1;var t=this.list[this.currentIndex];$timeout(function(){t.execute()}),t.hasOwnProperty("panels")&&this.safeCheck(t.panels),this.currentIndex++,this.blinkRedo(),setTimeout(function(){e.free=!0},300)}},safeCheck:function(e){$rootScope.$emit("blink-watchers",e)},canUndo:function(){return this.currentIndex>0},canRedo:function(){return this.currentIndex<this.list.length},init:function(){this.undoBtn=angular.element('[class*="__undoBtn"]'),this.redoBtn=angular.element('[class*="__redoBtn"]')},blinkUndo:function(){var e=this;e.undoBtn.addClass("dragifywp-ui--blink"),setTimeout(function(){e.undoBtn.removeClass("dragifywp-ui--blink")},200)},blinkRedo:function(){var e=this;e.redoBtn.addClass("dragifywp-ui--blink"),setTimeout(function(){e.redoBtn.removeClass("dragifywp-ui--blink")},200)}},self.setChangeAttr=function(e){self.commandManager.addCommand({panels:[e.panel],execute:function(){self.options[e.field]=e.newVal},undo:function(){self.options[e.field]=e.oldVal}},!1)},self.setChangeAttrReload=function(e){self.commandManager.addCommand({panels:[e.panel],execute:function(){self.options[e.field]=e.newVal,$rootScope.$emit("reload",[{field:e.field,value:e.oldVal}])},undo:function(){self.options[e.field]=e.oldVal,$rootScope.$emit("reload",[{field:e.field,value:e.newVal}])}},!1)},self.setReset=function(e){self.commandManager.addCommand({panels:e.panels,execute:function(){var t=[],i=!0,n=!1,o=void 0;try{for(var r,a=e.fields[Symbol.iterator]();!(i=(r=a.next()).done);i=!0){var l=r.value;self.options[l.field]=l.newVal,self.reloadModels.hasOwnProperty(l.field)&&t.push({field:l.field,value:l.oldVal})}}catch(e){n=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}t.length&&$rootScope.$emit("reload",t)},undo:function(){var t=[],i=!0,n=!1,o=void 0;try{for(var r,a=e.fields[Symbol.iterator]();!(i=(r=a.next()).done);i=!0){var l=r.value;self.options[l.field]=l.oldVal,self.reloadModels.hasOwnProperty(l.field)&&t.push({field:l.field,value:l.newVal})}}catch(e){n=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}t.length&&$rootScope.$emit("reload",t)}})},self.setTemplate=function(e){var t=angular.merge({},self.options);self.commandManager.addCommand({panels:"all",execute:function(){var t=[];for(var i in self.reloadModels)t.push({field:i,value:self.options[i]});self.options=angular.merge({},e),t.length&&$rootScope.$emit("reload",t)},undo:function(){var e=[];for(var i in self.reloadModels)e.push({field:i,value:self.options[i]});self.options=t,e.length&&$rootScope.$emit("reload",e)}})}}])}(window.angular)},function(e,exports){"use strict";!function(e){var t=e.module("dragifywp.builder.app");t.directive("googleFontsV2",["$http","$rootScope","$DragifyWPService",function(t,i,n){return{restrict:"A",scope:{ngModel:"="},link:function(i,n,o){n.append('<div class="dragifywp-ui__loader__preload"><span></span><span></span><span></span></div>'),t.get("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBgzCr9pt5xS09me72S91tTaCmLtAzWkOE",{cache:!0}).then(function(t){var o=!1;i.$watch("ngModel",function(){function r(t,i){var n="";y="<option>Select a subset</option>",e.forEach(t,function(e){-1==i.indexOf(e)?y+='<option value="'+e+'">'+e+"</option>":n+='<li data-index="'+i.indexOf(e)+'">'+e+"</li>"}),p.html()?(p.html(y),f.html(n)):(p.append(y),f.append(n),c.append(jQuery("<p class='dragifywp-ui-gf-label dragifywp-ui-gf-subsets'>Subsets</p>").append(p)),p.select2(),c.append(f))}function a(t,i){var n="";v="<option>Select a variant</option>",e.forEach(t,function(e){-1==i.indexOf(e)?v+='<option value="'+e+'">'+e+"</option>":n+='<li data-index="'+i.indexOf(e)+'">'+e+"</li>"}),g.html()?(g.html(v),_.html(n)):(g.append(v),_.append(n),u.append(jQuery("<p class='dragifywp-ui-gf-label dragifywp-ui-gf-variants'>Variants</p>").append(g)),g.select2(),u.append(_))}if(o)return void(o=!1);i.ngModel||(i.ngModel={family:"Open Sans",variants:["regular"],subsets:["latin"]});var l=e.element('<div class="dragifywp-google-font"></div>'),s=e.element('<div class="dragifywp-google-font-family"></div>'),d=e.element("<select></select>"),c=e.element('<div class="dragifywp-ui-google-font-subset"></div>'),p=e.element('<select class="dragifywp-ui-font-subset-select"></select>'),f=e.element('<ul class="dragifywp-font-subset-selected-list dragifywp-ui-font-selected-list"></ul>'),u=e.element('<div class="dragifywp-ui-google-font-variant"></div>'),g=e.element('<select class="dragifywp-ui-font-variant-select"></select>'),_=e.element('<ul class="dragifywp-font-variant-selected-list dragifywp-ui-font-selected-list"></ul>'),m="",y="",v="",h={},w=e.merge([],i.ngModel.subsets),b=e.merge([],i.ngModel.variants);e.forEach(t.data.items,function(e,t){var n="";i.ngModel.family==e.family&&(n=' selected="selected"',h=e),m+='<option value="'+t+'"'+n+">"+e.family+"</option>"}),d.append(m),l.append(s.append(d)),d.select2(),d.on("change",function(){o=!0,h=t.data.items[jQuery(this).val()],w=[],b=[],r(h.subsets,w),a(h.variants,b),i.$apply(function(){i.ngModel={family:h.family,variants:b,subsets:w}})}),jQuery(document).on("change",".dragifywp-ui-font-subset-select",function(){o=!0;var t=jQuery(this).val();w.push(t),r(h.subsets,w),i.$apply(function(){i.ngModel.subsets=e.merge([],w)})}),jQuery(document).on("change",".dragifywp-ui-font-variant-select",function(){o=!0;var t=jQuery(this).val();b.push(t),a(h.variants,b),i.$apply(function(){i.ngModel.variants=e.merge([],b)})}),jQuery(document).on("click",".dragifywp-font-subset-selected-list li",function(){var t=jQuery(this).data("index");w.splice(t,1),r(h.subsets,w),i.$apply(function(){i.ngModel.subsets=e.merge([],w)})}),jQuery(document).on("click",".dragifywp-font-variant-selected-list li",function(){var t=jQuery(this).data("index");b.splice(t,1),a(h.variants,b),i.$apply(function(){i.ngModel.variants=e.merge([],b)})}),r(h.subsets,w),l.append(c),a(h.variants,b),l.append(u),n.html(l)},!0)},function(e){n.html('<div class="dragifywp-ui__loader__failer">Error! Cannot get data.</div>')})}}}]),t.directive("blinkClick",function(){return{restrict:"A",link:function(e,t,i){t.on("click",function(){t.addClass("__blinked"),setTimeout(function(){t.removeClass("__blinked")},75)})}}})}(window.angular)},function(e,exports,t){"use strict";t(13),t(22),t(23),t(24),t(25),t(26),t(27),t(28),t(29),t(30),t(31),t(32),t(33),t(34),t(35),t(36),t(37),t(38),t(39),t(40),t(41),t(42),t(43),t(44),t(45),t(46),t(47),t(48),t(49),t(50),t(51),t(52),t(53),t(54),t(55),t(56),t(57),t(58),t(59),t(60),t(61),t(62),t(63),t(64),t(65),t(66),t(67),t(68),t(69),t(70),t(71),t(72),t(73),t(74),t(75),t(76)},function(e,exports,t){"use strict";t(14),t(15),t(16),t(17),t(18),t(19),t(20),t(21)},function(e,exports){"use strict";window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,i=(this.document||this.ownerDocument).querySelectorAll(e),n=this;do{for(t=i.length;t>=0&&i.item(t)!==n;);}while(t<0&&(n=n.parentElement));return n}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var i=0;i<this.length;i++)e.call(t,this[i],i,this)})},function(e,exports){"use strict";angular.module("dndLists",[]).directive("dndDraggable",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(e,t,i,n){return function(o,r,a){r.attr("draggable","true"),a.dndDisableIf&&o.$watch(a.dndDisableIf,function(e){r.attr("draggable",!e)}),r.on("dragstart",function(l){if(l=l.originalEvent||l,"false"==r.attr("draggable"))return!0;l.dataTransfer.setData("Text",angular.toJson(o.$eval(a.dndDraggable))),l.dataTransfer.effectAllowed=a.dndEffectAllowed||"move",r.addClass("dndDragging"),t(function(){r.addClass("dndDraggingSource")},0),i.dropEffect="none",n.isDragging=!0,n.dragType=a.dndType?o.$eval(a.dndType):void 0,l._dndHandle&&l.dataTransfer.setDragImage&&l.dataTransfer.setDragImage(r[0],0,0),e(a.dndDragstart)(o,{event:l}),l.stopPropagation()}),r.on("dragend",function(l){l=l.originalEvent||l;var s=i.dropEffect;o.$apply(function(){switch(s){case"move":e(a.dndMoved)(o,{event:l});break;case"copy":e(a.dndCopied)(o,{event:l});break;case"none":e(a.dndCanceled)(o,{event:l})}e(a.dndDragend)(o,{event:l,dropEffect:s})}),r.removeClass("dndDragging"),t(function(){r.removeClass("dndDraggingSource")},0),n.isDragging=!1,l.stopPropagation()}),r.on("click",function(t){a.dndSelected&&(t=t.originalEvent||t,o.$apply(function(){e(a.dndSelected)(o,{event:t})}),t.stopPropagation())}),r.on("selectstart",function(){this.dragDrop&&this.dragDrop()})}}]).directive("dndList",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(e,t,i,n){return function(t,o,r){function a(e,t,i){var n=_?e.offsetX||e.layerX:e.offsetY||e.layerY,o=_?t.offsetWidth:t.offsetHeight,r=_?t.offsetLeft:t.offsetTop;return r=i?r:0,n<r+o/2}function l(){return Array.prototype.indexOf.call(g.children,u)}function s(e){if(!n.isDragging&&!m)return!1;if(!p(e.dataTransfer.types))return!1;if(r.dndAllowedTypes&&n.isDragging){var i=t.$eval(r.dndAllowedTypes);if(angular.isArray(i)&&-1===i.indexOf(n.dragType))return!1}return!r.dndDisableIf||!t.$eval(r.dndDisableIf)}function d(){return f.remove(),o.removeClass("dndDragover"),!0}function c(i,o,r,a){return e(i)(t,{event:o,index:r,item:a||void 0,external:!n.isDragging,type:n.isDragging?n.dragType:void 0})}function p(e){if(!e)return!0;for(var t=0;t<e.length;t++)if("Text"===e[t]||"text/plain"===e[t])return!0;return!1}var f=function(){var e;return angular.forEach(o.children(),function(t){var i=angular.element(t);i.hasClass("dndPlaceholder")&&(e=i)}),e||angular.element("<div class='dndPlaceholder' id='dndPlaceholder'></div>")}(),u=f[0],g=o[0];f.remove();var _=r.dndHorizontalList&&t.$eval(r.dndHorizontalList),m=!1;o.on("dragenter",function(e){if(e=e.originalEvent||e,!s(e))return!0;e.preventDefault()}),o.on("dragover",function(e){if(e=e.originalEvent||e,!s(e))return!0;if(u.parentNode!=g&&o.append(f),e.target!==g){for(var t=e.target;t.parentNode!==g&&t.parentNode;)t=t.parentNode;t.parentNode===g&&t!==u&&(a(e,t)?(angular.element(u).addClass("dirty-checking"),g.insertBefore(u,t)):g.insertBefore(u,t.nextSibling))}else if(a(e,u,!0))for(;u.previousElementSibling&&(a(e,u.previousElementSibling,!0)||0===u.previousElementSibling.offsetHeight);)g.insertBefore(u,u.previousElementSibling);else for(;u.nextElementSibling&&!a(e,u.nextElementSibling,!0);)g.insertBefore(u,u.nextElementSibling.nextElementSibling);return r.dndDragover&&!c(r.dndDragover,e,l())?d():(o.addClass("dndDragover"),e.preventDefault(),e.stopPropagation(),!1)}),o.on("drop",function(e){if(e=e.originalEvent||e,!s(e))return!0;e.preventDefault();var n,o=e.dataTransfer.getData("Text")||e.dataTransfer.getData("text/plain");try{n=JSON.parse(o)}catch(e){return d()}var a=l();return r.dndDrop&&!(n=c(r.dndDrop,e,a,n))?d():(!0!==n&&t.$apply(function(){t.$eval(r.dndList).splice(a,0,n)}),c(r.dndInserted,e,a,n),"none"===e.dataTransfer.dropEffect?"copy"===e.dataTransfer.effectAllowed||"move"===e.dataTransfer.effectAllowed?i.dropEffect=e.dataTransfer.effectAllowed:i.dropEffect=e.ctrlKey?"copy":"move":i.dropEffect=e.dataTransfer.dropEffect,d(),e.stopPropagation(),!1)}),o.on("dragleave",function(e){e=e.originalEvent||e,o.removeClass("dndDragover"),setTimeout(function(){o.hasClass("dndDragover")||f.remove()},100)})}}]).directive("dndNodrag",function(){return function(e,t,i){t.attr("draggable","true"),t.on("dragstart",function(e){e=e.originalEvent||e,e._dndHandle||(e.dataTransfer.types&&e.dataTransfer.types.length||e.preventDefault(),e.stopPropagation())}),t.on("dragend",function(e){e=e.originalEvent||e,e._dndHandle||e.stopPropagation()})}}).directive("dndHandle",function(){return function(e,t,i){t.attr("draggable","true"),t.on("dragstart dragend",function(e){e=e.originalEvent||e,e._dndHandle=!0})}}).factory("dndDragTypeWorkaround",function(){return{}}).factory("dndDropEffectWorkaround",function(){return{}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("colorpicker.module",[]).factory("Helper",function(){return{closestSlider:function(e){return(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector).bind(e)("I")?e.parentNode:e},getOffset:function(e,t){for(var i=0,n=0,o=e.getBoundingClientRect();e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t||"BODY"!==e.tagName?(i+=e.scrollLeft,n+=e.scrollTop):(i+=document.documentElement.scrollLeft||e.scrollLeft,n+=document.documentElement.scrollTop||e.scrollTop),e=e.offsetParent;return{top:o.top+window.pageYOffset,left:o.left+window.pageXOffset,scrollX:i,scrollY:n}},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}]}}).factory("Color",["Helper",function(e){return{value:{h:1,s:1,b:1,a:1},rgb:function(){var e=this.toRGB();return"rgb("+e.r+","+e.g+","+e.b+")"},rgba:function(){var e=this.toRGB();return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"},hex:function(){return this.toHex()},RGBtoHSB:function(e,t,i,n){e/=255,t/=255,i/=255;var o,r,a,l;return a=Math.max(e,t,i),l=a-Math.min(e,t,i),o=0===l?null:a===e?(t-i)/l:a===t?(i-e)/l+2:(e-t)/l+4,o=(o+360)%6*60/360,r=0===l?0:l/a,{h:o||1,s:r,b:a,a:n||1}},setColor:function(t){t=t?t.toLowerCase():t;for(var i in e.stringParsers)if(e.stringParsers.hasOwnProperty(i)){var n=e.stringParsers[i],o=n.re.exec(t),r=o&&n.parse(o);if(r)return this.value=this.RGBtoHSB.apply(null,r),!1}},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setLightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=parseInt(100*(1-e),10)/100},toRGB:function(e,t,i,n){e||(e=this.value.h,t=this.value.s,i=this.value.b),e*=360;var o,r,a,l,s;return e=e%360/60,s=i*t,l=s*(1-Math.abs(e%2-1)),o=r=a=i-s,e=~~e,o+=[s,l,0,0,l,s][e],r+=[l,s,s,l,0,0][e],a+=[0,0,l,s,s,l][e],{r:Math.round(255*o),g:Math.round(255*r),b:Math.round(255*a),a:n||this.value.a}},toHex:function(e,t,i,n){var o=this.toRGB(e,t,i,n);return"#"+(1<<24|parseInt(o.r,10)<<16|parseInt(o.g,10)<<8|parseInt(o.b,10)).toString(16).substr(1)}}}]).factory("Slider",["Helper",function(e){var t={maxLeft:0,maxTop:0,callLeft:null,callTop:null,knob:{top:0,left:0}},i={};return{getSlider:function(){return t},getLeftPosition:function(e){return Math.max(0,Math.min(t.maxLeft,t.left+((e.pageX||i.left)-i.left)))},getTopPosition:function(e){return Math.max(0,Math.min(t.maxTop,t.top+((e.pageY||i.top)-i.top)))},setSlider:function(n,o){var r=e.closestSlider(n.target),a=e.getOffset(r,o),l=r.getBoundingClientRect(),s=n.clientX-l.left,d=n.clientY-l.top;t.knob=r.children[0].style,t.left=n.pageX-a.left-window.pageXOffset+a.scrollX,t.top=n.pageY-a.top-window.pageYOffset+a.scrollY,i={left:n.pageX-(s-t.left),top:n.pageY-(d-t.top)}},setSaturation:function(e,i,n,o){t={maxLeft:n,maxTop:o,callLeft:"setSaturation",callTop:"setLightness"},this.setSlider(e,i)},setHue:function(e,i,n,o){t={maxLeft:n,maxTop:o,callLeft:!1,callTop:"setHue"},this.setSlider(e,i)},setAlpha:function(e,i,n,o){t={maxLeft:n,maxTop:o,callLeft:!1,callTop:"setAlpha"},this.setSlider(e,i)},setKnob:function(e,i){t.knob.top=e+"px",t.knob.left=i+"px"}}}]).factory("colorRecentPicked",["colorPreset",function(e){function t(t){var c=angular.element(s.rpInfo().parentNode),p=e.presetInfo().parentNode;d=t.target,d.classList.contains("dragged")||d.classList.add("dragged"),t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("element",d),c[0].addEventListener("dragover",i,!1),c[0].addEventListener("dragend",o,!1),c[0].addEventListener("dragleave",n,!1),p&&(p.draggable=!0,p.addEventListener("dragover",r,!1),p.addEventListener("dragleave",a,!1),p.addEventListener("drop",l,!1))}function i(e){var t=e.target,i=angular.element(s.rpInfo().parentNode);e.preventDefault(),e.dataTransfer.dropEffect="move",t&&t!==d&&t.classList.contains("color-rp__item")&&(c=!1,setTimeout(function(){if(!c){t.nextSibling?i[0].insertBefore(d,t.nextSibling!==d&&t.nextSibling||t):i[0].appendChild(d),c=!0;var e=s.rpInfo().collection,n=i.children();for(var o in e)delete e[o];for(var r=0,a=n.length;r<a;r++){e[n[r].getAttribute("data-color")]=!0}}},20))}function n(e){var t=e.target;t&&t!==d&&t.classList.contains("color-rp__item")&&(c=!0)}function o(t){var c=(t.target,angular.element(s.rpInfo().parentNode)),p=e.presetInfo().parentNode;t.preventDefault(),d.classList.contains("dragged")&&d.classList.remove("dragged"),c[0].removeEventListener("dragover",i,!1),c[0].removeEventListener("dragend",o,!1),c[0].removeEventListener("dragleave",n,!1),p&&(p.removeEventListener("dragover",r,!1),p.removeEventListener("dragleave",a,!1),p.removeEventListener("drop",l,!1),p.draggable=!1)}function r(t){t.preventDefault();var i=e.presetInfo().parentNode,n=e.presetInfo().collection,o=e.isFull(n),r=d.getAttribute("data-color");o||n.hasOwnProperty(r)?i.classList.contains("not-allowed")||i.classList.add("not-allowed"):i.classList.contains("dragged")||i.classList.add("dragged")}function a(t){t.preventDefault();var i=e.presetInfo().parentNode;i.classList.contains("dragged")&&i.classList.remove("dragged"),i.classList.contains("not-allowed")&&i.classList.remove("not-allowed")}function l(t){var i=t.target,n=e.presetInfo().parentNode;if(i.classList.contains("color-preset")||i.classList.contains("color-collection__list")){var o=d.getAttribute("data-color");e.addColor(angular.element(n),e.presetInfo().collection,o,p,f),n.classList.contains("dragged")&&n.classList.remove("dragged"),n.classList.contains("not-allowed")&&n.classList.remove("not-allowed")}}var s={},d=void 0,c=!1,p=void 0,f=void 0,u=void 0,g=void 0,_=void 0;return s.addColor=function(e,t,i){if(s.isFull(t)){var n=Object.keys(t)[0];if(n===i||!t.hasOwnProperty(i)){for(var o=angular.element(e).children(),r=[],a=void 0,l=0,d=o.length;l<d;l++)o[l].classList.contains("color-rp__item")&&r.push(o[l]);for(var c=0,p=r.length;c<p;c++)if(r[c].getAttribute("data-color")===n){a=r[c];break}a.parentNode.removeChild(a),delete t[n],t[i]=!0,s.addElements(e,t,i)}}else i&&!t.hasOwnProperty(i)&&(t[i]=!0,s.addElements(e,t,i))},s.isFull=function(e){var t=0,i=Object.keys(e);return i&&(t=i.length),t>=14},s.addElements=function(e,t,i){var n=angular.element("<span class='color-rp color-rp__item'></span>");n.css("backgroundColor",i),n.attr("data-color",i),s.initEvent(n),e.append(n),s.sortable(e,n)},s.initEvent=function(e){e.on("click",function(){var t=e.parent().children(),i=e.attr("data-color");f&&p.$apply(f.$setViewValue(i)),_();for(var n=0,o=t.length;n<o;n++)t[n].classList.contains("active")&&t[n].classList.remove("active");e.addClass("active");for(var r=e.parent().parent().parent().find("color-preset")[0].querySelectorAll(".color-collection__item"),a=0,l=r.length;a<l;a++)r[a].classList.contains("active")&&r[a].classList.remove("active")})},s.showColorRecentPicked=function(e,t,i,n,o){p=i,f=n,_=o,s.setRPInfo(e,t),e.empty();for(var r in t)s.addElements(e,t,r)},s.sortable=function(e,i){i.hasClass("color-rp__item")&&(i[0].draggable=!0,i[0].addEventListener("dragstart",t,!1))},s.setRPInfo=function(e,t){u=e[0],g=t},s.rpInfo=function(){return{parentNode:u,collection:g,listClass:"color-rp__list",itemClass:"color-rp__item"}},s}]).factory("colorPreset",[function(){function e(e){var a=angular.element(o.presetInfo().parentNode);r=e.target,r.classList.contains("dragged")||r.classList.add("dragged"),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("element",r),a[0].addEventListener("dragover",t,!1),a[0].addEventListener("dragend",n,!1),a[0].addEventListener("dragleave",i,!1)}function t(e){var t=e.target,i=angular.element(o.presetInfo().parentNode);e.preventDefault(),e.dataTransfer.dropEffect="move",t&&t!==r&&t.classList.contains("color-collection__item")&&(a=!1,setTimeout(function(){if(!a){i[0].insertBefore(r,t.nextSibling!==r&&t.nextSibling||t),a=!0;var e=o.presetInfo().collection,n=i.children();for(var l in e)delete e[l];for(var s=0,d=n.length;s<d;s++)if(n[s].classList.contains("color-collection__item")){var c=n[s].getAttribute("data-color");e[c]=!0}}},20))}function i(e){var t=e.target;t&&t!==r&&t.classList.contains("color-collection__item")&&(a=!0)}function n(e){e.preventDefault();var a=angular.element(o.presetInfo().parentNode);r.classList.contains("dragged")&&r.classList.remove("dragged"),a[0].removeEventListener("dragover",t,!1),a[0].removeEventListener("dragend",n,!1),a[0].removeEventListener("dragleave",i,!1)}var o={},r=void 0,a=!1,l=void 0,s=void 0,d=void 0;return o.addColor=function(e,t,i,n,r){if(!t.hasOwnProperty(i)&&i&&(o.isFull(t)||(t[i]=!0,o.addElements(e,t,i,n,r)),o.isFull(t))){e.children().eq(-1).attr("disabled","disabled")}},o.isFull=function(e){var t=0,i=Object.keys(e);return i&&(t=i.length),t>=7},o.showColorPreset=function(e,t,i,n,r){o.setPresetInfo(e,t),d=r;for(var a=angular.element(e).children(),l=0,s=a.length;l<s;l++)a[l].classList.contains("color-collection__item")&&a[l].remove();for(var c in t)o.addElements(e,t,c,i,n);var p=angular.element(e).children().eq(-1);o.isFull(t)?p.attr("disabled","disabled"):p.removeAttr("disabled")},o.initEvent=function(e,t,i,n,o,r){t.on("contextmenu",function(e){e.target===t[0]&&(e.preventDefault(),i.addClass("active"),n.addClass("active"))}),t.on("click",function(e){if(e.target===t[0]){for(var i=t.parent().parent().parent().find("color-recent-picked")[0].querySelectorAll(".color-rp__item"),n=0,a=i.length;n<a;n++)if(i[n].classList.contains("active")){i[n].classList.remove("active");break}if(e.ctrlKey||e.metaKey)t.hasClass("active")?t.removeClass("active"):t.addClass("active");else{for(var l=t.parent().children(),s=0,c=l.length;s<c;s++)l[s].classList.contains("active")&&l[s].classList.remove("active");t.addClass("active");var p=t.attr("data-color");r&&o.$apply(r.$setViewValue(p)),d()}}}),i.on("click",function(t){var i=angular.element(t.target).parent(),n=i.parent(),o=n.children().eq(-1);if(i.hasClass("active"))for(var r=n.children(),a=0,l=r.length;a<l;a++)r[a].classList.contains("active")&&(delete e[angular.element(r[a]).attr("data-color")],angular.element(r[a]).remove());else delete e[i.attr("data-color")],i.remove();o.attr("disabled")&&o.removeAttr("disabled")}),n.on("click",function(e){e.target!==i[0]&&(i.removeClass("active"),n.removeClass("active"))})},o.addElements=function(e,t,i,n,r){var a=angular.element("<div class='color-preset color-collection__item'></div>"),l=angular.element("<span class='color-preset__removeBtn'>Remove</span>"),s=angular.element("<div class='color-preset__backdrop'></div>"),d=e.children().eq(-1);a.css("backgroundColor",i),a.attr("data-color",i),o.initEvent(t,a,l,s,n,r),a.append(l).append(s),d.parent()[0].insertBefore(a[0],d[0]),o.sortable(e,a)},o.sortable=function(t,i){i.hasClass("color-collection__item")&&(i[0].draggable=!0,i[0].addEventListener("dragstart",e,!1))},o.setPresetInfo=function(e,t){l=e[0],s=t},o.presetInfo=function(){return{parentNode:l,collection:s,listClass:"color-collection__list",itemClass:"color-collection__item"}},o}]).directive("colorpicker",["$document","$compile","$DragifyWPHotKeys","colorRecentPicked","colorPreset","Color","Slider","Helper",function(e,i,n,o,r,a,l,s){return{require:"?ngModel",restrict:"A",link:function(d,c,p,f){function u(){e.on("mousemove",m),e.on("mouseup",y)}function g(){var e=!1;[{parent:ie,childClass:".color-collection__item"},{parent:Z,childClass:".color-rp__item"}].forEach(function(t){if(t.parent&&!e)for(var i=t.parent[0].querySelectorAll(t.childClass),n=0,o=i.length;n<o;n++)i[n].classList.contains("active")&&(i[n].classList.remove("active"),e=!0)})}function _(){try{H.css("backgroundColor",R[O]())}catch(e){H.css("backgroundColor",R.toHex())}V.css("backgroundColor",R.toHex(R.value.h,1,1,1)),"rgba"===O&&(S.css.backgroundColor=R.toHex())}function m(e){var t=(!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l.getLeftPosition(e)),i=l.getTopPosition(e),n=l.getSlider();O=1===R.value.a?"hex":"rgba",!C&&i>=z.top-z.offset&&(i=z.top-z.offset),l.setKnob(i,t),n.callLeft&&(C?R[n.callLeft].call(R,t/N.width):R[n.callLeft].call(R,t/z.left)),n.callTop&&(C?R[n.callTop].call(R,i/N.height):R[n.callTop].call(R,i/(z.top-z.offset))),_();var o=R[O]();return c.val(o),f&&d.$apply(f.$setViewValue(o)),I&&ae.val(o),E=!1,!1}function y(){k("colorpicker-selected"),e.off("mousemove",m),e.off("mouseup",y)}function v(e){R.value=W,c.val(f.$viewValue),R.setColor(c.val()),I&&!e&&ae.val(c.val()),Y.eq(0).css({left:R.value.s*N.width+"px",top:N.height-R.value.b*N.height+"px"}),Y.eq(1).css("top",(z.top-z.offset)*(1-R.value.h)+"px"),Y.eq(1).css("left",z.left+"px"),Y.eq(2).css("top",(z.top-z.offset)*(1-R.value.a)+"px"),Y.eq(2).css("left",z.left+"px"),W=R.value,_()}function h(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=s.getOffset(c[0]);angular.isDefined(p.colorpickerParent)&&(i.left=0,i.top=0);var n=document.getElementsByClassName("colorpicker-visible")[0],o=angular.element(n).children()[0],r=o.offsetHeight,a=window.innerHeight-(c[0].offsetHeight+i.top+F.top),l=i.top-F.top;return t||(a>=r||l<r?(D="bottom",o.classList.contains("dropdown-menu-top")&&o.classList.remove("dropdown-menu-top"),o.classList.contains("dropdown-menu-bottom")||o.classList.add("dropdown-menu-bottom")):(D="top",o.classList.contains("dropdown-menu-bottom")&&o.classList.remove("dropdown-menu-bottom"),o.classList.contains("dropdown-menu-top")||o.classList.add("dropdown-menu-top"))),"top"===D?e={top:i.top-r-2-F.top,left:i.left-F.left}:"right"===D?e={top:i.top,left:i.left+c[0].offsetWidth+2}:"bottom"===D?e={top:i.top+c[0].offsetHeight+2+F.top,left:i.left-F.left}:"left"===D&&(e={top:i.top,left:i.left-J-2}),{top:e.top+"px",left:e.left+"px"}}function w(){x()}function b(){if(!K.hasClass("colorpicker-visible")){if(v(),!1===L&&e.on("mousedown",w),U){if(localStorage.getItem("dragifywpColorCollection"))try{oe=JSON.parse(localStorage.getItem("dragifywpColorCollection")),"object"!==(void 0===oe?"undefined":t(oe))&&(oe={})}catch(e){}r.showColorPreset(ie,oe,d,f,v)}if(q){if(localStorage.getItem("dragifywpRPCollection"))try{ee=JSON.parse(localStorage.getItem("dragifywpRPCollection")),"object"!==(void 0===ee?"undefined":t(ee))&&(ee={})}catch(e){}o.showColorRecentPicked(Z,ee,d,f,v)}localStorage.getItem("dragifywpHeaderState")&&(M=JSON.parse(localStorage.getItem("dragifywpHeaderState"))),M&&(q&&(M.rp?X.hasClass("active")||X.addClass("active"):X.hasClass("active")&&X.removeClass("active")),U&&(M.collection?te.hasClass("active")||te.addClass("active"):te.hasClass("active")&&te.removeClass("active"))),P=!1,n.escKeyPressManager.add(function(){return P=!0,x(),!0}),p.colorpickerIsOpen&&(d[p.colorpickerIsOpen]=!0,d.$$phase&&d.$root.$$phase||d.$digest()),K.addClass("colorpicker-visible").css(h()),k("colorpicker-shown")}}function k(e){f&&d.$emit(e,{name:p.ngModel,value:f.$modelValue})}function x(){K.hasClass("colorpicker-visible")&&(K.removeClass("colorpicker-visible"),k("colorpicker-closed"),e.off("mousedown",w),o.addColor(Z,ee,f.$viewValue),localStorage.setItem("dragifywpColorCollection",JSON.stringify(oe)),localStorage.setItem("dragifywpRPCollection",JSON.stringify(ee)),q&&(X.hasClass("active")?M.rp=!0:M.rp=!1),U&&(te.hasClass("active")?M.collection=!0:M.collection=!1),localStorage.setItem("dragifywpHeaderState",JSON.stringify(M)),p.colorpickerIsOpen&&(d[p.colorpickerIsOpen]=!1,d.$$phase&&d.$root.$$phase||d.$digest()),P||(P=!0,n.escKeyPressManager.pop()))}var S,P=!0,C=!0,E=!0,M={},O="rgba",D="bottom",L=!!angular.isDefined(p.colorpickerInline)&&p.colorpickerInline,T=!!angular.isDefined(p.colorpickerFixedPosition)&&p.colorpickerFixedPosition,A=angular.isDefined(p.colorpickerParent)?c.parent():angular.element(document.body),I=!!angular.isDefined(p.colorpickerWithInput)&&p.colorpickerWithInput,N={width:150,height:112},z={left:0,top:112,offset:1},F={top:5,left:15},B=I?'<input type="text" name="colorpicker-input" spellcheck="false">':"",j='<div class="colorpicker dropdown"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha>'+B+"<color-recent-picked class='color-rp__container'></color-recent-picked><color-preset class='color-preset__container'></color-preset></div><colorpicker-backdrop class='colorpicker-backdrop'></div></div>",K=angular.element(j),R=a,W={h:1,s:0,b:1,a:1},G=K.find("colorpicker-hue"),V=K.find("colorpicker-saturation"),H=K.find("colorpicker-preview"),q=K.find("color-recent-picked"),U=K.find("color-preset"),Q=K.find("colorpicker-backdrop"),Y=K.find("i"),J=parseInt(N.width)+29+("rgba"===O?15:0);if(i(K)(d),K.css("min-width",J+"px"),V.css({width:N.width+"px",height:N.height+"px"}),q){var X=angular.element("<div class='color-rp__header colorpicker__header active'><span></span>Recent Picked</div>"),Z=angular.element("<div class='color-rp__list'></div>");q.append(X).append(Z);var ee={};X.find("span").on("click",function(){X.toggleClass("active"),"top"===D&&(K.addClass("colorpicker-visible").css(h(!0)),k("colorpicker-shown"))})}if(U){var te=angular.element("<div class='color-preset__header colorpicker__header active'><span></span>Presets</div>"),ie=angular.element("<div class='color-collection__list'></div>"),ne=angular.element("<span class='color-preset color-preset__addBtn'></span>");U.append(te).append(ie),ie.append(ne);var oe={},re=te.find("span");ne.on("click",function(){r.addColor(ie,oe,f.$viewValue,d,f)}),re.on("click",function(){te.toggleClass("active"),"top"===D&&(K.addClass("colorpicker-visible").css(h(!0)),k("colorpicker-shown"))})}if(Q&&(Q.on("click",function(e){e.target===Q[0]&&x()}),Q.on("scroll",function(e){e.preventDefault()})),I){var ae=K.find("input");ae.css("width",N.width),ae.on("mousedown",function(e){e.stopPropagation()}).on("keyup",function(){var e=this.value;c.val(e),f&&f.$modelValue!==e&&(d.$apply(f.$setViewValue(e)),v(!0))})}K.addClass("alpha"),S=K.find("colorpicker-alpha"),S.on("click",function(e){l.setAlpha(e,T,z.left,z.top-z.offset),C=!1,m(e,!1)}).on("mousedown",function(e){l.setAlpha(e,T,z.left,z.top-z.offset),C=!1,u()}).on("mouseup",function(e){k("colorpicker-selected-alpha"),g()}),G.on("click",function(e){l.setHue(e,T,z.left,z.top-z.offset),C=!1,m(e,!1)}).on("mousedown",function(e){l.setHue(e,T,z.left,z.top-z.offset),C=!1,u()}).on("mouseup",function(e){k("colorpicker-selected-hue"),g()}),V.on("click",function(e){l.setSaturation(e,T,N.width,N.height),C=!0,m(e,!1),angular.isDefined(p.colorpickerCloseOnSelect)&&x()}).on("mousedown",function(e){l.setSaturation(e,T,N.width,N.height),C=!0,u()}).on("mouseup",function(e){k("colorpicker-selected-saturation"),g()}),T&&K.addClass("colorpicker-fixed-position"),K.addClass("colorpicker-position-"+D),"true"===L&&K.addClass("colorpicker-inline"),A.append(K),f&&(f.$render=function(){c.val(f.$viewValue),v()}),c.on("blur keyup change",function(){v()}),c.on("$destroy",function(){P||(P=!0,n.escKeyPressManager.pop()),K.remove()}),!1===L?c.on("click",b):b(),K.on("mousedown",function(e){e.stopPropagation()}),K.find("button").on("click",function(){x()}),p.colorpickerIsOpen&&d.$watch(p.colorpickerIsOpen,function(e){!0===e?b():!1===e&&x()})}}}])},function(e,exports){"use strict";angular.module("ui.ace",[]).constant("uiAceConfig",{}).directive("uiAce",["uiAceConfig",function(e){if(angular.isUndefined(window.ace))throw new Error("ui-ace need ace to work... (o rly?)");var t=function(e,t,i){if(angular.isDefined(i.workerPath)){window.ace.require("ace/config").set("workerPath",i.workerPath)}angular.isDefined(i.require)&&i.require.forEach(function(e){window.ace.require(e)}),angular.isDefined(i.showGutter)&&e.renderer.setShowGutter(i.showGutter),angular.isDefined(i.useWrapMode)&&t.setUseWrapMode(i.useWrapMode),angular.isDefined(i.showInvisibles)&&e.renderer.setShowInvisibles(i.showInvisibles),angular.isDefined(i.showIndentGuides)&&e.renderer.setDisplayIndentGuides(i.showIndentGuides),angular.isDefined(i.useSoftTabs)&&t.setUseSoftTabs(i.useSoftTabs),angular.isDefined(i.showPrintMargin)&&e.setShowPrintMargin(i.showPrintMargin),angular.isDefined(i.disableSearch)&&i.disableSearch&&e.commands.addCommands([{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(){return!1},readOnly:!0}]),angular.isString(i.theme)&&e.setTheme("ace/theme/"+i.theme),angular.isString(i.mode)&&t.setMode("ace/mode/"+i.mode),angular.isDefined(i.firstLineNumber)&&(angular.isNumber(i.firstLineNumber)?t.setOption("firstLineNumber",i.firstLineNumber):angular.isFunction(i.firstLineNumber)&&t.setOption("firstLineNumber",i.firstLineNumber()));var n,o;if(angular.isDefined(i.advanced))for(n in i.advanced)o={name:n,value:i.advanced[n]},e.setOption(o.name,o.value);if(angular.isDefined(i.rendererOptions))for(n in i.rendererOptions)o={name:n,value:i.rendererOptions[n]},e.renderer.setOption(o.name,o.value);angular.forEach(i.callbacks,function(t){angular.isFunction(t)&&t(e)})};return{restrict:"EA",require:"?ngModel",link:function(i,n,o,r){var a,l,s=e.ace||{},d=angular.extend({},s,i.$eval(o.uiAce)),c=window.ace.edit(n[0]),p=c.getSession(),f=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);angular.isDefined(e)&&i.$evalAsync(function(){if(!angular.isFunction(e))throw new Error("ui-ace use a function as callback.");e(t)})},u={onChange:function(e){return function(t){var n=p.getValue();!r||n===r.$viewValue||i.$$phase||i.$root.$$phase||i.$evalAsync(function(){r.$setViewValue(n)}),f(e,t,c)}},onBlur:function(e){return function(){f(e,c)}}};o.$observe("readonly",function(e){c.setReadOnly(!!e||""===e)}),r&&(r.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-ace cannot use an object or an array as a model");return e}),r.$render=function(){p.setValue(r.$viewValue)});var g=function(e,n){e!==n&&(d=angular.extend({},s,i.$eval(o.uiAce)),d.callbacks=[d.onLoad],d.onLoad!==s.onLoad&&d.callbacks.unshift(s.onLoad),p.removeListener("change",a),a=u.onChange(d.onChange),p.on("change",a),c.removeListener("blur",l),l=u.onBlur(d.onBlur),c.on("blur",l),t(c,p,d))};i.$watch(o.uiAce,g,!0),g(s),n.on("$destroy",function(){c.session.$stopWorker(),c.destroy()}),i.$watch(function(){return[n[0].offsetWidth,n[0].offsetHeight]},function(){c.resize(),c.renderer.updateFull()},!0)}}}])},function(e,exports){"use strict";angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig",function(e,t,i,n,o,r){r=r||{};var a=0;return r.baseUrl&&(tinymce.baseURL=r.baseUrl),{require:["ngModel","^?form"],priority:999,link:function(l,s,d,c){function p(e){e?(f(),g&&g.getBody().setAttribute("contenteditable",!1)):(f(),g&&!g.settings.readonly&&g.getBody().setAttribute("contenteditable",!0))}function f(){g||(g=tinymce.get(d.id))}if(n.tinymce){var u,g,_=c[0],m=c[1]||null,y={},v=function(t){var i=t.getContent({format:y.format}).trim();i=o.trustAsHtml(i),_.$setViewValue(i),e.$$phase||l.$digest()};d.$set("id","ui-tinymce-"+a++),u={},angular.extend(u,l.$eval(d.uiTinymce));var h=function(e){var t;return function(e){i.cancel(t),t=i(function(){return function(e){e.save(),v(e)}(e)},400)}}(),w={setup:function(e){e.on("init",function(){_.$render(),_.$setPristine(),_.$setUntouched(),m&&m.$setPristine()}),e.on("ExecCommand change NodeChange ObjectResized",function(){h(e)}),e.on("blur",function(){s[0].blur(),_.$setTouched(),l.$digest()}),e.on("remove",function(){s.remove()}),u.setup&&u.setup(e,{updateView:v})},format:u.format||"html",selector:"#"+d.id};angular.extend(y,r,u,w),i(function(){y.baseURL&&(tinymce.baseURL=y.baseURL),tinymce.init(y),p(l.$eval(d.ngDisabled))}),_.$formatters.unshift(function(e){return e?o.trustAsHtml(e):""}),_.$parsers.unshift(function(e){return e?o.getTrustedHtml(e):""}),_.$render=function(){f();var e=_.$viewValue?o.getTrustedHtml(_.$viewValue):"";g&&g.getDoc()&&(g.setContent(e),g.fire("change"))},d.$observe("disabled",p),l.$on("$tinymce:refresh",function(e,i){var n=d.id;if(angular.isUndefined(i)||i===n){var o=s.parent(),r=s.clone();r.removeAttr("id"),r.removeAttr("style"),r.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,n),o.append(t(r)(l))}}),l.$on("$destroy",function(){f(),g&&(g.remove(),g=null)})}}}}])},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,i,n){function o(e,i){return(void 0===e?"undefined":t(e))===i}function r(e,t){return!!~(""+e).indexOf(t)}function a(){return"function"!=typeof i.createElement?i.createElement(arguments[0]):k?i.createElementNS.call(i,"http://www.w3.org/2000/svg",arguments[0]):i.createElement.apply(i,arguments)}function l(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,i){return t+i.toUpperCase()}).replace(/^-/,"")}function s(e,t){return function(){return e.apply(t,arguments)}}function d(e,t,i){var n;for(var r in e)if(e[r]in t)return!1===i?e[r]:(n=t[e[r]],o(n,"function")?s(n,i||t):n);return!1}function c(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function p(){var e=i.body;return e||(e=a(k?"svg":"body"),e.fake=!0),e}function f(e,t,n,o){var r,l,s,d,c="modernizr",f=a("div"),u=p();if(parseInt(n,10))for(;n--;)s=a("div"),s.id=o?o[n]:c+(n+1),f.appendChild(s);return r=a("style"),r.type="text/css",r.id="s"+c,(u.fake?u:f).appendChild(r),u.appendChild(f),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(i.createTextNode(e)),f.id=c,u.fake&&(u.style.background="",u.style.overflow="hidden",d=b.style.overflow,b.style.overflow="hidden",b.appendChild(u)),l=t(f,e),u.fake?(u.parentNode.removeChild(u),b.style.overflow=d,b.offsetHeight):f.parentNode.removeChild(f),!!l}function u(t,i){var o=t.length;if("CSS"in e&&"supports"in e.CSS){for(;o--;)if(e.CSS.supports(c(t[o]),i))return!0;return!1}if("CSSSupportsRule"in e){for(var r=[];o--;)r.push("("+c(t[o])+":"+i+")");return r=r.join(" or "),f("@supports ("+r+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}function g(e,t,i,s){function d(){p&&(delete E.style,delete E.modElem)}if(s=!o(s,"undefined")&&s,!o(i,"undefined")){var c=u(e,i);if(!o(c,"undefined"))return c}for(var p,f,g,_,m,y=["modernizr","tspan","samp"];!E.style&&y.length;)p=!0,E.modElem=a(y.shift()),E.style=E.modElem.style;for(g=e.length,f=0;g>f;f++)if(_=e[f],m=E.style[_],r(_,"-")&&(_=l(_)),E.style[_]!==n){if(s||o(i,"undefined"))return d(),"pfx"!=t||_;try{E.style[_]=i}catch(e){}if(E.style[_]!=m)return d(),"pfx"!=t||_}return d(),!1}function _(e,t,i,n,r){var a=e.charAt(0).toUpperCase()+e.slice(1),l=(e+" "+S.join(a+" ")+a).split(" ");return o(t,"string")||o(t,"undefined")?g(l,t,n,r):(l=(e+" "+P.join(a+" ")+a).split(" "),d(l,t,i))}function m(e,t,i){return _(e,n,n,t,i)}var y=[],v=[],h={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var i=this;setTimeout(function(){t(i[e])},0)},addTest:function(e,t,i){v.push({name:e,fn:t,options:i})},addAsyncTest:function(e){v.push({name:null,fn:e})}},w=function(){};w.prototype=h,w=new w;var b=i.documentElement,k="svg"===b.nodeName.toLowerCase(),x="Moz O ms Webkit",S=h._config.usePrefixes?x.split(" "):[];h._cssomPrefixes=S;var P=h._config.usePrefixes?x.toLowerCase().split(" "):[];h._domPrefixes=P;var C={elem:a("modernizr")};w._q.push(function(){delete C.elem});var E={style:C.elem.style};w._q.unshift(function(){delete E.style}),h.testAllProps=_,h.testAllProps=m,w.addTest("flexbox",m("flexBasis","1px",!0)),w.addTest("flexwrap",m("flexWrap","wrap",!0)),function(){var e,t,i,n,r,a,l;for(var s in v)if(v.hasOwnProperty(s)){if(e=[],t=v[s],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(i=0;i<t.options.aliases.length;i++)e.push(t.options.aliases[i].toLowerCase());for(n=o(t.fn,"function")?t.fn():t.fn,r=0;r<e.length;r++)a=e[r],l=a.split("."),1===l.length?w[l[0]]=n:(!w[l[0]]||w[l[0]]instanceof Boolean||(w[l[0]]=new Boolean(w[l[0]])),w[l[0]][l[1]]=n),y.push((n?"":"no-")+l.join("-"))}}(),function(e){var t=b.className,i=w._config.classPrefix||"";if(k&&(t=t.baseVal),w._config.enableJSClass){var n=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");t=t.replace(n,"$1"+i+"js$2")}w._config.enableClasses&&(t+=" "+i+e.join(" "+i),k?b.className.baseVal=t:b.className=t)}(y),delete h.addTest,delete h.addAsyncTest;for(var M=0;M<w._q.length;M++)w._q[M]();e.Modernizr=w}(window,document)},function(e,exports,t){var i,n;"function"==typeof Symbol&&Symbol.iterator;!function(o,r){i=r,void 0!==(n="function"==typeof i?i.call(exports,t,exports,e):i)&&(e.exports=n)}(0,function(){function e(e,t){var i=Object.prototype.toString.call(e),n="[object Array]"===i||"[object NodeList]"===i||"[object HTMLCollection]"===i||"[object Object]"===i||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,o=0,r=e.length;if(n)for(;o<r;o++)t(e[o]);else t(e)}if("undefined"==typeof window)return null;var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return window.ResizeSensor=function(i,n){function o(){var e=[];this.add=function(t){e.push(t)};var t,i;this.call=function(){for(t=0,i=e.length;t<i;t++)e[t].call()},this.remove=function(n){var o=[];for(t=0,i=e.length;t<i;t++)e[t]!==n&&o.push(e[t]);e=o},this.length=function(){return e.length}}function r(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t]}function a(e,i){if(e.resizedAttached){if(e.resizedAttached)return void e.resizedAttached.add(i)}else e.resizedAttached=new o,e.resizedAttached.add(i);e.resizeSensor=document.createElement("div"),e.resizeSensor.className="resize-sensor";var n="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",a="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=n,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+n+'"><div style="'+a+'"></div></div><div class="resize-sensor-shrink" style="'+n+'"><div style="'+a+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor),"static"==r(e,"position")&&(e.style.position="relative");var l,s,d,c,p=e.resizeSensor.childNodes[0],f=p.childNodes[0],u=e.resizeSensor.childNodes[1],g=e.offsetWidth,_=e.offsetHeight,m=function(){f.style.width="100000px",f.style.height="100000px",p.scrollLeft=1e5,p.scrollTop=1e5,u.scrollLeft=1e5,u.scrollTop=1e5};m();var y=function(){s=0,l&&(g=d,_=c,e.resizedAttached&&e.resizedAttached.call())},v=function(){d=e.offsetWidth,c=e.offsetHeight,l=d!=g||c!=_,l&&!s&&(s=t(y)),m()},h=function(e,t,i){e.attachEvent?e.attachEvent("on"+t,i):e.addEventListener(t,i)};h(p,"scroll",v),h(u,"scroll",v)}e(i,function(e){a(e,n)}),this.detach=function(e){ResizeSensor.detach(i,e)}},ResizeSensor.detach=function(t,i){e(t,function(e){e.resizedAttached&&"function"==typeof i&&(e.resizedAttached.remove(i),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached)})},ResizeSensor})},function(e,exports,t){var i;!function(n,o,r){function a(e,t,i){if(e.addEventListener)return void e.addEventListener(t,i,!1);e.attachEvent("on"+t,i)}function l(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return w[e.which]?w[e.which]:b[e.which]?b[e.which]:String.fromCharCode(e.which).toLowerCase()}function s(e,t){return e.sort().join(",")===t.sort().join(",")}function d(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function c(e){if(e.preventDefault)return void e.preventDefault();e.returnValue=!1}function p(e){if(e.stopPropagation)return void e.stopPropagation();e.cancelBubble=!0}function f(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function u(){if(!h){h={};for(var e in w)e>95&&e<112||w.hasOwnProperty(e)&&(h[w[e]]=e)}return h}function g(e,t,i){return i||(i=u()[e]?"keydown":"keypress"),"keypress"==i&&t.length&&(i="keydown"),i}function _(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function m(e,t){var i,n,o,r=[];for(i=_(e),o=0;o<i.length;++o)n=i[o],x[n]&&(n=x[n]),t&&"keypress"!=t&&k[n]&&(n=k[n],r.push("shift")),f(n)&&r.push(n);return t=g(n,r,t),{key:n,modifiers:r,action:t}}function y(e,t){return null!==e&&e!==o&&(e===t||y(e.parentNode,t))}function v(e){function t(e){e=e||{};var t,i=!1;for(t in w)e[t]?i=!0:w[t]=0;i||(x=!1)}function i(e,t,i,n,o,r){var a,l,d=[],c=i.type;if(!y._callbacks[e])return[];for("keyup"==c&&f(e)&&(t=[e]),a=0;a<y._callbacks[e].length;++a)if(l=y._callbacks[e][a],(n||!l.seq||w[l.seq]==l.level)&&c==l.action&&("keypress"==c&&!i.metaKey&&!i.ctrlKey||s(t,l.modifiers))){var p=!n&&l.combo==o,u=n&&l.seq==n&&l.level==r;(p||u)&&y._callbacks[e].splice(a,1),d.push(l)}return d}function n(e,t,i,n){y.stopCallback(t,t.target||t.srcElement,i,n)||!1===e(t,i)&&(c(t),p(t))}function r(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=l(e);if(t)return"keyup"==e.type&&b===t?void(b=!1):void y.handleKey(t,d(e),e)}function u(){clearTimeout(h),h=setTimeout(t,1e3)}function g(e,i,o,r){function a(i){n(o,i,e),"keyup"!==r&&(b=l(i)),setTimeout(t,10)}w[e]=0;for(var s=0;s<i.length;++s){var d=s+1===i.length,c=d?a:function(t){return function(){x=t,++w[e],u()}}(r||m(i[s+1]).action);_(i[s],c,r,e,s)}}function _(e,t,n,o,r){y._directMap[e+":"+n]=t,e=e.replace(/\s+/g," ");var a,l=e.split(" ");if(l.length>1)return void g(e,l,t,n);a=m(e,n),y._callbacks[a.key]=y._callbacks[a.key]||[],i(a.key,a.modifiers,{type:a.action},o,e,r),y._callbacks[a.key][o?"unshift":"push"]({callback:t,modifiers:a.modifiers,action:a.action,seq:o,level:r,combo:e})}var y=this;if(e=e||o,!(y instanceof v))return new v(e);y.target=e,y._callbacks={},y._directMap={};var h,w={},b=!1,k=!1,x=!1;y._handleKey=function(e,o,r){var a,l=i(e,o,r),s={},d=0,c=!1;for(a=0;a<l.length;++a)l[a].seq&&(d=Math.max(d,l[a].level));for(a=0;a<l.length;++a)if(l[a].seq){if(l[a].level!=d)continue;c=!0,s[l[a].seq]=1,n(l[a].callback,r,l[a].combo,l[a].seq)}else c||n(l[a].callback,r,l[a].combo);var p="keypress"==r.type&&k;r.type!=x||f(e)||p||t(s),k=c&&"keydown"==r.type},y._bindMultiple=function(e,t,i){for(var n=0;n<e.length;++n)_(e[n],t,i)},a(e,"keypress",r),a(e,"keydown",r),a(e,"keyup",r)}if(n){for(var h,w={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},b={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},k={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},x={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},S=1;S<20;++S)w[111+S]="f"+S;for(S=0;S<=9;++S)w[S+96]=S.toString();v.prototype.bind=function(e,t,i){var n=this;return e=e instanceof Array?e:[e],n._bindMultiple.call(n,e,t,i),n},v.prototype.unbind=function(e,t){var i=this;return i.bind.call(i,e,function(){},t)},v.prototype.trigger=function(e,t){var i=this;return i._directMap[e+":"+t]&&i._directMap[e+":"+t]({},e),i},v.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},v.prototype.stopCallback=function(e,t){var i=this;return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&(!y(t,i.target)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable))},v.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},v.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(w[t]=e[t]);h=null},v.init=function(){var e=v(o);for(var t in e)"_"!==t.charAt(0)&&(v[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},v.init(),n.Mousetrap=v,void 0!==e&&e.exports&&(e.exports=v),void 0!==(i=function(){return v}.call(exports,t,exports,e))&&(e.exports=i)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null),function(e){var t={},i=e.prototype.stopCallback;e.prototype.stopCallback=function(e,n,o,r){var a=this;return!!a.paused||!t[o]&&!t[r]&&i.call(a,e,n,o)},e.prototype.bindGlobal=function(e,i,n){if(this.bind(e,i,n),e instanceof Array)for(var o=0;o<e.length;o++)t[e[o]]=!0;else t[e]=!0},e.init()}(Mousetrap),Mousetrap=function(e){var t=e,i=t.stopCallback,n=!0;return t.stopCallback=function(e,t){return!n||i(e,t)},t.pause=function(){n=!1},t.unpause=function(){n=!0},t}(Mousetrap)},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdAlign",{controller:function(){this.aligns=["left","center","right"],this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="dragifywp-ui__buttonGroup"><button type="button" class="dragifywp-ui__buttonGroup__btn dragifywp-ui__buttonGroup__btn--smallIcon"ng-repeat="align in ::$ctrl.aligns"ng-click="$ctrl.setModel(align)"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model === align}"><i class="lmr lmr-text-align-{{::align}}" ></i></button></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdArea",{controller:["$scope",function(e){void 0!==this.model&&/^((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?\d+(px|vh|vw|em|%))$/g.test(this.model)||(this.model="0px 0px 0px 0px");var t=this;t.keyPress={isMeta:!1,isShift:!1},this.setUnits=function(){var e=this.model.split(" ");this.top=e[0],this.right=e[1],this.bottom=e[2],this.left=e[3]},this.setUnits(),this.formModel=function(e){if(t.keyPress.isMeta&&t.keyPress.isShift)this.top=this[e],this.right=this[e],this.bottom=this[e],this.left=this[e];else if(t.keyPress.isMeta)switch(e){case"top":t.bottom=t.top;break;case"bottom":t.top=t.bottom;break;case"left":t.right=t.left;break;case"right":t.left=t.right}this.model=[this.top,this.right,this.bottom,this.left].join(" ")},e.$watch("$ctrl.model",function(){t.setUnits()}),this.updateKeyPress=function(e,t){this.keyPress.isMeta=e,this.keyPress.isShift=t}}],template:'<div class="dragifywp-ui__area"><div class="dragifywp-ui__area__indicators"><span class="dragifywp-ui__area__indicator">TP</span><span class="dragifywp-ui__area__indicator">RT</span><span class="dragifywp-ui__area__indicator">BT</span><span class="dragifywp-ui__area__indicator">LT</span></div><div class="dragifywp-ui__area__inputs"><input app-undo-redo dragifywp-drag-unit class="dragifywp-ui__area__input" on-update-keypress="$ctrl.updateKeyPress(meta, shift)" config="$ctrl.config" type="text" ng-model="$ctrl.top" ng-change="$ctrl.formModel(\'top\')" placeholder="Top"/><input app-undo-redo dragifywp-drag-unit class="dragifywp-ui__area__input" on-update-keypress="$ctrl.updateKeyPress(meta, shift)" config="$ctrl.config" type="text" ng-model="$ctrl.right" ng-change="$ctrl.formModel(\'right\')" placeholder="Right"/><input app-undo-redo dragifywp-drag-unit class="dragifywp-ui__area__input" on-update-keypress="$ctrl.updateKeyPress(meta, shift)" config="$ctrl.config" type="text" ng-model="$ctrl.bottom" ng-change="$ctrl.formModel(\'bottom\')" placeholder="Bottom"/><input app-undo-redo dragifywp-drag-unit class="dragifywp-ui__area__input" on-update-keypress="$ctrl.updateKeyPress(meta, shift)" config="$ctrl.config" type="text" ng-model="$ctrl.left" ng-change="$ctrl.formModel(\'left\')" placeholder="Left"/></div><div class="dragifywp-ui__area__desc"><small>Accept <strong>px</strong><strong>rem</strong><strong>em</strong><strong>%</strong>. Example <strong>10px</strong>.</small></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdArea2",{controller:["$scope",function(e){void 0!==this.model&&/^((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?0(px|vh|vw|em|%)) ((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?0(px|vh|vw|em|%))$/g.test(this.model)||(this.model="0px 0px 0px 0px");var t=this;this.setUnits=function(){var e=this.model.split(" ");this.top=e[0],this.right=e[1],this.bottom=e[2],this.left=e[3]},this.setUnits(),this.keyPress={isMeta:!1,isShift:!1},this.formModel=function(e){this.keyPress.isMeta&&(this.top=this[e],this.bottom=this[e]),this.model=[this.top,this.right,this.bottom,this.left].join(" ")},e.$watch("$ctrl.model",function(){t.setUnits()}),this.updateKeyPress=function(e,t){this.keyPress.isMeta=e,this.keyPress.isShift=t}}],template:'<div class="dragifywp-ui__area"><div class="dragifywp-ui__area__indicators"><span class="dragifywp-ui__area__indicator">TP</span><span class="dragifywp-ui__area__indicator dragifywp-ui__area__indicator--disabled">RT</span><span class="dragifywp-ui__area__indicator">BT</span><span class="dragifywp-ui__area__indicator dragifywp-ui__area__indicator--disabled">LT</span></div><div class="dragifywp-ui__area__inputs"><input app-undo-redo dragifywp-drag-unit on-update-keypress="$ctrl.updateKeyPress(meta,shift)" class="dragifywp-ui__area__input" config="$ctrl.config" type="text" ng-model="$ctrl.top" ng-change="$ctrl.formModel(\'top\')" placeholder="Top"/><input class="dragifywp-ui__area__input dragifywp-ui__area__input--disabled" value="0px"/><input app-undo-redo dragifywp-drag-unit on-update-keypress="$ctrl.updateKeyPress(meta,shift)" class="dragifywp-ui__area__input" config="$ctrl.config" type="text" ng-model="$ctrl.bottom" ng-change="$ctrl.formModel(\'bottom\')" placeholder="Bottom"/><input class="dragifywp-ui__area__input dragifywp-ui__area__input--disabled" value="0px"/></div><div class="dragifywp-ui__area__desc"><small>Accept <strong>px</strong><strong>rem</strong><strong>em</strong><strong>%</strong>. Example <strong>10px</strong>.</small></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdBackgroundProps",{controller:["$DragifyWPHotKeys",function(e){var t=this;this.active=!1,this.close=function(){this.active=!1},this.open=function(){t.active=!0,e.escKeyPressManager.add(function(){return t.active=!1,!0})},this.close=function(){e.escKeyPressManager.execute()},this.$onDestroy=function(){this.active&&e.escKeyPressManager.pop()}}],template:'<div class="dragifywp-ui__popup" ng-class="{\'dragifywp-ui__popup--show\':$ctrl.active}"><h6 class="dragifywp-ui__popup__title">Background Props</h6><span class="dragifywp-ui__popup__close lmr lmr-cross" ng-click="$ctrl.close()"></span><div class="dragifywp-ui__popup__container"><dragifywp-ed-background-position model="$ctrl.model.position"></dragifywp-ed-background-position><dragifywp-ed-background-size model="$ctrl.model.size"></dragifywp-ed-background-size><dragifywp-ed-background-repeat model="$ctrl.model.repeat"></dragifywp-ed-background-repeat><dragifywp-ed-background-attachment model="$ctrl.model.attachment"></dragifywp-ed-background-attachment></div></div><div class="dragifywp-ui__popup__backdrop" ng-click="$ctrl.close()"></div><a class="dragifywp-ui__setting-btn" ng-click="$ctrl.open()">Background Properties</a>',bindings:{model:"="}}),angular.module("dragifywp.builder.app").component("dragifywpEdBackgroundPosition",{controller:function(){this.updatePosition=function(e){this.model=e}},template:'<div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__background-position" drag-position model="$ctrl.model" on-update="$ctrl.updatePosition(position)"><i class="lmr lmr-plus"></i></div></div>',bindings:{model:"="}}),angular.module("dragifywp.builder.app").component("dragifywpEdBackgroundSize",{controller:function(){this.options={Auto:"auto",Length:"100px 100px",Percentage:"100% 100%",Cover:"cover",Contain:"contain",Initial:"initial"},this.selectSize=function(e){this.model=e,this.show=!1}},template:'<div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Size</div><div class="dragifywp-ui__popup__input"><div class="dragifywp-ui__background-size"><input app-undo-redo type=\'text\' class="dragifywp-ui__input-text" ng-model=\'$ctrl.model\' ng-model-option="{debounce:250}"}/><span class="dragifywp-ui__background-size__btn" ng-click="$ctrl.show=true"><i class="lmr lmr-plus"></i></span><div ng-show="$ctrl.show"><ul class="dragifywp-ui__background-size__options"><li ng-repeat="(k,v) in ::$ctrl.options" ng-click="$ctrl.selectSize(v)" ng-bind="::k"></li></ul><div class="dragifywp-ui__background-size__backdrop" ng-click="$ctrl.show=false"></div></div></div></div></div>',bindings:{model:"="}}),angular.module("dragifywp.builder.app").component("dragifywpEdBackgroundRepeat",{controller:function(){this.config={options:{"no-repeat":"None","repeat-x":"X","repeat-y":"Y",repeat:"XY"}}},template:'<div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Repeat</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text-buttons model="$ctrl.model" config="$ctrl.config"></dragifywp-ed-text-buttons></div></div>',bindings:{model:"="}}),angular.module("dragifywp.builder.app").component("dragifywpEdBackgroundAttachment",{controller:function(){this.config={options:{fixed:"Fixed",scroll:"Scroll",local:"Local"}}},template:'<div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Attach</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text-buttons model="$ctrl.model" config="$ctrl.config"></dragifywp-ed-text-buttons></div></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdBackgroundStyle",{controller:function(){void 0===this.model&&(this.model="none"),this.sample={cross:"none","eye-dropper":"color",picture:"image",gradient:"gradient","film-play":"video"}},template:'<div class="dragifywp-ui__buttonGroup"><button class="dragifywp-ui__buttonGroup__btn dragifywp-ui__buttonGroup__btn--small"ng-click="$ctrl.model=v"ng-if="::$ctrl.config[v]"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model == v}"ng-repeat="(k, v) in ::$ctrl.sample"><i class="lmr lmr-{{::k}}"></i></button></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdBorderStyle",{controller:function(){void 0===this.model&&(this.model="none"),this.sample={None:"none",___:"solid","...":"dotted","- -":"dashed"},void 0!==this.config&&this.config.no_none_border&&delete this.sample.none},template:'<div class="dragifywp-ui__buttonGroup"><button class="dragifywp-ui__buttonGroup__btn"ng-click="$ctrl.model=v"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model == v}"ng-repeat="(k, v) in ::$ctrl.sample"><span class="dragifywp-ui__borderStyle__item"><i class="dragifywp-ui__borderStyle__icon dragifywp-ui__borderStyle__icon--{{::v}}" ng-bind="::k"></i></span></button></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdBoxShadow",{controller:["$scope","$DragifyWPHotKeys",function(e,t){var i=this;this.model||(this.model="none");var n=function(){if(/(-?\d+)px (-?\d+)px (-?\d+)px (.+)/g.test(i.model)){i.shadow={};var e=/(-?\d+)px (-?\d+)px (-?\d+)px (.+)/g.exec(i.model);i.shadow.x=parseInt(e[1]),i.shadow.y=parseInt(e[2]),i.shadow.blur=parseInt(e[3]),i.shadow.color=e[4]}else i.shadow={x:0,y:0,blur:10,color:"rgba(0,0,0,0.1)"}},o=e.$watch("$ctrl.shadow",function(){o()});this.open=function(){n(),e.$watch("$ctrl.shadow",function(){i.model=i.shadow.x+"px "+i.shadow.y+"px "+i.shadow.blur+"px "+i.shadow.color},!0),this.active=!0,t.escKeyPressManager.add(function(){return o(),i.active=!1,!0})},this.setToNone=function(){this.model="none"},this.close=function(){t.escKeyPressManager.execute()},this.$onDestroy=function(){this.active&&t.escKeyPressManager.pop()}}],template:'<div class="dragifywp-ui__boxshadow"><input type="text" class="dragifywp-ui__input-text" ng-model="$ctrl.model" readonly/><div class="dragifywp-ui__boxshadow__btns dragifywp-ui--alignRight dragifywp-ui--paddingTop7"><span class="dragifywp-ui__btn dragifywp-ui__btn--small dragifywp-ui__btn--plain dragifywp-ui--marginRight3" ng-disabled="$ctrl.model == \'none\'" ng-click="$ctrl.setToNone()">Set as None</span><span class="dragifywp-ui__btn dragifywp-ui__btn--small dragifywp-ui__btn--primary" ng-click="$ctrl.open()">Edit</span></div></div><div class="dragifywp-ui__popup" ng-class="{\'dragifywp-ui__popup--show\':$ctrl.active}"><h6 class="dragifywp-ui__popup__title">Shadow</h6><span class="dragifywp-ui__popup__close lmr lmr-cross" ng-click="$ctrl.close()"></span><div class="dragifywp-ui__popup__container"><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">X</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-slider model="$ctrl.shadow.x" config="{min:-50, max:50, step:1}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Y</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-slider model="$ctrl.shadow.y" config="{min:-50, max:50, step:1}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Blur</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-slider model="$ctrl.shadow.blur" config="{min:0, max:100, step:1}"></dragifywp-ed-slider></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Color</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-colorpicker model="$ctrl.shadow.color" config="{\'format\':\'rgba\'}"></dragifywp-ed-colorpicker></div></div></div></div><div class="dragifywp-ui__popup__backdrop" ng-click="$ctrl.close()"></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("dragifywp.builder.app").component("dragifywpEdCodeEditor",{controller:["$scope","$DragifyWPHotKeys","$timeout",function(e,i,n){var o=this;this.expand=!1;var r,a,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;clearTimeout(a),a=setTimeout(function(){r.resize(),r.renderer.updateFull()},e)};this.resizeBox=function(){this.expand?i.escKeyPressManager.execute():(this.expand=!0,l(),i.escKeyPressManager.add(function(){return o.expand=!1,l(),!0}))},this.widenBox=function(){this.widen=!this.widen,l()},this.options={useWrapMode:!0,showGutter:!0,theme:"cobalt",mode:"html",onLoad:function(e){r=e,l(0)}},"object"==t(this.config)&&(this.options=angular.merge(this.options,this.config)),this.$onDestroy=function(){this.expand&&i.escKeyPressManager.pop()}}],template:'<div class="dragifywp-ui__codeEditor" ng-class="{\'dragifywp-ui__codeEditor--expanded\':$ctrl.expand, \'dragifywp-ui__codeEditor--widen\': $ctrl.widen}"><a class="dragifywp-ui__codeEditor__expandBtn" ng-click="$ctrl.resizeBox()"><span class="lmr lmr-{{$ctrl.expand?\'contract\':\'expand\'}}"></span></a><a class="dragifywp-ui__codeEditor__widenBtn" ng-click="$ctrl.widenBox()"><span class="lmr lmr-arrow-{{$ctrl.widen?\'left\':\'right\'}}"></span></a><div class="dragifywp-ui__codeEditor__wrap" ui-ace="$ctrl.options" ng-model="$ctrl.model" ng-model-options="{debounce: 500}"></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdColorpicker",{controller:function(){this.update=function(e){this.model=e}},template:'<div class="dragifywp-ui__colorpicker"><small class="dragifywp-ui__colorpicker__transparent-btn" ng-show="$ctrl.model != \'transparent\'" ng-click="$ctrl.model=\'transparent\'" title="Transparent"><i class="fa fa-genderless" aria-hidden="true"></i></small><input class="dragifywp-ui__colorpicker__input dragifywp-ui__input-text" ng-model="$ctrl.model" type="text" app-undo-redo/><span class="dragifywp-ui__colorpicker__select-btn" colorpicker ng-model="$ctrl.model" ng-model-options="{ debounce: 250 }"><i ng-style="{\'background-color\':$ctrl.model}"></i></span></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdDesc",{controller:function(){},transclude:!0,template:'<p class="dragifywp-ui__desc" ng-bind-html="::$ctrl.config.message"></p>',bindings:{config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdFontSource",{controller:function(){void 0===this.model&&(this.model={source:"inherit",google:{family:"Open Sans",variant:"regular",subset:"latin"},uploaded:"",typekit:""}),this.sample={inherit:"Inherit",google:"Google Fonts",uploaded:"Uploaded Fonts",typekit:"Typekit Fonts"}},template:'<div class="dragifywp-ui__fontSource"><div class="dragifywp-ui__buttonGroup"><button type="button" class="dragifywp-ui__buttonGroup__btn dragifywp-ui__buttonGroup__btn--image"ng-repeat="(k, v) in ::$ctrl.sample"title="{{::v}}"ng-click="$ctrl.model.source=k"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model.source === k}"><span ng-style="::{\'background-image\':\'url('+angular.module("dragifywp.builder.app").__config.root+'/modules/img/\'+k+\'.svg)\'}"></span></button></div><div class="dragifywp-ui__fontSource__source" ng-if="$ctrl.model.source == \'google\'" google-fonts ng-model="$ctrl.model.google"></div><div class="dragifywp-ui__fontSource__source" ng-if="$ctrl.model.source == \'uploaded\'"><dragifywp-ed-selection-loader model="$ctrl.model.uploaded" config="{url: \''+angular.module("dragifywp.builder.app").__config.global_api+'/uploaded-fonts\', name: \'font\'}"></dragifywp-ed-selection-loader></div><div class="dragifywp-ui__fontSource__source" ng-if="$ctrl.model.source == \'typekit\'"><dragifywp-ed-selection-loader model="$ctrl.model.typekit" config="{url: \''+angular.module("dragifywp.builder.app").__config.global_api+"/typekit-fonts', name: 'font'}\"></dragifywp-ed-selection-loader></div></div>",bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var i=[["#DBE6F6","#C5796D"],["#3494E6","#EC6EAD"],["#67B26F","#4ca2cd"],["#F3904F","#3B4371"],["#ee0979","#ff6a00"],["#A770EF","#CF8BF3","#FDB99B"],["#833ab4","#fd1d1d","#fcb045"],["#FEAC5E","#C779D0","#4BC0C8"],["#f4c4f3","#fc67fa"],["#f4c4f3","#fc67fa"],["#ff7e5f","#feb47b"],["#ff00cc","#333399"],["#de6161","#2657eb"],["#ef32d9","#89fffd"],["#A1FFCE","#FAFFD1"],["#BE93C5","#7BC6CC"],["#bdc3c7","#2c3e50"],["#ffd89b","#19547b"],["#fceabb","#f8b500"],["#f85032","#e73827"],["#56ab2f","#a8e063"],["#000428","#004e92"],["#42275a","#734b6d"],["#141E30","#243B55"],["#EECDA3","#EF629F"],["#5614B0","#DBD65C"],["#fd746c","#ff9068"],["#eacda3","#d6ae7b"],["#457fca","#5691c8"],["#B24592","#F15F79"],["#C02425","#F0CB35"],["#c2e59c","#64b3f4"],["#FFB75E","#ED8F03"],["#00c6ff","#0072ff"],["#70e1f5","#ffd194"],["#606c88","#3f4c6b"],["#E6DADA","#274046"],["#ddd6f3","#faaca8"],["#ECE9E6","#FFFFFF"],["#4776E6","#8E54E9"],["#CC95C0","#DBD4B4","#7AA1D2"],["#02AAB0","#00CDAC"],["#396afc","#2948ff"],["#0cebeb","#20e3b2","#29ffc6"],["#36D1DC","#5B86E5"],["#56CCF2","#2F80ED"],["#F7971E","#FFD200"],["#00c3ff","#ffff1c"]];e.module("dragifywp.builder.app").component("dragifywpEdGradient",{controller:["$scope","$DragifyWPHotKeys",function(e,n){var o=this;this.presets=i,this.active=!1,this.collectionShow=!1,"object"!=t(this.model)&&(this.model={color_1:"rgba(0,0,0,0.4)",color_2:"rgba(0,0,0,0.4)",color_3:"rgba(0,0,0,0.4)",angle:180,radial:!1,radial_x:"center",radial_y:"bottom"}),this.radialConfigX={options:{left:"Left",center:"Center",right:"Right"},class:"column"},this.radialConfigY={options:{Top:"Top",center:"Center",bottom:"Bottom"},class:"column"},this.open=function(){e.$watch("$ctrl.model",function(){o.formModel()},!0),this.active=!0,n.escKeyPressManager.add(function(){return r(),o.active=!1,!0})},this.showCollection=function(){this.collectionShow=!0,n.escKeyPressManager.add(function(){return o.collectionShow=!1,!0})},this.formGradient=function(e){return e.radial?e.color_3?"radial-gradient(circle at "+e.radial_y+" "+e.radial_x+", "+e.color_1+", "+e.color_2+", "+e.color_3+")":e.color_1&&e.color_2?"radial-gradient(circle at  "+e.radial_y+" "+e.radial_x+", "+e.color_1+", "+e.color_2+")":"":e.color_3?"linear-gradient("+e.angle+"deg, "+e.color_1+", "+e.color_2+", "+e.color_3+")":e.color_1&&e.color_2?"linear-gradient("+e.angle+"deg, "+e.color_1+", "+e.color_2+")":""},this.formModel=function(){this.model.value=this.formGradient(this.model)},this.formPreset=function(e){return e[2]?"linear-gradient(90deg, "+e[0]+", "+e[1]+", "+e[2]+")":"linear-gradient(90deg, "+e[0]+", "+e[1]+")"},this.setPreset=function(e){this.model.color_1=e[0],this.model.color_2=e[1],this.model.color_3=e[2]?e[2]:"",this.model.value=this.formGradient(this.model)};var r=e.$watch("$ctrl.model",function(){r()});this.close=function(){n.escKeyPressManager.execute()},this.$onDestroy=function(){this.active&&n.escKeyPressManager.pop()}}],template:'<div class="dragifywp-ui__gradient"><div class="dragifywp-ui__gradient__bg"  ng-click="$ctrl.open()"><span ng-style="{\'background\':$ctrl.model.value}"></span></div><span class="dragifywp-ui__gradient__edit" ng-click="$ctrl.open()">Edit</span><span class="dragifywp-ui__gradient__openPresets" ng-click="$ctrl.showCollection()"><i class="lmr lmr-icons2"></i></span></div><div class="dragifywp-ui__gradient__collection" ng-class="{\'dragifywp-ui__gradient__collection--show\':$ctrl.collectionShow}"><div class="dragifywp-ui__gradient__header"><span class="dragifywp-ui__gradient__back lmr lmr-chevron-left" ng-click="$ctrl.close()"></span><h6>Gradient Presets</h6></div><div class="dragifywp-ui__gradient__list"><div class="dragifywp-ui__gradient__preset" ng-repeat="preset in ::$ctrl.presets" ng-style="::{\'background-image\':$ctrl.formPreset(preset)}" ng-click="$ctrl.setPreset(preset)"></div></div></div><div class="dragifywp-ui__popup" ng-class="{\'dragifywp-ui__popup--show\':$ctrl.active}"><h6 class="dragifywp-ui__popup__title">Gradient</h6><span class="dragifywp-ui__popup__close lmr lmr-cross" ng-click="$ctrl.close()"></span><div class="dragifywp-ui__popup__container"><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Color 1</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-colorpicker model="$ctrl.model.color_1"></dragifywp-ed-colorpicker></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Color 2</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-colorpicker model="$ctrl.model.color_2"></dragifywp-ed-colorpicker></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Color 3</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-colorpicker model="$ctrl.model.color_3"></dragifywp-ed-colorpicker></div></div><div class="dragifywp-ui__popup__row" ng-if="!$ctrl.model.radial"><div class="dragifywp-ui__popup__label">Angle</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-slider model="$ctrl.model.angle" config="{min:0, max:270, step:1}"></dragifywp-ed-slider></div></div><div ng-if="::$ctrl.config.radial"><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Radial</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-switch model="$ctrl.model.radial"></dragifywp-ed-switch></div></div><div ng-if="$ctrl.model.radial"><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">X</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text-buttons model="$ctrl.model.radial_x" config="$ctrl.radialConfigX"></dragifywp-ed-text-buttons></div></div><div class="dragifywp-ui__popup__row"><div class="dragifywp-ui__popup__label">Y</div><div class="dragifywp-ui__popup__input"><dragifywp-ed-text-buttons model="$ctrl.model.radial_y" config="$ctrl.radialConfigY"></dragifywp-ed-text-buttons></div></div></div></div></div></div><div class="dragifywp-ui__popup__backdrop" ng-click="$ctrl.close()"></div>',bindings:{model:"=",config:"<"}})}(window.angular)},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdHAlign",{controller:function(){this.aligns={"align-top":"top","align-center-horizontal":"middle","align-bottom":"bottom"},this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="dragifywp-ui__buttonGroup"><button type="button" class="dragifywp-ui__buttonGroup__btn"ng-repeat="(icon, value) in ::$ctrl.aligns"ng-click="$ctrl.setModel(value)"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model === value}"><i class="lmr lmr-{{::icon}}" ></i></button></div>',bindings:{model:"="}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("dragifywp.builder.app").component("dragifywpEdIconBox",{controller:function(){var e=this;this.setModel=this.config.requireValue?function(t){e.model!=t&&(e.model=t)}:function(t){e.model=e.model==t?"":t}},template:'<div class="dragifywp-ui__iconBox" ng-class="::{\'dragifywp-ui__iconBox--requireValue\': $ctrl.config.requireValue}"><button class="dragifywp-ui__iconBox__item" ng-click="$ctrl.setModel(icon)" ng-repeat="icon in ::$ctrl.config.icons" ng-class="{\'dragifywp-ui__iconBox__item--active\': $ctrl.model == icon}"><span class="{{::icon}}"></span></button></div>',bindings:{model:"=",config:"<"}}),angular.module("dragifywp.builder.app").component("dragifywpEdIcons",{controller:["$DragifyWPService","$DragifyWPHotKeys","$http","$timeout",function(e,t,i,n){var o=this;this.service=e,o.state="loading",void 0===this.config&&(this.config={requireValue:!0}),i({cache:!0,method:"GET",url:""+angular.module("dragifywp.builder.app").__config.global_api+o.config.url}).then(function(i){Array.isArray(i.data)?(o.icons=i.data,o.state="loaded",o.search="",o.select=function(e){o.model=o.model===e?"":e},o.expand=!1,o.open=function(){o.expand=!0,e.icons_expand=this.expand,t.escKeyPressManager.add(function(){return o.expand=!1,e.icons_expand=o.expand,!0})},o.close=function(){t.escKeyPressManager.execute()},o.$onDestroy=function(){e.icons_expand&&(e.icons_expand=!1),o.expand&&t.escKeyPressManager.pop()},o.update=function(e){o.model=e}):o.state="fail"},function(){o.state="fail"})}],template:'<div class="dragifywp-ui__loader" ng-class="\'dragifywp-ui__loader--\'+$ctrl.state"><div class="dragifywp-ui__loader__preload"><span></span><span></span><span></span></div><div class="dragifywp-ui__loader__failer">Error! cannot get data.</div></div><div ng-if="$ctrl.state == \'loaded\'"><div class="dragifywp-ui__icons" ng-class="{\'dragifywp-ui__icons--expand\':$ctrl.expand}"><div class="dragifywp-ui__icons__wrap"><span class="dragifywp-ui__icons__shorten" ng-show="$ctrl.expand" ng-click="$ctrl.close()">Shorten<i class="dashicons dashicons-arrow-down"></i></span><dragifywp-icon-list model="$ctrl.model" on-update="$ctrl.update(icon)" icons="$ctrl.icons" config="$ctrl.config" expand="$ctrl.expand"></dragifywp-icon-list></div></div><div class="dragifywp-ui__icons__footer"><span class="dragifywp-ui__icons__expand" ng-click="$ctrl.open()">Expand<i class="dashicons dashicons-arrow-up"></i></span></div></div>',bindings:{model:"=",config:"<"}}),angular.module("dragifywp.builder.app").component("dragifywpEdIcon",{controller:function(){"object"!=t(this.model)&&(this.model={source:"lnr",icon:"home"}),void 0===this.config&&(this.config={requireValue:!0}),this.tabs={LNR:"lnr",FA:"fa"};var e={};e[this.model.source]=this.model.icon,this.setSource=function(t){e[this.model.source]=this.model.icon,this.model.source=t,e.hasOwnProperty(this.model.source)?this.model.icon=e[this.model.source]:"fa"==this.model.source?this.model.icon="adjust":"lnr"==this.model.source&&(this.model.icon="home")},this.faConfig=angular.merge({url:"/font-awesome",source:"fa"},this.config),this.lnrConfig=angular.merge({url:"/linear-icons",source:"lnr"},this.config)},template:'<div class="dragifywp-ui__icon"><div class="dragifywp-ui__icon__tabs"><button ng-repeat="(k,v) in ::$ctrl.tabs" class="dragifywp-ui__icon__tab" ng-bind="::k" ng-click="$ctrl.setSource(v)" ng-class="{\'dragifywp-ui__icon__tab--active\':$ctrl.model.source == v}"></button></div><div class="dragifywp-ui__icon__container"><dragifywp-ed-icons model="$ctrl.model.icon" ng-if="$ctrl.model.source == \'fa\'" config="$ctrl.faConfig"></dragifywp-ed-icons><dragifywp-ed-icons model="$ctrl.model.icon" ng-if="$ctrl.model.source == \'lnr\'" config="$ctrl.lnrConfig"></dragifywp-ed-icons></div></div>',bindings:{model:"=",config:"<"}}),angular.module("dragifywp.builder.app").component("dragifywpEdSocialIcons",{controller:function(){this.config={url:"/font-awesome-social-icons",source:"fa"}},template:'<dragifywp-ed-icons model="$ctrl.model" config="$ctrl.config"></dragifywp-ed-icons>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdIconButtons",{controller:function(){this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="dragifywp-ui__buttonGroup"><button type="button" class="dragifywp-ui__buttonGroup__btn dragifywp-ui__buttonGroup__btn--smallIcon"ng-repeat="(k, v) in ::$ctrl.config.options"ng-click="$ctrl.setModel(v)"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model === v}"><i class="lmr lmr-{{::k}}" ></i></button></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdId",{controller:function(){var e=/^[a-zA-Z][\w-]*$/;this.checkValid=function(){if(this.model){var t=new RegExp(e);this.invalid=!t.test(this.model)}}},template:'<input app-undo-redo class="dragifywp-ui__input-text" ng-class="{\'dragifywp-ui-invalid\':$ctrl.invalid}" ng-model="$ctrl.model"type="text" ng-model-options="{ debounce: 250 }" ng-change="$ctrl.checkValid()"/>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdIframe",{controller:["$scope",function(e){this.model||(this.model="");var t=this;this.setModel=function(e){this.model=e},e.$watch("$ctrl.model",function(){t.visualModel=t.model}),e.$watch("$ctrl.visualModel",function(){var e=/<iframe .*src="(http[\S^"]+)".*><\/iframe>/g,i=e.exec(t.visualModel);t.model=null!=i?i[1]:t.visualModel})}],template:'<textarea app-undo-redo class="dragifywp-ui__textarea" ng-model="$ctrl.visualModel" rows="5" cols="20"></textarea>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdImageButtons",{controller:function(){this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="dragifywp-ui__buttonGroup"><button type="button" class="dragifywp-ui__buttonGroup__btn dragifywp-ui__buttonGroup__btn--image"ng-repeat="(k, v) in ::$ctrl.config"ng-click="$ctrl.setModel(k)"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model === k}"><span ng-style="::{\'background-image\':\'url('+angular.module("dragifywp.builder.app").__config.root+"/modules/img/'+v+')'}\"></span></button></div>",bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdImageSelection",{controller:function(){},template:'<div class="dragifywp-ui__imageSelection"><div class="dragifywp-ui__imageSelection__image"ng-click="$ctrl.model=v"ng-repeat="(k, v) in ::$ctrl.config"ng-class="{\'dragifywp-ui__imageSelection__image--active\':$ctrl.model == v}"><img ng-src="{{\''+angular.module("dragifywp.builder.app").__config.img+'\'+k}}" width="50px" height="50px"/></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdLabelSelection",{controller:function(){this.list=angular.merge({},this.config.list)},template:'<select ng-model="$ctrl.model" class="dragifywp-ui__select"><option ng-bind="$ctrl.config.label"></option><option ng-repeat="(key, value) in ::$ctrl.list" value="{{::key}}" ng-bind="::value"></option></select>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdLink",{controller:["$scope",function(e){}],template:'<div class="dragifywp-ui__link"><input app-undo-redo class="dragifywp-ui__link__input dragifywp-ui__input-text" ng-trim="true" ng-model="$ctrl.model.url" type="text" ng-model-options="{debounce:250}"/><span title="Open in a new tab" class="dragifywp-ui__link__newtab" ng-class="{\'dragifywp-ui__link__newtab--active\': $ctrl.model.new_tab}" ng-click="$ctrl.model.new_tab=!$ctrl.model.new_tab"><i class="lmr lmr-share"></i></span></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdMultiSelect",{controller:["$scope","$DragifyWPService","$DragifyWPHotKeys",function(e,t,i){var n=this,o=void 0;this.list=angular.merge({},this.config.list),this.formList=function(){o=this.model.split(",");for(var e in this.list)this.list[e].active=-1!=o.indexOf(e)},this.formList(),e.$watch("$ctrl.model",function(){n.formList()}),this.formModel=function(){o.length=0;for(var e in this.list)this.list[e].active&&o.push(e);this.generateModel()},this.checkAll=function(){o.length=0;for(var e in this.list)o.push(e),this.list[e].active=!0;this.generateModel()},this.uncheckAll=function(){o.length=0;for(var e in this.list)this.list[e].active=!1;this.generateModel()},this.generateModel=function(){this.model=o.join(",")},this.show=!1,this.open=function(){this.show||(t.icons_expand=!0,this.show=!0,i.escKeyPressManager.add(function(){return t.icons_expand=!1,n.show=!1,!0}))},this.close=function(){i.escKeyPressManager.execute()},this.isCheckedAll=function(){for(var e in this.list)if(!this.list[e].active)return!1;return!0}}],template:'<div class="dragifywp-ui__multiSelect"><div class="dragifywp-ui__multiSelect__popup" dragifywp-esc-to-close on-esc="$ctrl.close()" ng-if="$ctrl.show"><div class="dragifywp-ui__multiSelect__header"><button ng-click="$ctrl.uncheckAll()" ng-if="$ctrl.isCheckedAll()" class="dragifywp-ui__multiSelect__unCheckAllBtn">Uncheck All</button><button ng-click="$ctrl.checkAll()" class="dragifywp-ui__multiSelect__checkAllBtn">Check All</button><button ng-click="$ctrl.close()" class="dragifywp-ui__multiSelect__closeBtn" title="Close"><i class="lmr lmr-cross"></i></button></div><div class="dragifywp-ui__multiSelect__list"><div class="dragifywp-ui__multiSelect__list__item" ng-repeat="(k, v) in ::$ctrl.list"><label ng-click="$ctrl.formModel()"><span ng-bind="::v.name"></span><input type="checkbox" ng-model="v.active"/></label></div></div></div><div class="dragifywp-ui__multiSelect__openListBtn" ng-click="$ctrl.open()"><span ng-bind="::$ctrl.config.message"></span><i class="lmr lmr-text-align-justify"></i></div><div class="dragifywp-ui__multiSelect__selected"><button ng-repeat="(k, v) in ::$ctrl.list" ng-click="v.active=false; $ctrl.formModel()" ng-show="v.active"><span ng-bind="::v.name"></span><i class="lmr lmr-cross"></i></button></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdNumber",{controller:function(){this.model||(this.model=0),this.updateNumber=function(e){this.model=e}},template:'<div class="dragifywp-ui__number"><input app-undo-redo class="dragifywp-ui__number__input dragifywp-ui__input-number" dragnumber on-update-number="$ctrl.updateNumber(number)" config="$ctrl.config" type="text" ng-trim="true" ng-model="$ctrl.model"/><span ng-bind="::$ctrl.config.unit"></span></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdRadio",{controller:function(){var e=new Date;this.uniqueID="radio-uq-"+e.getMilliseconds()},template:'<div ng-repeat="(k, v) in ::$ctrl.config" style="margin-bottom:5px"><label><input type="radio" ng-model="$ctrl.model" name="{{::$ctrl.uniqueID}}" value="{{::v}}"/> {{::k}}</label></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};[{type:"text",default:{desktop:0},hasConfig:!0},{type:"slider",default:{desktop:0},hasConfig:!0},{type:"area",default:{desktop:"0px 0px 0px 0px"},hasConfig:!0},{type:"area2",default:{desktop:"0px 0px 0px 0px"},hasConfig:!0},{type:"unit",default:{desktop:"0px"},hasConfig:!0},{type:"text-align",default:{desktop:""},hasConfig:!1},{type:"align",default:{desktop:""},hasConfig:!1},{type:"spacing",default:{desktop:{margin:"0px 0px 0px 0px",border:"0px 0px 0px 0px",padding:"0px 0px 0px 0px"}},hasConfig:!0},{type:"selection",default:{desktop:""},hasConfig:!0},{type:"v-align",default:{desktop:""},hasConfig:!1},{type:"text-buttons",default:{desktop:""},hasConfig:!0},{type:"image-buttons",default:{desktop:""},hasConfig:!0},{type:"icon-buttons",default:{desktop:""},hasConfig:!0}].forEach(function(e){for(var i=e.type.split("-"),n=0;n<i.length;n++){var o=i[n];i[n]=o.charAt(0).toUpperCase()+o.substring(1)}var r=i.join(""),a={model:"="};e.hasConfig&&(a.config="<"),angular.module("dragifywp.builder.app").component("dragifywpEdRes"+r,{controller:["$DragifyWPService",function(i){this.devices=["desktop","tablet","mobile"],this.service=i,void 0!==this.model&&"object"==t(this.model)||(this.model=angular.merge({},e.default)),this.setDevice=function(e){this.service.previewDevice=e},this.updateTablet=function(){this.model.hasOwnProperty("tablet")?delete this.model.tablet:this.model.tablet="object"===t(this.model.desktop)?angular.merge({},this.model.desktop):this.model.desktop},this.updateMobile=function(){this.model.hasOwnProperty("mobile")?delete this.model.mobile:this.model.hasOwnProperty("tablet")?this.model.mobile="object"===t(this.model.tablet)?angular.merge({},this.model.tablet):this.model.tablet:this.model.mobile="object"===t(this.model.desktop)?angular.merge({},this.model.desktop):this.model.desktop},this.onDesktop=function(){return"desktop"==this.service.previewDevice||"tablet-l"==this.service.previewDevice||"tablet"==this.service.previewDevice&&!this.model.hasOwnProperty("tablet")||"mobile"==this.service.previewDevice&&!this.model.hasOwnProperty("mobile")&&!this.model.hasOwnProperty("tablet")},this.onTablet=function(){return"tablet"==this.service.previewDevice&&this.model.hasOwnProperty("tablet")||"mobile"==this.service.previewDevice&&!this.model.hasOwnProperty("mobile")&&this.model.hasOwnProperty("tablet")},this.onMobile=function(){return"mobile"==this.service.previewDevice&&this.model.hasOwnProperty("mobile")}}],template:'<div class="dragifywp-ui__resDevice" ng-class="\'dragifywp-ui__resDevice--\'+$ctrl.service.previewDevice"><div class="dragifywp-ui__resDevice__devices"><label ng-repeat="device in ::$ctrl.devices" ng-click="$ctrl.setDevice(device)"><span class="lmr lmr-{{::device}}"></span></label></div><div class="dragifywp-ui__resDevice__editor"><label class="dragifywp-ui__resDevice__toggle" ng-if="$ctrl.service.previewDevice == \'tablet\'" ng-class="{\'active\':$ctrl.model.hasOwnProperty(\'tablet\')}" ng-click="$ctrl.updateTablet()"></label><label class="dragifywp-ui__resDevice__toggle" ng-if="$ctrl.service.previewDevice == \'mobile\'" ng-class="{\'active\':$ctrl.model.hasOwnProperty(\'mobile\')}" ng-click="$ctrl.updateMobile()"></label><dragifywp-ed-'+e.type+" "+(e.hasConfig?'config="$ctrl.config"':"")+' model="$ctrl.model.desktop" ng-if="$ctrl.onDesktop()"></dragifywp-ed-'+e.type+"><dragifywp-ed-"+e.type+" "+(e.hasConfig?'config="$ctrl.config"':"")+' model="$ctrl.model.tablet" ng-if="$ctrl.onTablet()"></dragifywp-ed-'+e.type+"><dragifywp-ed-"+e.type+" "+(e.hasConfig?'config="$ctrl.config"':"")+' model="$ctrl.model.mobile" ng-if="$ctrl.onMobile()"></dragifywp-ed-'+e.type+"></div></div>",bindings:a})})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("dragifywp.builder.app").component("dragifywpEdRichEditor",{controller:["$scope",function(e){this.options={theme:"modern",paste_as_text:!0,menubar:!1,content_css:["//fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i"],content_style:"body{font-family:'Open sans',sans-serif!important; font-weight:300!important; font-size:12px!important;}",setup:function(t){t.shortcuts.add("meta+s","Trigger save",function(){e.$emit("promptSave")}),t.on("init",function(){t.formatter.register("serif_font",{inline:"span",classes:"dragifywp-serif"})}),t.addButton("serifFont",{text:"Serif",tooltip:"Serif Font",icon:!1,onclick:function(){t.execCommand("mceToggleFormat",!1,"serif_font")},onpostrender:function(){var e=this;t.on("init",function(){t.formatter.formatChanged("serif_font",function(t){e.active(t)})})}})},plugins:["colorpicker hr lists paste textcolor link fullscreen paste"]},"object"==t(this.config)?this.options=angular.merge(this.options,this.config):this.options=angular.merge(this.options,{force_br_newlines:!1,force_p_newlines:!1,forced_root_block:"",toolbar1:"bold italic underline strikethrough link unlink fullscreen | forecolor backcolor | serifFont"})}],template:'<textarea ui-tinymce="$ctrl.options" ng-model="$ctrl.model" style="opacity:0"></textarea>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdSelection",{controller:function(){},template:'<select ng-model="$ctrl.model" class="dragifywp-ui__select"><option ng-repeat="(key, value) in ::$ctrl.config" value="{{::key}}" ng-bind="::value"></option></select>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdSelectionLoader",{controller:["$http",function(e){var t=this;t.items=[],t.update=function(){t.state="loading",e({cache:!1,method:"GET",url:t.config.rest_url?angular.module("dragifywp.builder.app").__config.rest_url+t.config.url:t.config.url}).then(function(e){void 0!==e.data&&(t.items=e.data,t.state="loaded",sessionStorage.setItem(t.config.url,JSON.stringify(e.data)))},function(){t.state="fail"})};var i=sessionStorage.getItem(t.config.url);if(i)try{t.items=JSON.parse(i),t.state="loaded"}catch(e){t.update()}else t.update()}],template:'<div class="dragifywp-ui__loader" ng-class="\'dragifywp-ui__loader--\'+$ctrl.state"><div class="dragifywp-ui__loader__preload"><span></span><span></span><span></span></div><div class="dragifywp-ui__loader__failer">Error! Cannot get data from Server.</div></div><div ng-if="$ctrl.state==\'loaded\'"><dragifywp-selection model="$ctrl.model" list="$ctrl.items" name="$ctrl.config.name"></dragifywp-selection><div class="dragifywp-ui--marginTop7 dragifywp-ui--alignRight" ng-if="::$ctrl.config.add_new_url"><a class="dragifywp-ui__btn dragifywp-ui__btn--primary dragifywp-ui__btn--small dragifywp-ui--marginRight3" target="_blank" href="{{$ctrl.config.add_new_url}}">Add New</a><button class="dragifywp-ui__btn dragifywp-ui__btn--plain dragifywp-ui__btn--small" ng-click="$ctrl.update()">Update</button></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdSlider",{controller:function(){var e=this;isNaN(this.model)&&(this.model=0),this.onBlur=function(){isNaN(e.model)?e.model=e.config.min:e.model>e.config.max?e.model=e.config.max:e.model<e.config.min&&(e.model=e.config.min)},this.update=function(e){this.model=e}},template:'<div class="dragifywp-ui__slider__wrap"><dragifywp-slider config="$ctrl.config" model="$ctrl.model" on-update="$ctrl.update(v)"></dragifywp-slider><input type="number" app-undo-redo ng-model="$ctrl.model" ng-model-options="{ debounce: 250 }" ng-blur="$ctrl.onBlur()"/></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdSpacing",{controller:["$scope",function(e){var t=this;this.link=!1,this.toggleLink=function(){this.link=!this.link},this.reset=function(){void 0===this.model.margin&&(this.model.margin="0px 0px 0px 0px"),void 0===this.model.border&&(this.model.border="0px 0px 0px 0px"),void 0===this.model.padding&&(this.model.padding="0px 0px 0px 0px")},e.$watch("$ctrl.model",function(){t.reset()})}],template:'<div class="dragifywp-ui__spacing"><dragifywp-ed-spacing-layer parent="$ctrl.model" model="$ctrl.model.margin" identity="Margin" link="$ctrl.link" config="$ctrl.config.margin" drag-config="{min:-300, max:300, step:1}"></dragifywp-ed-spacing-layer><dragifywp-ed-spacing-layer parent="$ctrl.model" model="$ctrl.model.border" identity="Border" link="$ctrl.link" config="$ctrl.config.border" drag-config="{min:0, max:50, step:1}"></dragifywp-ed-spacing-layer><dragifywp-ed-spacing-layer parent="$ctrl.model" model="$ctrl.model.padding" identity="Padding" link="$ctrl.link" config="$ctrl.config.padding" drag-config="{min:0, max:500, step:1}"></dragifywp-ed-spacing-layer><div class="dragifywp-ui__spacing__link" ng-click="$ctrl.toggleLink()"><i class="fa fa-{{$ctrl.link?\'link\':\'chain-broken\'}}" aria-hidden="true"></i></div></div>',bindings:{config:"<",model:"="}}),angular.module("dragifywp.builder.app").component("dragifywpEdSpacingLayer",{controller:["$timeout","$scope",function(e,t){var i=this;i.keyPress={isMeta:!1,isShift:!1},this.$onInit=function(){this.reset()},this.reset=function(){e(function(){if(i.model){var e=i.model.split(" ");i.top=e[0],i.right=e[1],i.bottom=e[2],i.left=e[3]}})},t.$watchGroup(["$ctrl.parent","$ctrl.model"],function(){i.reset()}),this.updateKeyPress=function(e,t){this.keyPress.isMeta=e,this.keyPress.isShift=t},this.formModel=function(t){e(function(){if(i.link){var e=i.bottom;i.config[3]&&(i.left=e),i.config[0]&&(i.top=e),i.config[1]&&(i.right=e)}if(i.keyPress.isMeta&&i.keyPress.isShift)i.config[0]&&(i.top=i[t]),i.config[1]&&(i.right=i[t]),i.config[2]&&(i.bottom=i[t]),i.config[3]&&(i.left=i[t]);else if(i.keyPress.isMeta)switch(t){case"top":i.bottom=i.top;break;case"bottom":i.top=i.bottom;break;case"left":i.right=i.left;break;case"right":i.left=i.right}i.model=[i.top,i.right,i.bottom,i.left].join(" ")})}}],template:'<div class="dragifywp-ui__spacing__layer dragifywp-ui__spacing__layer--{{$ctrl.identity}}"><h6 class="dragifywp-ui__spacing__identity" ng-bind="$ctrl.identity"></h6><dragifywp-sp-spacing-input ng-if="$ctrl.config[0]" on-update-keypress="$ctrl.updateKeyPress(meta,shift)" ng-show="!$ctrl.link" model="$ctrl.top" change="$ctrl.formModel(\'top\')" position="top" config="$ctrl.dragConfig"></dragifywp-sp-spacing-input><dragifywp-sp-spacing-input ng-if="$ctrl.config[1]" on-update-keypress="$ctrl.updateKeyPress(meta,shift)" ng-show="!$ctrl.link" model="$ctrl.right" change="$ctrl.formModel(\'right\')" position="right" config="$ctrl.dragConfig"></dragifywp-sp-spacing-input><dragifywp-sp-spacing-input ng-if="$ctrl.config[2]" on-update-keypress="$ctrl.updateKeyPress(meta,shift)" model="$ctrl.bottom" change="$ctrl.formModel(\'bottom\')" position="bottom" config="$ctrl.dragConfig"></dragifywp-sp-spacing-input><dragifywp-sp-spacing-input ng-if="$ctrl.config[3]" on-update-keypress="$ctrl.updateKeyPress(meta,shift)" ng-show="!$ctrl.link" model="$ctrl.left" change="$ctrl.formModel(\'left\')" position="left" config="$ctrl.dragConfig"></dragifywp-sp-spacing-input></div>',bindings:{model:"=",parent:"=",link:"<",identity:"@",config:"<",dragConfig:"<"}}),angular.module("dragifywp.builder.app").component("dragifywpSpSpacingInput",{controller:function(){this.updateKeyPress=function(e,t){this.onUpdateKeypress({meta:e,shift:t})}},template:'<div class="dragifywp-ui__spacing__field dragifywp-ui__spacing__field--{{::$ctrl.position}}"><input app-undo-redo dragifywp-drag-unit on-update-keypress="$ctrl.updateKeyPress(meta, shift)" class="dragifywp-ui__spacing__field__input" type="text" ng-model="$ctrl.model" ng-change="$ctrl.change()" config="$ctrl.config"><span class="dragifywp-ui__spacing__field__model" ng-bind="$ctrl.model"></span></div>',bindings:{model:"=",change:"&",position:"@",config:"<",onUpdateKeypress:"&"}})},function(e,exports){"use strict";var t=0;angular.module("dragifywp.builder.app").component("dragifywpEdSwitch",{controller:function(){this.id="lbswid-"+ ++t},template:'<div class="dragifywp-ui__switch"><input class="dragifywp-ui__switch__checkbox" type="checkbox" ng-model="$ctrl.model" id="{{::$ctrl.id}}"/><label class="dragifywp-ui__switch__btn" for="{{::$ctrl.id}}"><span class="dragifywp-ui__switch__btn__toggle"></span></label></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdText",{controller:function(){},template:'<div class="dragifywp-ui__text"><input app-undo-redo class="dragifywp-ui__text__input dragifywp-ui__input-text" ng-trim="true" ng-model="$ctrl.model" type="text" ng-model-options="{debounce:250}"/><span class="dragifywp-ui__text__clear-btn" ng-show="$ctrl.model" ng-click="$ctrl.model=\'\'"><i class="lmr lmr-cross"></i></span></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdTextAlign",{controller:function(){this.aligns=["left","center","right","justify"],this.active="active",this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="dragifywp-ui__buttonGroup"><button type="button" class="dragifywp-ui__buttonGroup__btn dragifywp-ui__buttonGroup__btn--smallIcon"ng-repeat="align in ::$ctrl.aligns"ng-click="$ctrl.setModel(align)"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model === align}"><i class="lmr lmr-text-align-{{::align}}" ></i></button></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdTextIcon",{controller:function(){},template:'<div class="dragifywp-ui__text dragifywp-ui__text--hasIcon"><span class="dragifywp-ui__text__icon"><i class="{{::$ctrl.config.icon}}"></i></span><input app-undo-redo class="dragifywp-ui__text__input dragifywp-ui__input-text" ng-trim="true" ng-model="$ctrl.model" type="text" ng-model-options="{debounce:500}"/></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdTextTransform",{controller:function(){void 0===this.model&&(this.model=""),this.sample={AA:"uppercase",Aa:"capitalize",aa:"lowercase"},this.setModel=function(e){this.model=this.model==e?"":e}},template:'<div class="dragifywp-ui__textTransform"><div class="dragifywp-ui__buttonGroup"><button class="dragifywp-ui__buttonGroup__btn"ng-repeat="(k, v) in $ctrl.sample"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model == v}"ng-click="$ctrl.setModel(v)"><span class="dragifywp-ui__textTransform__value" ng-bind="::k"></span></button></div></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdTextarea",{controller:function(){},template:'<textarea app-undo-redo class="dragifywp-ui__textarea" ng-trim="true" ng-model="$ctrl.model" rows="5" cols="20"  ng-model-options="{ debounce: 250 }"></textarea>',bindings:{model:"="}})},function(e,exports){"use strict";var t=0;angular.module("dragifywp.builder.app").component("dragifywpEdTinySwitch",{controller:function(){this.id="lbtswid-"+ ++t},template:'<div class="dragifywp-ui__tinySwitch"><input class="dragifywp-ui__tinySwitch__checkbox" type="checkbox" ng-model="$ctrl.model" id="{{::$ctrl.id}}"/><label class="dragifywp-ui__tinySwitch__btn" for="{{::$ctrl.id}}"><span class="dragifywp-ui__tinySwitch__btn__toggle"></span></label></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdUiSelect",{controller:function(){},template:'<ui-select ng-model="$ctrl.model" theme="selectize" style="width: 100%;" title="{{::$ctrl.config.title}}"><ui-select-match placeholder="{{::$ctrl.config.placeholder}}">{{$select.selected.key}}</ui-select-match><ui-select-choices repeat="item.value as item in $ctrl.config.options|filter: $select.search"><span ng-bind="item.key"></span></ui-select-choices></ui-select>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdUnit",{controller:["$scope",function(e){var t=this;void 0===this.config&&(this.config={}),this.config.hasOwnProperty("setting")||(this.config.setting={min:0,max:1e3,step:1}),this.config.hasOwnProperty("units")||(this.config.units=["px","em","%"]);var i=function(){var e=void 0,i=void 0,n=!0,o=!1,r=void 0;try{for(var a,l=t.config.units[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var s=a.value;if(-1!=(e=t.model.lastIndexOf(s))){i=s;break}}}catch(e){o=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw r}}if(-1!=e){var d=t.model.substring(0,e);isNaN(d)||(t.number=+d,t.unit=i)}else t.model="0"+t.config.units[0],t.number=0,t.unit=t.config.units[0]};"string"!=typeof this.model?(this.model="0"+this.config.units[0],this.number=0,this.unit=this.config.units[0]):i(),this.formModel=function(e){this.unit=e,this.model=this.number+this.unit},e.$watch("$ctrl.model",function(){i()}),this.updateNumber=function(e){this.number=e,this.model=this.number+this.unit}}],template:'<div class="dragifywp-ui__unit"><input dragnumber class="dragifywp-ui__unit__input"config="$ctrl.config.setting" type="number"app-undo-redo ng-model-options="{debounce: 250}"ng-model="$ctrl.number"on-update-number="$ctrl.updateNumber(number)"ng-change="$ctrl.model=$ctrl.number+$ctrl.unit"/><div class="dragifywp-ui__unit__selector"><span class="dragifywp-ui__unit__selector__btn"ng-repeat="unit in ::$ctrl.config.units"ng-class="{\'dragifywp-ui__unit__selector__btn--active\': $ctrl.unit == unit}"ng-click="$ctrl.formModel(unit)" ng-bind="::unit"></span></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("dragifywp.builder.app").component("dragifywpEdUploadImage",{controller:["$scope","$http",function(e,i){var n,o,r=this;"object"!==t(this.model)&&(this.model={url:""}),this.upload=function(){n=wp.media({title:"Upload or Choose from Media Library",button:{text:"Select Image"},multiple:!1}),n.on("select",function(){o=n.state().get("selection").first().toJSON(),void 0!==r.config&&void 0!==r.config.full&&r.config.full?i({method:"GET",cache:!0,url:angular.module("dragifywp.builder.app").__config.global_api+"/image-sizes",params:{id:o.id,url:o.url}}).then(function(e){r.model.url=o.url,r.model.id=o.id,r.model.padding=100*o.sizes.full.height/o.sizes.full.width,r.model.width=o.sizes.full.width,r.model.height=o.sizes.full.height,-1!=e.data?r.model.sizes=e.data:delete r.model.sizes},function(e){r.model.url=o.url,r.model.id=o.id,r.model.padding=100*o.sizes.full.height/o.sizes.full.width,r.model.width=o.sizes.full.width,r.model.height=o.sizes.full.height,delete r.model.sizes}):e.$apply(function(){r.model.url=o.url})}),n.open()},this.remove=function(){this.model.url=""}}],template:'<div class="dragifywp-ui__upload-image"><div class="dragifywp-ui__upload-image__empty" ng-show="!$ctrl.model.url" ng-click="$ctrl.upload()"><div class="dragifywp-ui__upload-image__empty__icon"><i class="lmr lmr-upload2"></i><span>Upload</span></div></div><div class="dragifywp-ui__upload-image__image" ng-class="::{\'dragifywp-ui__upload-image__image--contain\':$ctrl.config.contain}" ng-show="$ctrl.model.url" ng-style="{\'background-image\':\'url(\'+$ctrl.model.url+ \')\'}"><span title="Remove the Image" class="dragifywp-ui__upload-image__image__remove" ng-click="$ctrl.remove()"><i class="lmr lmr-trash2"></i></span><span title="Re-Upload Image" class="dragifywp-ui__upload-image__image__reupload" ng-click="$ctrl.upload()"><i class="lmr lmr-upload2"></i></span></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdUploadImageV2",{controller:["$scope",function(e){var t,i,n=this;this.upload=function(){t=wp.media({title:"Upload or Choose from Media Library",button:{text:"Select Image"},multiple:!1}),t.on("select",function(){i=t.state().get("selection").first().toJSON(),void 0!==n.config&&void 0!==n.config.full&&n.config.full?$http({method:"GET",cache:!0,url:angular.module("dragifywp.builder.app").__config.global_api+"/image-sizes",params:{id:i.id,url:i.url}}).then(function(e){n.model.url=i.url,n.model.id=i.id,n.model.padding=100*i.sizes.full.height/i.sizes.full.width,-1!=e.data?n.model.sizes=e.data:delete n.model.sizes},function(e){n.model.url=i.url,n.model.id=i.id,n.model.padding=100*i.sizes.full.height/i.sizes.full.width,delete n.model.sizes}):e.$apply(function(){n.model.url=i.url})}),t.open()},this.remove=function(){this.model.url=""},this.updatePosition=function(e){this.model.position=e}}],template:'<div class="dragifywp-ui__upload-image-v2" ng-class="{\'dragifywp-ui__upload-image-v2--empty\': !$ctrl.model.url}"><div class="dragifywp-ui__upload-image-v2__container"><div class="dragifywp-ui__upload-image-v2__empty" ng-click="$ctrl.upload()"><div class="dragifywp-ui__upload-image-v2__empty__icon"><span class="lmr lmr-upload2"></span>Upload Image </div></div><div class="dragifywp-ui__upload-image-v2__image"ng-style="{\'background-image\':\'url(\'+$ctrl.model.url+ \')\', \'background-position\':$ctrl.model.position}"drag-position model="$ctrl.model.position" on-update="$ctrl.updatePosition(position)"></div></div><div class="dragifywp-ui__upload-image-v2__btns"><span title="Re-upload" class="dragifywp-ui__upload-image-v2__btn-upload" ng-click="$ctrl.upload()"><i class="lmr lmr-upload2"></i> Upload</span><span title="Remove" class="dragifywp-ui__upload-image-v2__btn-remove" ng-click="$ctrl.remove()"><i class="lmr lmr-trash2"></i> Remove</span></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").component("dragifywpEdVAlign",{controller:function(){this.aligns={"align-left":"left","align-center-vertical":"center","align-right":"right"},this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="dragifywp-ui__buttonGroup"><button type="button" class="dragifywp-ui__buttonGroup__btn"ng-repeat="(icon, value) in ::$ctrl.aligns"ng-click="$ctrl.setModel(value)"ng-class="{\'dragifywp-ui__buttonGroup__btn--active\':$ctrl.model === value}"><i class="lmr lmr-{{::icon}}" ></i></button></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("appUndoRedo",["$DragifyWPService","$DragifyWPHotKeys",function(e,t){return{restrict:"A",link:function(i,n){Mousetrap(n[0]).bind(["mod+z"],function(n){return n.preventDefault(),t.active&&i.$apply(function(){e.commandManager.undo()}),!1}).bind(["mod+shift+z"],function(n){return n.preventDefault(),t.active&&i.$apply(function(){e.commandManager.redo()}),!1})}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragifywpAutoFocus",function(){return{restrict:"A",link:function(e,t,i){t.focus()}}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragnumber",["$document","$timeout",function(e,t){return{require:"ngModel",scope:{onUpdateNumber:"&",ngModel:"<",config:"<"},link:function(i,n,o){function r(e){t.cancel(l),l=t(function(){p=e.pageY-d,c=e.pageX-s;var t=p<0?Math.floor(-p/u):-Math.floor(p/u);t=Math.abs(t)>Math.abs(p)?-p:t;var n=parseInt(f)+t*i.config.step;n>i.config.max&&(n=i.config.max),n<i.config.min&&(n=i.config.min),i.onUpdateNumber({number:n})},10)}function a(){e.off("mousemove",r),e.off("mouseup",a),g.remove()}void 0==i.ngModel&&(i.ngModel=0);var l,s=0,d=0,c=0,p=0,f=0,u=300/((i.config.max-i.config.min)/i.config.step);n.css({cursor:"ns-resize"});var g=angular.element("<div></div>");g.css({zIndex:"9999999",position:"fixed",backgroundColor:"transparent",top:0,left:0,bottom:0,right:0,cursor:"ns-resize"}),n.on("mousedown",function(t){f=i.ngModel,s=t.pageX,d=t.pageY,e.on("mousemove",r),e.on("mouseup",a),angular.element("body").append(g)})}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragPosition",["$document","$timeout",function(e,t){return{restrict:"A",scope:{model:"<",onUpdate:"&"},link:function(i,n,o){function r(e){t.cancel(d),u=e.pageY-p,f=e.pageX-c,s=u<0?0:u>g?100:100*u/g,l=f<0?0:f>_?100:100*f/_,d=t(function(){i.onUpdate({position:l.toFixed(2)+"% "+s.toFixed(2)+"%"})},10)}function a(){e.off("mousemove",r),e.off("mouseup",a)}var l,s,d=void 0,c=0,p=0,f=0,u=0,g=n.height(),_=n.width();i.model||i.onUpdate({position:"50% 50%"});var m=angular.element('<span class="drag-point"></span>');n.append(m),i.$watch("model",function(){var e=i.model.split(" ");f=e[0],u=e[1],u=parseFloat(u.substring(0,u.length-1))*g/100,f=parseFloat(f.substring(0,f.length-1))*_/100,m.css({top:u+"px",left:f+"px"})}),m.on("mousedown",function(t){t.preventDefault(),c=t.pageX-f,p=t.pageY-u,e.on("mousemove",r),e.on("mouseup",a)})}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragifywpDragUnit",["$document","$timeout",function(e,t){return{require:"ngModel",scope:{ngChange:"&",ngModel:"=",config:"<",onUpdateKeypress:"&"},link:function(i,n,o){function r(e){t.cancel(l),l=t(function(){p=e.pageY-d,c=e.pageX-s;var n=p<0?Math.floor(-p/g):-Math.floor(p/g);n=Math.abs(n)>Math.abs(p)?-p:n,i.ngModel=parseInt(f)+n*i.config.step,i.ngModel>i.config.max&&(i.ngModel=i.config.max),i.ngModel<i.config.min&&(i.ngModel=i.config.min),i.ngModel+=u,i.onUpdateKeypress({meta:e.metaKey,shift:e.shiftKey}),void 0!==i.ngChange&&t(i.ngChange,0)},10)}function a(){e.off("mousemove",r),e.off("mouseup",a),_.remove(),i.onUpdateKeypress({meta:!1,shift:!1})}void 0===i.ngModel&&(i.ngModel="0px");var l=void 0,s=0,d=0,c=0,p=0,f=0,u="px",g=300/((i.config.max-i.config.min)/i.config.step);n.css({cursor:"ns-resize"}),n.on({keydown:function(e){if(32===e.which)return!1},change:function(){this.value=this.value.replace(/\s/g,"")}});var _=angular.element("<div></div>");_.css({zIndex:"9999999",position:"fixed",backgroundColor:"transparent",top:0,left:0,bottom:0,right:0,cursor:"ns-resize"}),n.on("mousedown",function(t){/^((\+?|-?)(\d+|\d+\.\d+))(px|em|\%|vh|vw)$/g.test(i.ngModel)||(i.ngModel="0px");var n=/^((\+?|-?)(\d+|\d+\.\d+))(px|em|\%|vh|vw)$/g.exec(i.ngModel);u=n[n.length-1],f=n[1],s=t.pageX,d=t.pageY,e.on("mousemove",r),e.on("mouseup",a),angular.element("body").append(_)})}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("embedFontSource",function(){return{restrict:"E",scope:{directiveModel:"<",selector:"@"},link:function(e,t,i){e.$watch("directiveModel",function(){if("google"==e.directiveModel.source){t.html("");var i=jQuery("<link rel='stylesheet'/>"),n=jQuery("<style type='text/css'></style>");if(t.append(i),t.append(n),e.directiveModel.google){var o=e.directiveModel.google.variant.match(/[0-9]+/g),r=e.directiveModel.google.variant.match(/[a-z]+/g),a=null!=o?o:"normal",l="normal";"regular"==r?(a="normal",l="normal"):"italic"==r&&(l="italic"),i.attr("href","https://fonts.googleapis.com/css?family="+e.directiveModel.google.family+":"+e.directiveModel.google.variant+"&subset="+e.directiveModel.google.subset),n.html(e.selector+"{font-family:"+e.directiveModel.google.family+";font-style:"+l+";font-weight:"+a+";}")}}else if("uploaded"==e.directiveModel.source){var s="";if(angular.module("dragifywp.builder.app").__config.uploaded_fonts.hasOwnProperty(e.directiveModel.uploaded)){var d=angular.module("dragifywp.builder.app").__config.uploaded_fonts[e.directiveModel.uploaded];if(d.enable){var c=d.family,p="";d.fallback&&(p=", "+d.fallback),c||(c="font_uploaded_"+e.directiveModel.uploaded),s='<style type="text/css">'+e.selector+" {font-family: '"+c+"'"+p+";}</style>"}}t.html(s)}else if("typekit"==e.directiveModel.source){var n="";e:for(var f in angular.module("dragifywp.builder.app").__config.typekit_fonts)if(angular.module("dragifywp.builder.app").__config.typekit_fonts[f].active){var u=!0,g=!1,_=void 0;try{for(var m,y=angular.module("dragifywp.builder.app").__config.typekit_fonts[f].fonts[Symbol.iterator]();!(u=(m=y.next()).done);u=!0){var v=m.value;if(v.id==e.directiveModel.typekit){var h="";v.fallback&&(h=", "+v.fallback),n='<style type="text/css">'+e.selector+" {font-family: '"+v.family+"'"+h+";}</style>";break e}}}catch(e){g=!0,_=e}finally{try{!u&&y.return&&y.return()}finally{if(g)throw _}}}t.html(n)}else t.html("")},!0)}}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,i,n){var o=e(n.fileModel),r=o.assign;i.bind("change",function(){t.$apply(function(){r(t,i[0].files[0])})})}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("googleFonts",["$http",function(e){return{restrict:"A",scope:{ngModel:"="},link:function(t,i,n){i.append('<div class="dragifywp-ui__loader__preload"><span></span><span></span><span></span></div>'),e.get("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBgzCr9pt5xS09me72S91tTaCmLtAzWkOE",{cache:!0}).then(function(e){var n=!1;t.$watch("ngModel",function(){function o(e,t){a&&a.empty(),g="";for(var n in e){var o=e[n]==t?" selected = 'selected' ":"";g+='<option value="'+e[n]+'"'+o+">"+e[n]+"</option>"}l?(l.select2("destroy"),l.append(g),l.select2()):(a.append(g),i.append(jQuery("<p class='dragifywp-ui-gf-label dragifywp-ui-gf-variants'>Variants</p>").append(a)),l=jQuery(a).select2())}function r(e,t){s&&s.empty(),_="";for(var n in e){var o=e[n]==t?" selected = 'selected' ":"";_+='<option value="'+e[n]+'"'+o+">"+e[n]+"</option>"}d?(d.select2("destroy"),d.append(_),d.select2()):(s.append(_),i.append(jQuery("<p class='dragifywp-ui-gf-label dragifywp-ui-gf-subsets'>Subsets</p>").append(s)),d=jQuery(s).select2())}if(n)return void(n=!1);var a,l,s,d,c,p=new Date,f=angular.element('<select id="dragifywp-google-fonts-'+p.getTime()+'" style="width: 100%"></select>'),u="",g="",_="";t.ngModel||(t.ngModel={family:"Open Sans",variant:"regular",subset:"latin"});for(var m in e.data.items){var y=e.data.items[m],v="";y.family==t.ngModel.family&&(v=" selected='selected'",c=y),u+='<option value="'+m+'"'+v+">"+y.family+"</option>"}i.html(""),i.append(f.append(u)),f.select2(),a=angular.element('<select id="google-fonts-variants-'+p.getTime()+'"></select>'),o(c.variants,t.ngModel.variant),s=angular.element('<select id="google-fonts-subsets-'+p.getTime()+'"></select>'),r(c.subsets,t.ngModel.subset),f.on("change",function(){n=!0;var i=e.data.items[jQuery(this).val()];t.$apply(function(){t.ngModel.family=i.family,t.ngModel.category=i.category,t.ngModel.variant=i.variants[0],t.ngModel.subset=i.subsets[0],o(i.variants,i.variants[0]),r(i.subsets,i.subsets[0])})}),l.on("change",function(){n=!0;var e=jQuery(this);t.$apply(function(){t.ngModel.variant=e.val()})}),d.on("change",function(){n=!0;var e=jQuery(this);t.$apply(function(){t.ngModel.subset=e.val()})})},!0)},function(e){i.addClass("dragifywp-ui__loader--fail"),i.html('<div class="dragifywp-ui__loader__failer">Error! Cannot get data.</div>')})}}}])},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragifywpSelection",function(){return{restrict:"E",scope:{list:"<",name:"<",model:"="},link:function(e,t,i){var n=new Date,o=angular.element('<select id="dragifywp-selection-'+n.getTime()+'" style="width: 100%;"></select>');t.html(o),o.select2();var r=!1;o.on("change",function(){if(r)return void(r=!1);e.$apply(function(){e.model=jQuery(o).val()})}),e.$watch("list",function(){if(Array.isArray(e.list)){o.html(""),o.append('<option value="">Select a '+e.name+"</option>");var t=!0,i=!1,n=void 0;try{for(var r,a=e.list[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var l=r.value,s=e.model==l.id?' selected="selected"':"";o.append('<option value="'+l.id+'"'+s+">"+l.name+"</option>")}}catch(e){i=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(i)throw n}}}}),e.$watch("model",function(){var t=!1,i=!0,n=!1,a=void 0;try{for(var l,s=e.list[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){if(l.value.id==e.model){t=!0;break}}}catch(e){n=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw a}}t||(e.model=""),r=!0,o.val(e.model).trigger("change")})}}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("dragifywpSlider",function(){return{restrict:"AE",scope:{model:"<",onUpdate:"&",config:"<"},link:function(e,t,i){var n=void 0,o=!1,r=t.find(".dragifywp-ui__slider");r.slider({orientation:"horizontal",range:"max",min:e.config.min,max:e.config.max,step:e.config.step,values:[e.model],slide:function(t,i){e.$apply(function(){e.onUpdate({v:i.value}),o=!0;var t=(i.value-e.config.min)*r.width()/(e.config.max-e.config.min);n.width(t)})},change:function(t,i){var o=(i.value-e.config.min)*r.width()/(e.config.max-e.config.min);n.width(o)},create:function(e,i){n=t.find(".ui-slider-range")}}),e.$watch("model",function(){if(o)return void(o=!1);void 0!==e.model&&r.slider("values",0,e.model)})},template:'<div class="dragifywp-ui__slider"></div>'}})},function(e,exports){"use strict";angular.module("dragifywp.builder.app").directive("uploadedFonts",function(){return{restrict:"A",scope:{ngModel:"="},link:function(e,t,i){var n=new Date,o=angular.element('<select id="dragifywp-uploaded-fonts-'+n.getTime()+'" style="width:100%"></select>');if(o.append('<option value="">Select a font</option>'),angular.module("dragifywp.builder.app").__config.uploaded_fonts)for(var r in angular.module("dragifywp.builder.app").__config.uploaded_fonts){var a=angular.module("dragifywp.builder.app").__config.uploaded_fonts[r];if(a.enable){var l="";r==e.ngModel&&(l=" selected"),o.append('<option value="'+r+'"'+l+">"+a.name+"</option>")}}t.html(o),o.select2();var s=!1;o.on("change",function(){if(s)return void(s=!1);var t=jQuery(this).val();e.$apply(function(){e.ngModel=t})}),e.$watch("ngModel",function(){s=!0,o.val(e.ngModel).trigger("change")})}}})},function(e,exports){"use strict";!function(e){var t=e.module("dragifywp.builder.app");t.filter("canberepeated",function(){return function(t,i){if(!t)return t;if(!i)return t;var n=(""+i).toLowerCase(),o={};return e.forEach(t,function(e,t){-1!==(""+e).toLowerCase().indexOf(n)&&(o[t]=e)}),o}}),t.filter("dropcap",["$sce",function(e){return function(t){var i="";return t.length&&(t=t.split(""),t[0]="<span class='dragifywp-dropcap__letter'>"+t[0]+"</span>",i=t.join("")),e.trustAsHtml(i)}}]),t.filter("trustashtml",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),t.filter("trustAsResourceUrl",["$sce",function(e){return function(t){return e.trustAsResourceUrl(t)}}]),t.filter("shorten",[function(){return function(e,t){return e.length>=t?e.substring(0,t-3)+"...":e}}]),t.filter("slash",function(){return function(e){return e?e.replace("-","/"):""}}),t.filter("plus",function(){return function(e){return e?e.replace(" ","+"):""}})}(window.angular)},function(e,exports){"use strict";!function(e){e.module("dragifywpPopup",["dragifywpService","dragifywpHotKeys"]).factory("$DragifyWPPopup",["$timeout","$rootScope","$DragifyWPService","$DragifyWPHotKeys",function(t,i,n,o){return{showFsPopup:function(t){if(!document.querySelector(".dragifywp-bs__fsPopup")){var i=e.element('<div class="dragifywp-bs__fsPopup"><h6 class="dragifywp-bs__fsPopup__title">'+t.title+'</h6><div class="dragifywp-bs__fsPopup__body">'+t.message+'</div><div class="dragifywp-bs__fsPopup__footer"></div></div><div class="dragifywp-bs__fsPopup__backdrop"></div>'),n=i.find(".dragifywp-bs__fsPopup__footer");e.element("body").append(i);var r=function(){i.remove(),"function"==typeof t.onClose&&t.onClose(i)},a=void 0;if(void 0===t.esc&&(t.esc=!0),t.esc?(a=function(){o.escKeyPressManager.execute()},o.escKeyPressManager.add(function(){return r(),!0})):a=function(){r()},Array.isArray(t.buttons))t.buttons.forEach(function(t){var i=e.element('<button class="dragifywp-ui__btn"></button>');t.hasOwnProperty("text")?i.html(t.text):i.html("Dismiss"),t.hasOwnProperty("class")?i.addClass(t.class):i.addClass("dragifywp-ui__btn--primary"),i.on("click",function(e){e.preventDefault(),"function"==typeof t.callback&&t.callback(),a()}),n.append(i)});else{var l=e.element('<button class="dragifywp-ui__btn dragifywp-ui__btn--primary">Dismiss</button>');n.append(l),l.on("click",function(e){e.preventDefault(),a()})}"function"==typeof t.onInit&&t.onInit(i)}}}}])}(window.angular)}]);